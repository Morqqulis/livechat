function Xy(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Jy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zy={exports:{}},tc={},e_={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ba=Symbol.for("react.element"),DS=Symbol.for("react.portal"),OS=Symbol.for("react.fragment"),LS=Symbol.for("react.strict_mode"),MS=Symbol.for("react.profiler"),FS=Symbol.for("react.provider"),US=Symbol.for("react.context"),$S=Symbol.for("react.forward_ref"),jS=Symbol.for("react.suspense"),zS=Symbol.for("react.memo"),VS=Symbol.for("react.lazy"),jm=Symbol.iterator;function BS(t){return t===null||typeof t!="object"?null:(t=jm&&t[jm]||t["@@iterator"],typeof t=="function"?t:null)}var t_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n_=Object.assign,r_={};function Gs(t,e,n){this.props=t,this.context=e,this.refs=r_,this.updater=n||t_}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i_(){}i_.prototype=Gs.prototype;function wh(t,e,n){this.props=t,this.context=e,this.refs=r_,this.updater=n||t_}var Eh=wh.prototype=new i_;Eh.constructor=wh;n_(Eh,Gs.prototype);Eh.isPureReactComponent=!0;var zm=Array.isArray,s_=Object.prototype.hasOwnProperty,Sh={current:null},o_={key:!0,ref:!0,__self:!0,__source:!0};function a_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)s_.call(e,r)&&!o_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ba,type:t,key:s,ref:o,props:i,_owner:Sh.current}}function WS(t,e){return{$$typeof:ba,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ch(t){return typeof t=="object"&&t!==null&&t.$$typeof===ba}function HS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vm=/\/+/g;function Vc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HS(""+t.key):e.toString(36)}function Nl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ba:case DS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Vc(o,0):r,zm(i)?(n="",t!=null&&(n=t.replace(Vm,"$&/")+"/"),Nl(i,e,n,"",function(u){return u})):i!=null&&(Ch(i)&&(i=WS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",zm(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Vc(s,a);o+=Nl(s,e,n,l,i)}else if(l=BS(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Vc(s,a++),o+=Nl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function il(t,e,n){if(t==null)return t;var r=[],i=0;return Nl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function GS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},xl={transition:null},KS={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:xl,ReactCurrentOwner:Sh};function l_(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:il,forEach:function(t,e,n){il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return il(t,function(){e++}),e},toArray:function(t){return il(t,function(e){return e})||[]},only:function(t){if(!Ch(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Gs;me.Fragment=OS;me.Profiler=MS;me.PureComponent=wh;me.StrictMode=LS;me.Suspense=jS;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KS;me.act=l_;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=n_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Sh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)s_.call(e,l)&&!o_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ba,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:US,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FS,_context:t},t.Consumer=t};me.createElement=a_;me.createFactory=function(t){var e=a_.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:$S,render:t}};me.isValidElement=Ch;me.lazy=function(t){return{$$typeof:VS,_payload:{_status:-1,_result:t},_init:GS}};me.memo=function(t,e){return{$$typeof:zS,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=xl.transition;xl.transition={};try{t()}finally{xl.transition=e}};me.unstable_act=l_;me.useCallback=function(t,e){return Dt.current.useCallback(t,e)};me.useContext=function(t){return Dt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Dt.current.useEffect(t,e)};me.useId=function(){return Dt.current.useId()};me.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Dt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};me.useRef=function(t){return Dt.current.useRef(t)};me.useState=function(t){return Dt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Dt.current.useTransition()};me.version="18.3.1";e_.exports=me;var P=e_.exports;const ie=Jy(P),qS=Xy({__proto__:null,default:ie},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS=P,QS=Symbol.for("react.element"),XS=Symbol.for("react.fragment"),JS=Object.prototype.hasOwnProperty,ZS=YS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eC={key:!0,ref:!0,__self:!0,__source:!0};function u_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JS.call(e,r)&&!eC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:QS,type:t,key:s,ref:o,props:i,_owner:ZS.current}}tc.Fragment=XS;tc.jsx=u_;tc.jsxs=u_;Zy.exports=tc;var B=Zy.exports,jd={},c_={exports:{}},Zt={},d_={exports:{}},f_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,V){var Y=b.length;b.push(V);e:for(;0<Y;){var se=Y-1>>>1,Z=b[se];if(0<i(Z,V))b[se]=V,b[Y]=Z,Y=se;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var V=b[0],Y=b.pop();if(Y!==V){b[0]=Y;e:for(var se=0,Z=b.length,ke=Z>>>1;se<ke;){var Se=2*(se+1)-1,Ce=b[Se],we=Se+1,be=b[we];if(0>i(Ce,Y))we<Z&&0>i(be,Ce)?(b[se]=be,b[we]=Y,se=we):(b[se]=Ce,b[Se]=Y,se=Se);else if(we<Z&&0>i(be,Y))b[se]=be,b[we]=Y,se=we;else break e}}return V}function i(b,V){var Y=b.sortIndex-V.sortIndex;return Y!==0?Y:b.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,g=!1,v=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(b){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=b)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function E(b){if(_=!1,p(b),!v)if(n(l)!==null)v=!0,xe(k);else{var V=n(u);V!==null&&ge(E,V.startTime-b)}}function k(b,V){v=!1,_&&(_=!1,m(R),R=-1),g=!0;var Y=f;try{for(p(V),d=n(l);d!==null&&(!(d.expirationTime>V)||b&&!J());){var se=d.callback;if(typeof se=="function"){d.callback=null,f=d.priorityLevel;var Z=se(d.expirationTime<=V);V=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&r(l),p(V)}else r(l);d=n(l)}if(d!==null)var ke=!0;else{var Se=n(u);Se!==null&&ge(E,Se.startTime-V),ke=!1}return ke}finally{d=null,f=Y,g=!1}}var A=!1,y=null,R=-1,D=5,O=-1;function J(){return!(t.unstable_now()-O<D)}function z(){if(y!==null){var b=t.unstable_now();O=b;var V=!0;try{V=y(!0,b)}finally{V?K():(A=!1,y=null)}}else A=!1}var K;if(typeof h=="function")K=function(){h(z)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,fe=ee.port2;ee.port1.onmessage=z,K=function(){fe.postMessage(null)}}else K=function(){I(z,0)};function xe(b){y=b,A||(A=!0,K())}function ge(b,V){R=I(function(){b(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,xe(k))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(b){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var Y=f;f=V;try{return b()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,V){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var Y=f;f=b;try{return V()}finally{f=Y}},t.unstable_scheduleCallback=function(b,V,Y){var se=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?se+Y:se):Y=se,b){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,b={id:c++,callback:V,priorityLevel:b,startTime:Y,expirationTime:Z,sortIndex:-1},Y>se?(b.sortIndex=Y,e(u,b),n(l)===null&&b===n(u)&&(_?(m(R),R=-1):_=!0,ge(E,Y-se))):(b.sortIndex=Z,e(l,b),v||g||(v=!0,xe(k))),b},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(b){var V=f;return function(){var Y=f;f=V;try{return b.apply(this,arguments)}finally{f=Y}}}})(f_);d_.exports=f_;var tC=d_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC=P,Jt=tC;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h_=new Set,Jo={};function $i(t,e){Ps(t,e),Ps(t+"Capture",e)}function Ps(t,e){for(Jo[t]=e,t=0;t<e.length;t++)h_.add(e[t])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zd=Object.prototype.hasOwnProperty,rC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bm={},Wm={};function iC(t){return zd.call(Wm,t)?!0:zd.call(Bm,t)?!1:rC.test(t)?Wm[t]=!0:(Bm[t]=!0,!1)}function sC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oC(t,e,n,r){if(e===null||typeof e>"u"||sC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ih=/[\-:]([a-z])/g;function Th(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ih,Th);wt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ih,Th);wt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ih,Th);wt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function kh(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oC(e,n,i,r)&&(n=null),r||i===null?iC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fr=nC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sl=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),Vd=Symbol.for("react.profiler"),p_=Symbol.for("react.provider"),m_=Symbol.for("react.context"),Ph=Symbol.for("react.forward_ref"),Bd=Symbol.for("react.suspense"),Wd=Symbol.for("react.suspense_list"),Nh=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),g_=Symbol.for("react.offscreen"),Hm=Symbol.iterator;function uo(t){return t===null||typeof t!="object"?null:(t=Hm&&t[Hm]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Bc;function ko(t){if(Bc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bc=e&&e[1]||""}return`
`+Bc+t}var Wc=!1;function Hc(t,e){if(!t||Wc)return"";Wc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ko(t):""}function aC(t){switch(t.tag){case 5:return ko(t.type);case 16:return ko("Lazy");case 13:return ko("Suspense");case 19:return ko("SuspenseList");case 0:case 2:case 15:return t=Hc(t.type,!1),t;case 11:return t=Hc(t.type.render,!1),t;case 1:return t=Hc(t.type,!0),t;default:return""}}function Hd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ts:return"Fragment";case es:return"Portal";case Vd:return"Profiler";case Rh:return"StrictMode";case Bd:return"Suspense";case Wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case m_:return(t.displayName||"Context")+".Consumer";case p_:return(t._context.displayName||"Context")+".Provider";case Ph:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nh:return e=t.displayName||null,e!==null?e:Hd(t.type)||"Memo";case Er:e=t._payload,t=t._init;try{return Hd(t(e))}catch{}}return null}function lC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hd(e);case 8:return e===Rh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uC(t){var e=v_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ol(t){t._valueTracker||(t._valueTracker=uC(t))}function y_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=v_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gd(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function __(t,e){e=e.checked,e!=null&&kh(t,"checked",e,!1)}function Kd(t,e){__(t,e);var n=Hr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qd(t,e.type,n):e.hasOwnProperty("defaultValue")&&qd(t,e.type,Hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Km(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qd(t,e,n){(e!=="number"||Zl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ro=Array.isArray;function gs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Ro(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hr(n)}}function w_(t,e){var n=Hr(e.value),r=Hr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ym(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var al,S_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=al.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cC=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(t){cC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Do[e]=Do[t]})});function C_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Do.hasOwnProperty(t)&&Do[t]?(""+e).trim():e+"px"}function I_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=C_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dC=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xd(t,e){if(e){if(dC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Jd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zd=null;function xh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ef=null,vs=null,ys=null;function Qm(t){if(t=La(t)){if(typeof ef!="function")throw Error(L(280));var e=t.stateNode;e&&(e=oc(e),ef(t.stateNode,t.type,e))}}function T_(t){vs?ys?ys.push(t):ys=[t]:vs=t}function k_(){if(vs){var t=vs,e=ys;if(ys=vs=null,Qm(t),e)for(t=0;t<e.length;t++)Qm(e[t])}}function R_(t,e){return t(e)}function P_(){}var Gc=!1;function N_(t,e,n){if(Gc)return t(e,n);Gc=!0;try{return R_(t,e,n)}finally{Gc=!1,(vs!==null||ys!==null)&&(P_(),k_())}}function ea(t,e){var n=t.stateNode;if(n===null)return null;var r=oc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var tf=!1;if(sr)try{var co={};Object.defineProperty(co,"passive",{get:function(){tf=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{tf=!1}function fC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Oo=!1,eu=null,tu=!1,nf=null,hC={onError:function(t){Oo=!0,eu=t}};function pC(t,e,n,r,i,s,o,a,l){Oo=!1,eu=null,fC.apply(hC,arguments)}function mC(t,e,n,r,i,s,o,a,l){if(pC.apply(this,arguments),Oo){if(Oo){var u=eu;Oo=!1,eu=null}else throw Error(L(198));tu||(tu=!0,nf=u)}}function ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xm(t){if(ji(t)!==t)throw Error(L(188))}function gC(t){var e=t.alternate;if(!e){if(e=ji(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xm(i),t;if(s===r)return Xm(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function A_(t){return t=gC(t),t!==null?b_(t):null}function b_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b_(t);if(e!==null)return e;t=t.sibling}return null}var D_=Jt.unstable_scheduleCallback,Jm=Jt.unstable_cancelCallback,vC=Jt.unstable_shouldYield,yC=Jt.unstable_requestPaint,Xe=Jt.unstable_now,_C=Jt.unstable_getCurrentPriorityLevel,Ah=Jt.unstable_ImmediatePriority,O_=Jt.unstable_UserBlockingPriority,nu=Jt.unstable_NormalPriority,wC=Jt.unstable_LowPriority,L_=Jt.unstable_IdlePriority,nc=null,$n=null;function EC(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(nc,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:IC,SC=Math.log,CC=Math.LN2;function IC(t){return t>>>=0,t===0?32:31-(SC(t)/CC|0)|0}var ll=64,ul=4194304;function Po(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Po(a):(s&=o,s!==0&&(r=Po(s)))}else o=n&~i,o!==0?r=Po(o):s!==0&&(r=Po(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rn(e),i=1<<n,r|=t[n],e&=~i;return r}function TC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=TC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function rf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M_(){var t=ll;return ll<<=1,!(ll&4194240)&&(ll=64),t}function Kc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Da(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function RC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function bh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function F_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var U_,Dh,$_,j_,z_,sf=!1,cl=[],Dr=null,Or=null,Lr=null,ta=new Map,na=new Map,Cr=[],PC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zm(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(e.pointerId)}}function fo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=La(e),e!==null&&Dh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NC(t,e,n,r,i){switch(e){case"focusin":return Dr=fo(Dr,t,e,n,r,i),!0;case"dragenter":return Or=fo(Or,t,e,n,r,i),!0;case"mouseover":return Lr=fo(Lr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ta.set(s,fo(ta.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,na.set(s,fo(na.get(s)||null,t,e,n,r,i)),!0}return!1}function V_(t){var e=ci(t.target);if(e!==null){var n=ji(e);if(n!==null){if(e=n.tag,e===13){if(e=x_(n),e!==null){t.blockedOn=e,z_(t.priority,function(){$_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Al(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=of(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zd=r,n.target.dispatchEvent(r),Zd=null}else return e=La(n),e!==null&&Dh(e),t.blockedOn=n,!1;e.shift()}return!0}function eg(t,e,n){Al(t)&&n.delete(e)}function xC(){sf=!1,Dr!==null&&Al(Dr)&&(Dr=null),Or!==null&&Al(Or)&&(Or=null),Lr!==null&&Al(Lr)&&(Lr=null),ta.forEach(eg),na.forEach(eg)}function ho(t,e){t.blockedOn===e&&(t.blockedOn=null,sf||(sf=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,xC)))}function ra(t){function e(i){return ho(i,t)}if(0<cl.length){ho(cl[0],t);for(var n=1;n<cl.length;n++){var r=cl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dr!==null&&ho(Dr,t),Or!==null&&ho(Or,t),Lr!==null&&ho(Lr,t),ta.forEach(e),na.forEach(e),n=0;n<Cr.length;n++)r=Cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)V_(n),n.blockedOn===null&&Cr.shift()}var _s=fr.ReactCurrentBatchConfig,iu=!0;function AC(t,e,n,r){var i=Pe,s=_s.transition;_s.transition=null;try{Pe=1,Oh(t,e,n,r)}finally{Pe=i,_s.transition=s}}function bC(t,e,n,r){var i=Pe,s=_s.transition;_s.transition=null;try{Pe=4,Oh(t,e,n,r)}finally{Pe=i,_s.transition=s}}function Oh(t,e,n,r){if(iu){var i=of(t,e,n,r);if(i===null)rd(t,e,r,su,n),Zm(t,r);else if(NC(i,t,e,n,r))r.stopPropagation();else if(Zm(t,r),e&4&&-1<PC.indexOf(t)){for(;i!==null;){var s=La(i);if(s!==null&&U_(s),s=of(t,e,n,r),s===null&&rd(t,e,r,su,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rd(t,e,r,null,n)}}var su=null;function of(t,e,n,r){if(su=null,t=xh(r),t=ci(t),t!==null)if(e=ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=x_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return su=t,null}function B_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_C()){case Ah:return 1;case O_:return 4;case nu:case wC:return 16;case L_:return 536870912;default:return 16}default:return 16}}var Nr=null,Lh=null,bl=null;function W_(){if(bl)return bl;var t,e=Lh,n=e.length,r,i="value"in Nr?Nr.value:Nr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bl=i.slice(t,1<r?1-r:void 0)}function Dl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dl(){return!0}function tg(){return!1}function en(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dl:tg,this.isPropagationStopped=tg,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),e}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mh=en(Ks),Oa=Ke({},Ks,{view:0,detail:0}),DC=en(Oa),qc,Yc,po,rc=Ke({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==po&&(po&&t.type==="mousemove"?(qc=t.screenX-po.screenX,Yc=t.screenY-po.screenY):Yc=qc=0,po=t),qc)},movementY:function(t){return"movementY"in t?t.movementY:Yc}}),ng=en(rc),OC=Ke({},rc,{dataTransfer:0}),LC=en(OC),MC=Ke({},Oa,{relatedTarget:0}),Qc=en(MC),FC=Ke({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),UC=en(FC),$C=Ke({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jC=en($C),zC=Ke({},Ks,{data:0}),rg=en(zC),VC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WC[t])?!!e[t]:!1}function Fh(){return HC}var GC=Ke({},Oa,{key:function(t){if(t.key){var e=VC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fh,charCode:function(t){return t.type==="keypress"?Dl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KC=en(GC),qC=Ke({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ig=en(qC),YC=Ke({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fh}),QC=en(YC),XC=Ke({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),JC=en(XC),ZC=Ke({},rc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eI=en(ZC),tI=[9,13,27,32],Uh=sr&&"CompositionEvent"in window,Lo=null;sr&&"documentMode"in document&&(Lo=document.documentMode);var nI=sr&&"TextEvent"in window&&!Lo,H_=sr&&(!Uh||Lo&&8<Lo&&11>=Lo),sg=" ",og=!1;function G_(t,e){switch(t){case"keyup":return tI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ns=!1;function rI(t,e){switch(t){case"compositionend":return K_(e);case"keypress":return e.which!==32?null:(og=!0,sg);case"textInput":return t=e.data,t===sg&&og?null:t;default:return null}}function iI(t,e){if(ns)return t==="compositionend"||!Uh&&G_(t,e)?(t=W_(),bl=Lh=Nr=null,ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return H_&&e.locale!=="ko"?null:e.data;default:return null}}var sI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sI[t.type]:e==="textarea"}function q_(t,e,n,r){T_(r),e=ou(e,"onChange"),0<e.length&&(n=new Mh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mo=null,ia=null;function oI(t){s0(t,0)}function ic(t){var e=ss(t);if(y_(e))return t}function aI(t,e){if(t==="change")return e}var Y_=!1;if(sr){var Xc;if(sr){var Jc="oninput"in document;if(!Jc){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),Jc=typeof lg.oninput=="function"}Xc=Jc}else Xc=!1;Y_=Xc&&(!document.documentMode||9<document.documentMode)}function ug(){Mo&&(Mo.detachEvent("onpropertychange",Q_),ia=Mo=null)}function Q_(t){if(t.propertyName==="value"&&ic(ia)){var e=[];q_(e,ia,t,xh(t)),N_(oI,e)}}function lI(t,e,n){t==="focusin"?(ug(),Mo=e,ia=n,Mo.attachEvent("onpropertychange",Q_)):t==="focusout"&&ug()}function uI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ic(ia)}function cI(t,e){if(t==="click")return ic(e)}function dI(t,e){if(t==="input"||t==="change")return ic(e)}function fI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:fI;function sa(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zd.call(e,i)||!bn(t[i],e[i]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dg(t,e){var n=cg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cg(n)}}function X_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J_(){for(var t=window,e=Zl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zl(t.document)}return e}function $h(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hI(t){var e=J_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&X_(n.ownerDocument.documentElement,n)){if(r!==null&&$h(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=dg(n,s);var o=dg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pI=sr&&"documentMode"in document&&11>=document.documentMode,rs=null,af=null,Fo=null,lf=!1;function fg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lf||rs==null||rs!==Zl(r)||(r=rs,"selectionStart"in r&&$h(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fo&&sa(Fo,r)||(Fo=r,r=ou(af,"onSelect"),0<r.length&&(e=new Mh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rs)))}function fl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var is={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},Zc={},Z_={};sr&&(Z_=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function sc(t){if(Zc[t])return Zc[t];if(!is[t])return t;var e=is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z_)return Zc[t]=e[n];return t}var e0=sc("animationend"),t0=sc("animationiteration"),n0=sc("animationstart"),r0=sc("transitionend"),i0=new Map,hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(t,e){i0.set(t,e),$i(e,[t])}for(var ed=0;ed<hg.length;ed++){var td=hg[ed],mI=td.toLowerCase(),gI=td[0].toUpperCase()+td.slice(1);Qr(mI,"on"+gI)}Qr(e0,"onAnimationEnd");Qr(t0,"onAnimationIteration");Qr(n0,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(r0,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function pg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mC(r,e,void 0,t),t.currentTarget=null}function s0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;pg(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;pg(i,a,u),s=l}}}if(tu)throw t=nf,tu=!1,nf=null,t}function Le(t,e){var n=e[hf];n===void 0&&(n=e[hf]=new Set);var r=t+"__bubble";n.has(r)||(o0(e,t,2,!1),n.add(r))}function nd(t,e,n){var r=0;e&&(r|=4),o0(n,t,r,e)}var hl="_reactListening"+Math.random().toString(36).slice(2);function oa(t){if(!t[hl]){t[hl]=!0,h_.forEach(function(n){n!=="selectionchange"&&(vI.has(n)||nd(n,!1,t),nd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hl]||(e[hl]=!0,nd("selectionchange",!1,e))}}function o0(t,e,n,r){switch(B_(e)){case 1:var i=AC;break;case 4:i=bC;break;default:i=Oh}n=i.bind(null,e,n,t),i=void 0,!tf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ci(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}N_(function(){var u=s,c=xh(n),d=[];e:{var f=i0.get(t);if(f!==void 0){var g=Mh,v=t;switch(t){case"keypress":if(Dl(n)===0)break e;case"keydown":case"keyup":g=KC;break;case"focusin":v="focus",g=Qc;break;case"focusout":v="blur",g=Qc;break;case"beforeblur":case"afterblur":g=Qc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=LC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=QC;break;case e0:case t0:case n0:g=UC;break;case r0:g=JC;break;case"scroll":g=DC;break;case"wheel":g=eI;break;case"copy":case"cut":case"paste":g=jC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ig}var _=(e&4)!==0,I=!_&&t==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var h=u,p;h!==null;){p=h;var E=p.stateNode;if(p.tag===5&&E!==null&&(p=E,m!==null&&(E=ea(h,m),E!=null&&_.push(aa(h,E,p)))),I)break;h=h.return}0<_.length&&(f=new g(f,v,null,n,c),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Zd&&(v=n.relatedTarget||n.fromElement)&&(ci(v)||v[or]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?ci(v):null,v!==null&&(I=ji(v),v!==I||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(_=ng,E="onMouseLeave",m="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(_=ig,E="onPointerLeave",m="onPointerEnter",h="pointer"),I=g==null?f:ss(g),p=v==null?f:ss(v),f=new _(E,h+"leave",g,n,c),f.target=I,f.relatedTarget=p,E=null,ci(c)===u&&(_=new _(m,h+"enter",v,n,c),_.target=p,_.relatedTarget=I,E=_),I=E,g&&v)t:{for(_=g,m=v,h=0,p=_;p;p=Yi(p))h++;for(p=0,E=m;E;E=Yi(E))p++;for(;0<h-p;)_=Yi(_),h--;for(;0<p-h;)m=Yi(m),p--;for(;h--;){if(_===m||m!==null&&_===m.alternate)break t;_=Yi(_),m=Yi(m)}_=null}else _=null;g!==null&&mg(d,f,g,_,!1),v!==null&&I!==null&&mg(d,I,v,_,!0)}}e:{if(f=u?ss(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=aI;else if(ag(f))if(Y_)k=dI;else{k=uI;var A=lI}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=cI);if(k&&(k=k(t,u))){q_(d,k,n,c);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&qd(f,"number",f.value)}switch(A=u?ss(u):window,t){case"focusin":(ag(A)||A.contentEditable==="true")&&(rs=A,af=u,Fo=null);break;case"focusout":Fo=af=rs=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,fg(d,n,c);break;case"selectionchange":if(pI)break;case"keydown":case"keyup":fg(d,n,c)}var y;if(Uh)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ns?G_(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(H_&&n.locale!=="ko"&&(ns||R!=="onCompositionStart"?R==="onCompositionEnd"&&ns&&(y=W_()):(Nr=c,Lh="value"in Nr?Nr.value:Nr.textContent,ns=!0)),A=ou(u,R),0<A.length&&(R=new rg(R,t,null,n,c),d.push({event:R,listeners:A}),y?R.data=y:(y=K_(n),y!==null&&(R.data=y)))),(y=nI?rI(t,n):iI(t,n))&&(u=ou(u,"onBeforeInput"),0<u.length&&(c=new rg("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=y))}s0(d,e)})}function aa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ou(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ea(t,n),s!=null&&r.unshift(aa(t,s,i)),s=ea(t,e),s!=null&&r.push(aa(t,s,i))),t=t.return}return r}function Yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ea(n,s),l!=null&&o.unshift(aa(n,l,a))):i||(l=ea(n,s),l!=null&&o.push(aa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yI=/\r\n?/g,_I=/\u0000|\uFFFD/g;function gg(t){return(typeof t=="string"?t:""+t).replace(yI,`
`).replace(_I,"")}function pl(t,e,n){if(e=gg(e),gg(t)!==e&&n)throw Error(L(425))}function au(){}var uf=null,cf=null;function df(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ff=typeof setTimeout=="function"?setTimeout:void 0,wI=typeof clearTimeout=="function"?clearTimeout:void 0,vg=typeof Promise=="function"?Promise:void 0,EI=typeof queueMicrotask=="function"?queueMicrotask:typeof vg<"u"?function(t){return vg.resolve(null).then(t).catch(SI)}:ff;function SI(t){setTimeout(function(){throw t})}function id(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ra(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ra(e)}function Mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Fn="__reactFiber$"+qs,la="__reactProps$"+qs,or="__reactContainer$"+qs,hf="__reactEvents$"+qs,CI="__reactListeners$"+qs,II="__reactHandles$"+qs;function ci(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[or]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yg(t);t!==null;){if(n=t[Fn])return n;t=yg(t)}return e}t=n,n=t.parentNode}return null}function La(t){return t=t[Fn]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function oc(t){return t[la]||null}var pf=[],os=-1;function Xr(t){return{current:t}}function $e(t){0>os||(t.current=pf[os],pf[os]=null,os--)}function Oe(t,e){os++,pf[os]=t.current,t.current=e}var Gr={},Tt=Xr(Gr),zt=Xr(!1),Ti=Gr;function Ns(t,e){var n=t.type.contextTypes;if(!n)return Gr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vt(t){return t=t.childContextTypes,t!=null}function lu(){$e(zt),$e(Tt)}function _g(t,e,n){if(Tt.current!==Gr)throw Error(L(168));Oe(Tt,e),Oe(zt,n)}function a0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,lC(t)||"Unknown",i));return Ke({},n,r)}function uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gr,Ti=Tt.current,Oe(Tt,t),Oe(zt,zt.current),!0}function wg(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=a0(t,e,Ti),r.__reactInternalMemoizedMergedChildContext=t,$e(zt),$e(Tt),Oe(Tt,t)):$e(zt),Oe(zt,n)}var Kn=null,ac=!1,sd=!1;function l0(t){Kn===null?Kn=[t]:Kn.push(t)}function TI(t){ac=!0,l0(t)}function Jr(){if(!sd&&Kn!==null){sd=!0;var t=0,e=Pe;try{var n=Kn;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kn=null,ac=!1}catch(i){throw Kn!==null&&(Kn=Kn.slice(t+1)),D_(Ah,Jr),i}finally{Pe=e,sd=!1}}return null}var as=[],ls=0,cu=null,du=0,an=[],ln=0,ki=null,Yn=1,Qn="";function oi(t,e){as[ls++]=du,as[ls++]=cu,cu=t,du=e}function u0(t,e,n){an[ln++]=Yn,an[ln++]=Qn,an[ln++]=ki,ki=t;var r=Yn;t=Qn;var i=32-Rn(r)-1;r&=~(1<<i),n+=1;var s=32-Rn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yn=1<<32-Rn(e)+i|n<<i|r,Qn=s+t}else Yn=1<<s|n<<i|r,Qn=t}function jh(t){t.return!==null&&(oi(t,1),u0(t,1,0))}function zh(t){for(;t===cu;)cu=as[--ls],as[ls]=null,du=as[--ls],as[ls]=null;for(;t===ki;)ki=an[--ln],an[ln]=null,Qn=an[--ln],an[ln]=null,Yn=an[--ln],an[ln]=null}var Xt=null,Yt=null,Be=!1,En=null;function c0(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Eg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=Mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ki!==null?{id:Yn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Yt=null,!0):!1;default:return!1}}function mf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gf(t){if(Be){var e=Yt;if(e){var n=e;if(!Eg(t,e)){if(mf(t))throw Error(L(418));e=Mr(n.nextSibling);var r=Xt;e&&Eg(t,e)?c0(r,n):(t.flags=t.flags&-4097|2,Be=!1,Xt=t)}}else{if(mf(t))throw Error(L(418));t.flags=t.flags&-4097|2,Be=!1,Xt=t}}}function Sg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function ml(t){if(t!==Xt)return!1;if(!Be)return Sg(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!df(t.type,t.memoizedProps)),e&&(e=Yt)){if(mf(t))throw d0(),Error(L(418));for(;e;)c0(t,e),e=Mr(e.nextSibling)}if(Sg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=Mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Xt?Mr(t.stateNode.nextSibling):null;return!0}function d0(){for(var t=Yt;t;)t=Mr(t.nextSibling)}function xs(){Yt=Xt=null,Be=!1}function Vh(t){En===null?En=[t]:En.push(t)}var kI=fr.ReactCurrentBatchConfig;function mo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function gl(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cg(t){var e=t._init;return e(t._payload)}function f0(t){function e(m,h){if(t){var p=m.deletions;p===null?(m.deletions=[h],m.flags|=16):p.push(h)}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=jr(m,h),m.index=0,m.sibling=null,m}function s(m,h,p){return m.index=p,t?(p=m.alternate,p!==null?(p=p.index,p<h?(m.flags|=2,h):p):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,h,p,E){return h===null||h.tag!==6?(h=fd(p,m.mode,E),h.return=m,h):(h=i(h,p),h.return=m,h)}function l(m,h,p,E){var k=p.type;return k===ts?c(m,h,p.props.children,E,p.key):h!==null&&(h.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Er&&Cg(k)===h.type)?(E=i(h,p.props),E.ref=mo(m,h,p),E.return=m,E):(E=jl(p.type,p.key,p.props,null,m.mode,E),E.ref=mo(m,h,p),E.return=m,E)}function u(m,h,p,E){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=hd(p,m.mode,E),h.return=m,h):(h=i(h,p.children||[]),h.return=m,h)}function c(m,h,p,E,k){return h===null||h.tag!==7?(h=Ei(p,m.mode,E,k),h.return=m,h):(h=i(h,p),h.return=m,h)}function d(m,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=fd(""+h,m.mode,p),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case sl:return p=jl(h.type,h.key,h.props,null,m.mode,p),p.ref=mo(m,null,h),p.return=m,p;case es:return h=hd(h,m.mode,p),h.return=m,h;case Er:var E=h._init;return d(m,E(h._payload),p)}if(Ro(h)||uo(h))return h=Ei(h,m.mode,p,null),h.return=m,h;gl(m,h)}return null}function f(m,h,p,E){var k=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:a(m,h,""+p,E);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case sl:return p.key===k?l(m,h,p,E):null;case es:return p.key===k?u(m,h,p,E):null;case Er:return k=p._init,f(m,h,k(p._payload),E)}if(Ro(p)||uo(p))return k!==null?null:c(m,h,p,E,null);gl(m,p)}return null}function g(m,h,p,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(p)||null,a(h,m,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case sl:return m=m.get(E.key===null?p:E.key)||null,l(h,m,E,k);case es:return m=m.get(E.key===null?p:E.key)||null,u(h,m,E,k);case Er:var A=E._init;return g(m,h,p,A(E._payload),k)}if(Ro(E)||uo(E))return m=m.get(p)||null,c(h,m,E,k,null);gl(h,E)}return null}function v(m,h,p,E){for(var k=null,A=null,y=h,R=h=0,D=null;y!==null&&R<p.length;R++){y.index>R?(D=y,y=null):D=y.sibling;var O=f(m,y,p[R],E);if(O===null){y===null&&(y=D);break}t&&y&&O.alternate===null&&e(m,y),h=s(O,h,R),A===null?k=O:A.sibling=O,A=O,y=D}if(R===p.length)return n(m,y),Be&&oi(m,R),k;if(y===null){for(;R<p.length;R++)y=d(m,p[R],E),y!==null&&(h=s(y,h,R),A===null?k=y:A.sibling=y,A=y);return Be&&oi(m,R),k}for(y=r(m,y);R<p.length;R++)D=g(y,m,R,p[R],E),D!==null&&(t&&D.alternate!==null&&y.delete(D.key===null?R:D.key),h=s(D,h,R),A===null?k=D:A.sibling=D,A=D);return t&&y.forEach(function(J){return e(m,J)}),Be&&oi(m,R),k}function _(m,h,p,E){var k=uo(p);if(typeof k!="function")throw Error(L(150));if(p=k.call(p),p==null)throw Error(L(151));for(var A=k=null,y=h,R=h=0,D=null,O=p.next();y!==null&&!O.done;R++,O=p.next()){y.index>R?(D=y,y=null):D=y.sibling;var J=f(m,y,O.value,E);if(J===null){y===null&&(y=D);break}t&&y&&J.alternate===null&&e(m,y),h=s(J,h,R),A===null?k=J:A.sibling=J,A=J,y=D}if(O.done)return n(m,y),Be&&oi(m,R),k;if(y===null){for(;!O.done;R++,O=p.next())O=d(m,O.value,E),O!==null&&(h=s(O,h,R),A===null?k=O:A.sibling=O,A=O);return Be&&oi(m,R),k}for(y=r(m,y);!O.done;R++,O=p.next())O=g(y,m,R,O.value,E),O!==null&&(t&&O.alternate!==null&&y.delete(O.key===null?R:O.key),h=s(O,h,R),A===null?k=O:A.sibling=O,A=O);return t&&y.forEach(function(z){return e(m,z)}),Be&&oi(m,R),k}function I(m,h,p,E){if(typeof p=="object"&&p!==null&&p.type===ts&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case sl:e:{for(var k=p.key,A=h;A!==null;){if(A.key===k){if(k=p.type,k===ts){if(A.tag===7){n(m,A.sibling),h=i(A,p.props.children),h.return=m,m=h;break e}}else if(A.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Er&&Cg(k)===A.type){n(m,A.sibling),h=i(A,p.props),h.ref=mo(m,A,p),h.return=m,m=h;break e}n(m,A);break}else e(m,A);A=A.sibling}p.type===ts?(h=Ei(p.props.children,m.mode,E,p.key),h.return=m,m=h):(E=jl(p.type,p.key,p.props,null,m.mode,E),E.ref=mo(m,h,p),E.return=m,m=E)}return o(m);case es:e:{for(A=p.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(m,h.sibling),h=i(h,p.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=hd(p,m.mode,E),h.return=m,m=h}return o(m);case Er:return A=p._init,I(m,h,A(p._payload),E)}if(Ro(p))return v(m,h,p,E);if(uo(p))return _(m,h,p,E);gl(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,p),h.return=m,m=h):(n(m,h),h=fd(p,m.mode,E),h.return=m,m=h),o(m)):n(m,h)}return I}var As=f0(!0),h0=f0(!1),fu=Xr(null),hu=null,us=null,Bh=null;function Wh(){Bh=us=hu=null}function Hh(t){var e=fu.current;$e(fu),t._currentValue=e}function vf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ws(t,e){hu=t,Bh=us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(Bh!==t)if(t={context:t,memoizedValue:e,next:null},us===null){if(hu===null)throw Error(L(308));us=t,hu.dependencies={lanes:0,firstContext:t}}else us=us.next=t;return e}var di=null;function Gh(t){di===null?di=[t]:di.push(t)}function p0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gh(e)):(n.next=i.next,i.next=n),e.interleaved=n,ar(t,r)}function ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sr=!1;function Kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ar(t,n)}return i=r.interleaved,i===null?(e.next=e,Gh(r)):(e.next=i.next,i.next=e),r.interleaved=e,ar(t,n)}function Ol(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bh(t,n)}}function Ig(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pu(t,e,n,r){var i=t.updateQueue;Sr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(f=e,g=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){d=v.call(g,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(g,d,f):v,f==null)break e;d=Ke({},d,f);break e;case 2:Sr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pi|=o,t.lanes=o,t.memoizedState=d}}function Tg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var Ma={},jn=Xr(Ma),ua=Xr(Ma),ca=Xr(Ma);function fi(t){if(t===Ma)throw Error(L(174));return t}function qh(t,e){switch(Oe(ca,e),Oe(ua,t),Oe(jn,Ma),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qd(e,t)}$e(jn),Oe(jn,e)}function bs(){$e(jn),$e(ua),$e(ca)}function g0(t){fi(ca.current);var e=fi(jn.current),n=Qd(e,t.type);e!==n&&(Oe(ua,t),Oe(jn,n))}function Yh(t){ua.current===t&&($e(jn),$e(ua))}var He=Xr(0);function mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var od=[];function Qh(){for(var t=0;t<od.length;t++)od[t]._workInProgressVersionPrimary=null;od.length=0}var Ll=fr.ReactCurrentDispatcher,ad=fr.ReactCurrentBatchConfig,Ri=0,Ge=null,rt=null,ut=null,gu=!1,Uo=!1,da=0,RI=0;function Et(){throw Error(L(321))}function Xh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function Jh(t,e,n,r,i,s){if(Ri=s,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ll.current=t===null||t.memoizedState===null?AI:bI,t=n(r,i),Uo){s=0;do{if(Uo=!1,da=0,25<=s)throw Error(L(301));s+=1,ut=rt=null,e.updateQueue=null,Ll.current=DI,t=n(r,i)}while(Uo)}if(Ll.current=vu,e=rt!==null&&rt.next!==null,Ri=0,ut=rt=Ge=null,gu=!1,e)throw Error(L(300));return t}function Zh(){var t=da!==0;return da=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ge.memoizedState=ut=t:ut=ut.next=t,ut}function hn(){if(rt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=ut===null?Ge.memoizedState:ut.next;if(e!==null)ut=e,rt=t;else{if(t===null)throw Error(L(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ut===null?Ge.memoizedState=ut=t:ut=ut.next=t}return ut}function fa(t,e){return typeof e=="function"?e(t):e}function ld(t){var e=hn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ri&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ge.lanes|=c,Pi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,bn(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ge.lanes|=s,Pi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ud(t){var e=hn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bn(s,e.memoizedState)||(Ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function v0(){}function y0(t,e){var n=Ge,r=hn(),i=e(),s=!bn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ft=!0),r=r.queue,ep(E0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,ha(9,w0.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(L(349));Ri&30||_0(n,e,i)}return i}function _0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function w0(t,e,n,r){e.value=n,e.getSnapshot=r,S0(e)&&C0(t)}function E0(t,e,n){return n(function(){S0(e)&&C0(t)})}function S0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function C0(t){var e=ar(t,1);e!==null&&Pn(e,t,1,-1)}function kg(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},e.queue=t,t=t.dispatch=xI.bind(null,Ge,t),[e.memoizedState,t]}function ha(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I0(){return hn().memoizedState}function Ml(t,e,n,r){var i=Ln();Ge.flags|=t,i.memoizedState=ha(1|e,n,void 0,r===void 0?null:r)}function lc(t,e,n,r){var i=hn();r=r===void 0?null:r;var s=void 0;if(rt!==null){var o=rt.memoizedState;if(s=o.destroy,r!==null&&Xh(r,o.deps)){i.memoizedState=ha(e,n,s,r);return}}Ge.flags|=t,i.memoizedState=ha(1|e,n,s,r)}function Rg(t,e){return Ml(8390656,8,t,e)}function ep(t,e){return lc(2048,8,t,e)}function T0(t,e){return lc(4,2,t,e)}function k0(t,e){return lc(4,4,t,e)}function R0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P0(t,e,n){return n=n!=null?n.concat([t]):null,lc(4,4,R0.bind(null,e,t),n)}function tp(){}function N0(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function x0(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function A0(t,e,n){return Ri&21?(bn(n,e)||(n=M_(),Ge.lanes|=n,Pi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function PI(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=ad.transition;ad.transition={};try{t(!1),e()}finally{Pe=n,ad.transition=r}}function b0(){return hn().memoizedState}function NI(t,e,n){var r=$r(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D0(t))O0(e,n);else if(n=p0(t,e,n,r),n!==null){var i=bt();Pn(n,t,r,i),L0(n,e,r)}}function xI(t,e,n){var r=$r(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D0(t))O0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bn(a,o)){var l=e.interleaved;l===null?(i.next=i,Gh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=p0(t,e,i,r),n!==null&&(i=bt(),Pn(n,t,r,i),L0(n,e,r))}}function D0(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function O0(t,e){Uo=gu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function L0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bh(t,n)}}var vu={readContext:fn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},AI={readContext:fn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:Rg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ml(4194308,4,R0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ml(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NI.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:kg,useDebugValue:tp,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=kg(!1),e=t[0];return t=PI.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,i=Ln();if(Be){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),ht===null)throw Error(L(349));Ri&30||_0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Rg(E0.bind(null,r,s,t),[t]),r.flags|=2048,ha(9,w0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ln(),e=ht.identifierPrefix;if(Be){var n=Qn,r=Yn;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=da++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bI={readContext:fn,useCallback:N0,useContext:fn,useEffect:ep,useImperativeHandle:P0,useInsertionEffect:T0,useLayoutEffect:k0,useMemo:x0,useReducer:ld,useRef:I0,useState:function(){return ld(fa)},useDebugValue:tp,useDeferredValue:function(t){var e=hn();return A0(e,rt.memoizedState,t)},useTransition:function(){var t=ld(fa)[0],e=hn().memoizedState;return[t,e]},useMutableSource:v0,useSyncExternalStore:y0,useId:b0,unstable_isNewReconciler:!1},DI={readContext:fn,useCallback:N0,useContext:fn,useEffect:ep,useImperativeHandle:P0,useInsertionEffect:T0,useLayoutEffect:k0,useMemo:x0,useReducer:ud,useRef:I0,useState:function(){return ud(fa)},useDebugValue:tp,useDeferredValue:function(t){var e=hn();return rt===null?e.memoizedState=t:A0(e,rt.memoizedState,t)},useTransition:function(){var t=ud(fa)[0],e=hn().memoizedState;return[t,e]},useMutableSource:v0,useSyncExternalStore:y0,useId:b0,unstable_isNewReconciler:!1};function yn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uc={isMounted:function(t){return(t=t._reactInternals)?ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bt(),i=$r(t),s=tr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fr(t,s,i),e!==null&&(Pn(e,t,i,r),Ol(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bt(),i=$r(t),s=tr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fr(t,s,i),e!==null&&(Pn(e,t,i,r),Ol(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),r=$r(t),i=tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fr(t,i,r),e!==null&&(Pn(e,t,r,n),Ol(e,t,r))}};function Pg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!sa(n,r)||!sa(i,s):!0}function M0(t,e,n){var r=!1,i=Gr,s=e.contextType;return typeof s=="object"&&s!==null?s=fn(s):(i=Vt(e)?Ti:Tt.current,r=e.contextTypes,s=(r=r!=null)?Ns(t,i):Gr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ng(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uc.enqueueReplaceState(e,e.state,null)}function _f(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Kh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fn(s):(s=Vt(e)?Ti:Tt.current,i.context=Ns(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(yf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uc.enqueueReplaceState(i,i.state,null),pu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ds(t,e){try{var n="",r=e;do n+=aC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OI=typeof WeakMap=="function"?WeakMap:Map;function F0(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_u||(_u=!0,xf=r),wf(t,e)},n}function U0(t,e,n){n=tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wf(t,e),typeof r!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qI.bind(null,t,e,n),e.then(t,t))}function Ag(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Fr(n,e,1))),n.lanes|=1),t)}var LI=fr.ReactCurrentOwner,Ft=!1;function Nt(t,e,n,r){e.child=t===null?h0(e,null,n,r):As(e,t.child,n,r)}function Dg(t,e,n,r,i){n=n.render;var s=e.ref;return ws(e,i),r=Jh(t,e,n,r,s,i),n=Zh(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lr(t,e,i)):(Be&&n&&jh(e),e.flags|=1,Nt(t,e,r,i),e.child)}function Og(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!up(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,$0(t,e,s,r,i)):(t=jl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sa,n(o,r)&&t.ref===e.ref)return lr(t,e,i)}return e.flags|=1,t=jr(s,r),t.ref=e.ref,t.return=e,e.child=t}function $0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(sa(s,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,lr(t,e,i)}return Ef(t,e,n,r,i)}function j0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ds,qt),qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(ds,qt),qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Oe(ds,qt),qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Oe(ds,qt),qt|=r;return Nt(t,e,i,n),e.child}function z0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ef(t,e,n,r,i){var s=Vt(n)?Ti:Tt.current;return s=Ns(e,s),ws(e,i),n=Jh(t,e,n,r,s,i),r=Zh(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lr(t,e,i)):(Be&&r&&jh(e),e.flags|=1,Nt(t,e,n,i),e.child)}function Lg(t,e,n,r,i){if(Vt(n)){var s=!0;uu(e)}else s=!1;if(ws(e,i),e.stateNode===null)Fl(t,e),M0(e,n,r),_f(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Vt(n)?Ti:Tt.current,u=Ns(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ng(e,o,r,u),Sr=!1;var f=e.memoizedState;o.state=f,pu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||zt.current||Sr?(typeof c=="function"&&(yf(e,n,c,r),l=e.memoizedState),(a=Sr||Pg(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,m0(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=Vt(n)?Ti:Tt.current,l=Ns(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Ng(e,o,r,l),Sr=!1,f=e.memoizedState,o.state=f,pu(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||zt.current||Sr?(typeof g=="function"&&(yf(e,n,g,r),v=e.memoizedState),(u=Sr||Pg(e,n,u,r,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Sf(t,e,n,r,s,i)}function Sf(t,e,n,r,i,s){z0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&wg(e,n,!1),lr(t,e,s);r=e.stateNode,LI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=As(e,t.child,null,s),e.child=As(e,null,a,s)):Nt(t,e,a,s),e.memoizedState=r.state,i&&wg(e,n,!0),e.child}function V0(t){var e=t.stateNode;e.pendingContext?_g(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_g(t,e.context,!1),qh(t,e.containerInfo)}function Mg(t,e,n,r,i){return xs(),Vh(i),e.flags|=256,Nt(t,e,n,r),e.child}var Cf={dehydrated:null,treeContext:null,retryLane:0};function If(t){return{baseLanes:t,cachePool:null,transitions:null}}function B0(t,e,n){var r=e.pendingProps,i=He.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Oe(He,i&1),t===null)return gf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=fc(o,r,0,null),t=Ei(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=If(n),e.memoizedState=Cf,t):np(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return MI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=jr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=jr(a,s):(s=Ei(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?If(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Cf,r}return s=t.child,t=s.sibling,r=jr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function np(t,e){return e=fc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vl(t,e,n,r){return r!==null&&Vh(r),As(e,t.child,null,n),t=np(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=cd(Error(L(422))),vl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=fc({mode:"visible",children:r.children},i,0,null),s=Ei(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&As(e,t.child,null,o),e.child.memoizedState=If(o),e.memoizedState=Cf,s);if(!(e.mode&1))return vl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=cd(s,r,void 0),vl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ft||a){if(r=ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ar(t,i),Pn(r,t,i,-1))}return lp(),r=cd(Error(L(421))),vl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yt=Mr(i.nextSibling),Xt=e,Be=!0,En=null,t!==null&&(an[ln++]=Yn,an[ln++]=Qn,an[ln++]=ki,Yn=t.id,Qn=t.overflow,ki=e),e=np(e,r.children),e.flags|=4096,e)}function Fg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vf(t.return,e,n)}function dd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function W0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,n,e);else if(t.tag===19)Fg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(He,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dd(e,!0,n,null,s);break;case"together":dd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FI(t,e,n){switch(e.tag){case 3:V0(e),xs();break;case 5:g0(e);break;case 1:Vt(e.type)&&uu(e);break;case 4:qh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Oe(fu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?B0(t,e,n):(Oe(He,He.current&1),t=lr(t,e,n),t!==null?t.sibling:null);Oe(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return W0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,j0(t,e,n)}return lr(t,e,n)}var H0,Tf,G0,K0;H0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tf=function(){};G0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fi(jn.current);var s=null;switch(n){case"input":i=Gd(t,i),r=Gd(t,r),s=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),s=[];break;case"textarea":i=Yd(t,i),r=Yd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=au)}Xd(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};K0=function(t,e,n,r){n!==r&&(e.flags|=4)};function go(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UI(t,e,n){var r=e.pendingProps;switch(zh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return Vt(e.type)&&lu(),St(e),null;case 3:return r=e.stateNode,bs(),$e(zt),$e(Tt),Qh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(Df(En),En=null))),Tf(t,e),St(e),null;case 5:Yh(e);var i=fi(ca.current);if(n=e.type,t!==null&&e.stateNode!=null)G0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return St(e),null}if(t=fi(jn.current),ml(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fn]=e,r[la]=s,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<No.length;i++)Le(No[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Gm(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":qm(r,s),Le("invalid",r)}Xd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",""+a]):Jo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":ol(r),Km(r,s,!0);break;case"textarea":ol(r),Ym(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=au)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[la]=r,H0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jd(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<No.length;i++)Le(No[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":Gm(t,r),i=Gd(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),Le("invalid",t);break;case"textarea":qm(t,r),i=Yd(t,r),Le("invalid",t);break;default:i=r}Xd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?I_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&S_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zo(t,l):typeof l=="number"&&Zo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",t):l!=null&&kh(t,s,l,o))}switch(n){case"input":ol(t),Km(t,r,!1);break;case"textarea":ol(t),Ym(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gs(t,!!r.multiple,s,!1):r.defaultValue!=null&&gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)K0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=fi(ca.current),fi(jn.current),ml(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(s=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return St(e),null;case 13:if($e(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Yt!==null&&e.mode&1&&!(e.flags&128))d0(),xs(),e.flags|=98560,s=!1;else if(s=ml(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[Fn]=e}else xs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),s=!1}else En!==null&&(Df(En),En=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?st===0&&(st=3):lp())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return bs(),Tf(t,e),t===null&&oa(e.stateNode.containerInfo),St(e),null;case 10:return Hh(e.type._context),St(e),null;case 17:return Vt(e.type)&&lu(),St(e),null;case 19:if($e(He),s=e.memoizedState,s===null)return St(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)go(s,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mu(t),o!==null){for(e.flags|=128,go(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(He,He.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>Os&&(e.flags|=128,r=!0,go(s,!1),e.lanes=4194304)}else{if(!r)if(t=mu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),go(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Be)return St(e),null}else 2*Xe()-s.renderingStartTime>Os&&n!==1073741824&&(e.flags|=128,r=!0,go(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=He.current,Oe(He,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return ap(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qt&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function $I(t,e){switch(zh(e),e.tag){case 1:return Vt(e.type)&&lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bs(),$e(zt),$e(Tt),Qh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yh(e),null;case 13:if($e(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(He),null;case 4:return bs(),null;case 10:return Hh(e.type._context),null;case 22:case 23:return ap(),null;case 24:return null;default:return null}}var yl=!1,Ct=!1,jI=typeof WeakSet=="function"?WeakSet:Set,W=null;function cs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function kf(t,e,n){try{n()}catch(r){qe(t,e,r)}}var Ug=!1;function zI(t,e){if(uf=iu,t=J_(),$h(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cf={focusedElem:t,selectionRange:n},iu=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,I=v.memoizedState,m=e.stateNode,h=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:yn(e.type,_),I);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(E){qe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return v=Ug,Ug=!1,v}function $o(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&kf(e,n,s)}i=i.next}while(i!==r)}}function cc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Rf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function q0(t){var e=t.alternate;e!==null&&(t.alternate=null,q0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[la],delete e[hf],delete e[CI],delete e[II])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Y0(t){return t.tag===5||t.tag===3||t.tag===4}function $g(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Y0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=au));else if(r!==4&&(t=t.child,t!==null))for(Pf(t,e,n),t=t.sibling;t!==null;)Pf(t,e,n),t=t.sibling}function Nf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nf(t,e,n),t=t.sibling;t!==null;)Nf(t,e,n),t=t.sibling}var vt=null,_n=!1;function vr(t,e,n){for(n=n.child;n!==null;)Q0(t,e,n),n=n.sibling}function Q0(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(nc,n)}catch{}switch(n.tag){case 5:Ct||cs(n,e);case 6:var r=vt,i=_n;vt=null,vr(t,e,n),vt=r,_n=i,vt!==null&&(_n?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(_n?(t=vt,n=n.stateNode,t.nodeType===8?id(t.parentNode,n):t.nodeType===1&&id(t,n),ra(t)):id(vt,n.stateNode));break;case 4:r=vt,i=_n,vt=n.stateNode.containerInfo,_n=!0,vr(t,e,n),vt=r,_n=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&kf(n,e,o),i=i.next}while(i!==r)}vr(t,e,n);break;case 1:if(!Ct&&(cs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}vr(t,e,n);break;case 21:vr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,vr(t,e,n),Ct=r):vr(t,e,n);break;default:vr(t,e,n)}}function jg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jI),e.forEach(function(r){var i=QI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,_n=!1;break e;case 3:vt=a.stateNode.containerInfo,_n=!0;break e;case 4:vt=a.stateNode.containerInfo,_n=!0;break e}a=a.return}if(vt===null)throw Error(L(160));Q0(s,o,i),vt=null,_n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)X0(e,t),e=e.sibling}function X0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(e,t),On(t),r&4){try{$o(3,t,t.return),cc(3,t)}catch(_){qe(t,t.return,_)}try{$o(5,t,t.return)}catch(_){qe(t,t.return,_)}}break;case 1:gn(e,t),On(t),r&512&&n!==null&&cs(n,n.return);break;case 5:if(gn(e,t),On(t),r&512&&n!==null&&cs(n,n.return),t.flags&32){var i=t.stateNode;try{Zo(i,"")}catch(_){qe(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&__(i,s),Jd(a,o);var u=Jd(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?I_(i,d):c==="dangerouslySetInnerHTML"?S_(i,d):c==="children"?Zo(i,d):kh(i,c,d,u)}switch(a){case"input":Kd(i,s);break;case"textarea":w_(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?gs(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?gs(i,!!s.multiple,s.defaultValue,!0):gs(i,!!s.multiple,s.multiple?[]:"",!1))}i[la]=s}catch(_){qe(t,t.return,_)}}break;case 6:if(gn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){qe(t,t.return,_)}}break;case 3:if(gn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ra(e.containerInfo)}catch(_){qe(t,t.return,_)}break;case 4:gn(e,t),On(t);break;case 13:gn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sp=Xe())),r&4&&jg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(u=Ct)||c,gn(e,t),Ct=u):gn(e,t),On(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(W=t,c=t.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,g=f.child,f.tag){case 0:case 11:case 14:case 15:$o(4,f,f.return);break;case 1:cs(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){qe(r,n,_)}}break;case 5:cs(f,f.return);break;case 22:if(f.memoizedState!==null){Vg(d);continue}}g!==null?(g.return=f,W=g):Vg(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=C_("display",o))}catch(_){qe(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){qe(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gn(e,t),On(t),r&4&&jg(t);break;case 21:break;default:gn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Y0(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zo(i,""),r.flags&=-33);var s=$g(t);Nf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$g(t);Pf(t,a,o);break;default:throw Error(L(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VI(t,e,n){W=t,J0(t)}function J0(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=yl;var u=Ct;if(yl=o,(Ct=l)&&!u)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?Bg(i):l!==null?(l.return=o,W=l):Bg(i);for(;s!==null;)W=s,J0(s),s=s.sibling;W=i,yl=a,Ct=u}zg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):zg(t)}}function zg(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||cc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Tg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Tg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ra(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ct||e.flags&512&&Rf(e)}catch(f){qe(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Vg(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Bg(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cc(4,e)}catch(l){qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qe(e,i,l)}}var s=e.return;try{Rf(e)}catch(l){qe(e,s,l)}break;case 5:var o=e.return;try{Rf(e)}catch(l){qe(e,o,l)}}}catch(l){qe(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var BI=Math.ceil,yu=fr.ReactCurrentDispatcher,rp=fr.ReactCurrentOwner,dn=fr.ReactCurrentBatchConfig,Ee=0,ht=null,et=null,_t=0,qt=0,ds=Xr(0),st=0,pa=null,Pi=0,dc=0,ip=0,jo=null,Mt=null,sp=0,Os=1/0,Hn=null,_u=!1,xf=null,Ur=null,_l=!1,xr=null,wu=0,zo=0,Af=null,Ul=-1,$l=0;function bt(){return Ee&6?Xe():Ul!==-1?Ul:Ul=Xe()}function $r(t){return t.mode&1?Ee&2&&_t!==0?_t&-_t:kI.transition!==null?($l===0&&($l=M_()),$l):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:B_(t.type)),t):1}function Pn(t,e,n,r){if(50<zo)throw zo=0,Af=null,Error(L(185));Da(t,n,r),(!(Ee&2)||t!==ht)&&(t===ht&&(!(Ee&2)&&(dc|=n),st===4&&Ir(t,_t)),Bt(t,r),n===1&&Ee===0&&!(e.mode&1)&&(Os=Xe()+500,ac&&Jr()))}function Bt(t,e){var n=t.callbackNode;kC(t,e);var r=ru(t,t===ht?_t:0);if(r===0)n!==null&&Jm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jm(n),e===1)t.tag===0?TI(Wg.bind(null,t)):l0(Wg.bind(null,t)),EI(function(){!(Ee&6)&&Jr()}),n=null;else{switch(F_(r)){case 1:n=Ah;break;case 4:n=O_;break;case 16:n=nu;break;case 536870912:n=L_;break;default:n=nu}n=ow(n,Z0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Z0(t,e){if(Ul=-1,$l=0,Ee&6)throw Error(L(327));var n=t.callbackNode;if(Es()&&t.callbackNode!==n)return null;var r=ru(t,t===ht?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eu(t,r);else{e=r;var i=Ee;Ee|=2;var s=tw();(ht!==t||_t!==e)&&(Hn=null,Os=Xe()+500,wi(t,e));do try{GI();break}catch(a){ew(t,a)}while(!0);Wh(),yu.current=s,Ee=i,et!==null?e=0:(ht=null,_t=0,e=st)}if(e!==0){if(e===2&&(i=rf(t),i!==0&&(r=i,e=bf(t,i))),e===1)throw n=pa,wi(t,0),Ir(t,r),Bt(t,Xe()),n;if(e===6)Ir(t,r);else{if(i=t.current.alternate,!(r&30)&&!WI(i)&&(e=Eu(t,r),e===2&&(s=rf(t),s!==0&&(r=s,e=bf(t,s))),e===1))throw n=pa,wi(t,0),Ir(t,r),Bt(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:ai(t,Mt,Hn);break;case 3:if(Ir(t,r),(r&130023424)===r&&(e=sp+500-Xe(),10<e)){if(ru(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ff(ai.bind(null,t,Mt,Hn),e);break}ai(t,Mt,Hn);break;case 4:if(Ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Rn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BI(r/1960))-r,10<r){t.timeoutHandle=ff(ai.bind(null,t,Mt,Hn),r);break}ai(t,Mt,Hn);break;case 5:ai(t,Mt,Hn);break;default:throw Error(L(329))}}}return Bt(t,Xe()),t.callbackNode===n?Z0.bind(null,t):null}function bf(t,e){var n=jo;return t.current.memoizedState.isDehydrated&&(wi(t,e).flags|=256),t=Eu(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&Df(e)),t}function Df(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function WI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~ip,e&=~dc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),r=1<<n;t[n]=-1,e&=~r}}function Wg(t){if(Ee&6)throw Error(L(327));Es();var e=ru(t,0);if(!(e&1))return Bt(t,Xe()),null;var n=Eu(t,e);if(t.tag!==0&&n===2){var r=rf(t);r!==0&&(e=r,n=bf(t,r))}if(n===1)throw n=pa,wi(t,0),Ir(t,e),Bt(t,Xe()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,Mt,Hn),Bt(t,Xe()),null}function op(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(Os=Xe()+500,ac&&Jr())}}function Ni(t){xr!==null&&xr.tag===0&&!(Ee&6)&&Es();var e=Ee;Ee|=1;var n=dn.transition,r=Pe;try{if(dn.transition=null,Pe=1,t)return t()}finally{Pe=r,dn.transition=n,Ee=e,!(Ee&6)&&Jr()}}function ap(){qt=ds.current,$e(ds)}function wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wI(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(zh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lu();break;case 3:bs(),$e(zt),$e(Tt),Qh();break;case 5:Yh(r);break;case 4:bs();break;case 13:$e(He);break;case 19:$e(He);break;case 10:Hh(r.type._context);break;case 22:case 23:ap()}n=n.return}if(ht=t,et=t=jr(t.current,null),_t=qt=e,st=0,pa=null,ip=dc=Pi=0,Mt=jo=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}di=null}return t}function ew(t,e){do{var n=et;try{if(Wh(),Ll.current=vu,gu){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gu=!1}if(Ri=0,ut=rt=Ge=null,Uo=!1,da=0,rp.current=null,n===null||n.return===null){st=1,pa=e,et=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Ag(o);if(g!==null){g.flags&=-257,bg(g,o,a,s,e),g.mode&1&&xg(s,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){xg(s,u,e),lp();break e}l=Error(L(426))}}else if(Be&&a.mode&1){var I=Ag(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),bg(I,o,a,s,e),Vh(Ds(l,a));break e}}s=l=Ds(l,a),st!==4&&(st=2),jo===null?jo=[s]:jo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=F0(s,l,e);Ig(s,m);break e;case 1:a=l;var h=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ur===null||!Ur.has(p)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=U0(s,a,e);Ig(s,E);break e}}s=s.return}while(s!==null)}rw(n)}catch(k){e=k,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function tw(){var t=yu.current;return yu.current=vu,t===null?vu:t}function lp(){(st===0||st===3||st===2)&&(st=4),ht===null||!(Pi&268435455)&&!(dc&268435455)||Ir(ht,_t)}function Eu(t,e){var n=Ee;Ee|=2;var r=tw();(ht!==t||_t!==e)&&(Hn=null,wi(t,e));do try{HI();break}catch(i){ew(t,i)}while(!0);if(Wh(),Ee=n,yu.current=r,et!==null)throw Error(L(261));return ht=null,_t=0,st}function HI(){for(;et!==null;)nw(et)}function GI(){for(;et!==null&&!vC();)nw(et)}function nw(t){var e=sw(t.alternate,t,qt);t.memoizedProps=t.pendingProps,e===null?rw(t):et=e,rp.current=null}function rw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$I(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,et=null;return}}else if(n=UI(n,e,qt),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);st===0&&(st=5)}function ai(t,e,n){var r=Pe,i=dn.transition;try{dn.transition=null,Pe=1,KI(t,e,n,r)}finally{dn.transition=i,Pe=r}return null}function KI(t,e,n,r){do Es();while(xr!==null);if(Ee&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(RC(t,s),t===ht&&(et=ht=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_l||(_l=!0,ow(nu,function(){return Es(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dn.transition,dn.transition=null;var o=Pe;Pe=1;var a=Ee;Ee|=4,rp.current=null,zI(t,n),X0(n,t),hI(cf),iu=!!uf,cf=uf=null,t.current=n,VI(n),yC(),Ee=a,Pe=o,dn.transition=s}else t.current=n;if(_l&&(_l=!1,xr=t,wu=i),s=t.pendingLanes,s===0&&(Ur=null),EC(n.stateNode),Bt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_u)throw _u=!1,t=xf,xf=null,t;return wu&1&&t.tag!==0&&Es(),s=t.pendingLanes,s&1?t===Af?zo++:(zo=0,Af=t):zo=0,Jr(),null}function Es(){if(xr!==null){var t=F_(wu),e=dn.transition,n=Pe;try{if(dn.transition=null,Pe=16>t?16:t,xr===null)var r=!1;else{if(t=xr,xr=null,wu=0,Ee&6)throw Error(L(331));var i=Ee;for(Ee|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:$o(8,c,s)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,g=c.return;if(q0(c),c===u){W=null;break}if(f!==null){f.return=g,W=f;break}W=g}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$o(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,W=m;break e}W=s.return}}var h=t.current;for(W=h;W!==null;){o=W;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,W=p;else e:for(o=h;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cc(9,a)}}catch(k){qe(a,a.return,k)}if(a===o){W=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,W=E;break e}W=a.return}}if(Ee=i,Jr(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(nc,t)}catch{}r=!0}return r}finally{Pe=n,dn.transition=e}}return!1}function Hg(t,e,n){e=Ds(n,e),e=F0(t,e,1),t=Fr(t,e,1),e=bt(),t!==null&&(Da(t,1,e),Bt(t,e))}function qe(t,e,n){if(t.tag===3)Hg(t,t,n);else for(;e!==null;){if(e.tag===3){Hg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ur===null||!Ur.has(r))){t=Ds(n,t),t=U0(e,t,1),e=Fr(e,t,1),t=bt(),e!==null&&(Da(e,1,t),Bt(e,t));break}}e=e.return}}function qI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(_t&n)===n&&(st===4||st===3&&(_t&130023424)===_t&&500>Xe()-sp?wi(t,0):ip|=n),Bt(t,e)}function iw(t,e){e===0&&(t.mode&1?(e=ul,ul<<=1,!(ul&130023424)&&(ul=4194304)):e=1);var n=bt();t=ar(t,e),t!==null&&(Da(t,e,n),Bt(t,n))}function YI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iw(t,n)}function QI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),iw(t,n)}var sw;sw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,FI(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Be&&e.flags&1048576&&u0(e,du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fl(t,e),t=e.pendingProps;var i=Ns(e,Tt.current);ws(e,n),i=Jh(null,e,r,t,i,n);var s=Zh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(s=!0,uu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kh(e),i.updater=uc,e.stateNode=i,i._reactInternals=e,_f(e,r,t,n),e=Sf(null,e,r,!0,s,n)):(e.tag=0,Be&&s&&jh(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JI(r),t=yn(r,t),i){case 0:e=Ef(null,e,r,t,n);break e;case 1:e=Lg(null,e,r,t,n);break e;case 11:e=Dg(null,e,r,t,n);break e;case 14:e=Og(null,e,r,yn(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yn(r,i),Ef(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yn(r,i),Lg(t,e,r,i,n);case 3:e:{if(V0(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,m0(t,e),pu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ds(Error(L(423)),e),e=Mg(t,e,r,n,i);break e}else if(r!==i){i=Ds(Error(L(424)),e),e=Mg(t,e,r,n,i);break e}else for(Yt=Mr(e.stateNode.containerInfo.firstChild),Xt=e,Be=!0,En=null,n=h0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xs(),r===i){e=lr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return g0(e),t===null&&gf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,df(r,i)?o=null:s!==null&&df(r,s)&&(e.flags|=32),z0(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&gf(e),null;case 13:return B0(t,e,n);case 4:return qh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=As(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yn(r,i),Dg(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Oe(fu,r._currentValue),r._currentValue=o,s!==null)if(bn(s.value,o)){if(s.children===i.children&&!zt.current){e=lr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=tr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),vf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ws(e,n),i=fn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=yn(r,e.pendingProps),i=yn(r.type,i),Og(t,e,r,i,n);case 15:return $0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yn(r,i),Fl(t,e),e.tag=1,Vt(r)?(t=!0,uu(e)):t=!1,ws(e,n),M0(e,r,i),_f(e,r,i,n),Sf(null,e,r,!0,t,n);case 19:return W0(t,e,n);case 22:return j0(t,e,n)}throw Error(L(156,e.tag))};function ow(t,e){return D_(t,e)}function XI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new XI(t,e,n,r)}function up(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JI(t){if(typeof t=="function")return up(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ph)return 11;if(t===Nh)return 14}return 2}function jr(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")up(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ts:return Ei(n.children,i,s,e);case Rh:o=8,i|=8;break;case Vd:return t=cn(12,n,e,i|2),t.elementType=Vd,t.lanes=s,t;case Bd:return t=cn(13,n,e,i),t.elementType=Bd,t.lanes=s,t;case Wd:return t=cn(19,n,e,i),t.elementType=Wd,t.lanes=s,t;case g_:return fc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p_:o=10;break e;case m_:o=9;break e;case Ph:o=11;break e;case Nh:o=14;break e;case Er:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ei(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function fc(t,e,n,r){return t=cn(22,t,r,e),t.elementType=g_,t.lanes=n,t.stateNode={isHidden:!1},t}function fd(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function hd(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kc(0),this.expirationTimes=Kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cp(t,e,n,r,i,s,o,a,l){return t=new ZI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kh(s),t}function eT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aw(t){if(!t)return Gr;t=t._reactInternals;e:{if(ji(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(Vt(n))return a0(t,n,e)}return e}function lw(t,e,n,r,i,s,o,a,l){return t=cp(n,r,!0,t,i,s,o,a,l),t.context=aw(null),n=t.current,r=bt(),i=$r(n),s=tr(r,i),s.callback=e??null,Fr(n,s,i),t.current.lanes=i,Da(t,i,r),Bt(t,r),t}function hc(t,e,n,r){var i=e.current,s=bt(),o=$r(i);return n=aw(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fr(i,e,o),t!==null&&(Pn(t,i,o,s),Ol(t,i,o)),o}function Su(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dp(t,e){Gg(t,e),(t=t.alternate)&&Gg(t,e)}function tT(){return null}var uw=typeof reportError=="function"?reportError:function(t){console.error(t)};function fp(t){this._internalRoot=t}pc.prototype.render=fp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));hc(t,e,null,null)};pc.prototype.unmount=fp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){hc(null,t,null,null)}),e[or]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var e=j_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cr.length&&e!==0&&e<Cr[n].priority;n++);Cr.splice(n,0,t),n===0&&V_(t)}};function hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kg(){}function nT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Su(o);s.call(u)}}var o=lw(e,r,t,0,null,!1,!1,"",Kg);return t._reactRootContainer=o,t[or]=o.current,oa(t.nodeType===8?t.parentNode:t),Ni(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Su(l);a.call(u)}}var l=cp(t,0,!1,null,null,!1,!1,"",Kg);return t._reactRootContainer=l,t[or]=l.current,oa(t.nodeType===8?t.parentNode:t),Ni(function(){hc(e,l,n,r)}),l}function gc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Su(o);a.call(l)}}hc(e,o,t,i)}else o=nT(n,e,t,i,r);return Su(o)}U_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Po(e.pendingLanes);n!==0&&(bh(e,n|1),Bt(e,Xe()),!(Ee&6)&&(Os=Xe()+500,Jr()))}break;case 13:Ni(function(){var r=ar(t,1);if(r!==null){var i=bt();Pn(r,t,1,i)}}),dp(t,1)}};Dh=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var n=bt();Pn(e,t,134217728,n)}dp(t,134217728)}};$_=function(t){if(t.tag===13){var e=$r(t),n=ar(t,e);if(n!==null){var r=bt();Pn(n,t,e,r)}dp(t,e)}};j_=function(){return Pe};z_=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};ef=function(t,e,n){switch(e){case"input":if(Kd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oc(r);if(!i)throw Error(L(90));y_(r),Kd(r,i)}}}break;case"textarea":w_(t,n);break;case"select":e=n.value,e!=null&&gs(t,!!n.multiple,e,!1)}};R_=op;P_=Ni;var rT={usingClientEntryPoint:!1,Events:[La,ss,oc,T_,k_,op]},vo={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iT={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=A_(t),t===null?null:t.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||tT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{nc=wl.inject(iT),$n=wl}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rT;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hp(e))throw Error(L(200));return eT(t,e,null,n)};Zt.createRoot=function(t,e){if(!hp(t))throw Error(L(299));var n=!1,r="",i=uw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cp(t,1,!1,null,null,n,!1,r,i),t[or]=e.current,oa(t.nodeType===8?t.parentNode:t),new fp(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=A_(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return Ni(t)};Zt.hydrate=function(t,e,n){if(!mc(e))throw Error(L(200));return gc(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!hp(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=uw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lw(e,null,t,1,n??null,i,!1,s,o),t[or]=e.current,oa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pc(e)};Zt.render=function(t,e,n){if(!mc(e))throw Error(L(200));return gc(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!mc(t))throw Error(L(40));return t._reactRootContainer?(Ni(function(){gc(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1};Zt.unstable_batchedUpdates=op;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mc(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return gc(t,e,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function cw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cw)}catch(t){console.error(t)}}cw(),c_.exports=Zt;var pp=c_.exports;const sT=Jy(pp),oT=Xy({__proto__:null,default:sT},[pp]);var qg=pp;jd.createRoot=qg.createRoot,jd.hydrateRoot=qg.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function We(){return We=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},We.apply(this,arguments)}var Je;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Je||(Je={}));const Yg="popstate";function aT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ma("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xi(i)}return uT(e,n,null,t)}function he(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ls(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lT(){return Math.random().toString(36).substr(2,8)}function Qg(t,e){return{usr:t.state,key:t.key,idx:e}}function ma(t,e,n,r){return n===void 0&&(n=null),We({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zr(e):e,{state:n,key:e&&e.key||r||lT()})}function xi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Je.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(We({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Je.Pop;let I=c(),m=I==null?null:I-u;u=I,l&&l({action:a,location:_.location,delta:m})}function f(I,m){a=Je.Push;let h=ma(_.location,I,m);u=c()+1;let p=Qg(h,u),E=_.createHref(h);try{o.pushState(p,"",E)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(E)}s&&l&&l({action:a,location:_.location,delta:1})}function g(I,m){a=Je.Replace;let h=ma(_.location,I,m);u=c();let p=Qg(h,u),E=_.createHref(h);o.replaceState(p,"",E),s&&l&&l({action:a,location:_.location,delta:0})}function v(I){let m=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof I=="string"?I:xi(I);return h=h.replace(/ $/,"%20"),he(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let _={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Yg,d),l=I,()=>{i.removeEventListener(Yg,d),l=null}},createHref(I){return e(i,I)},createURL:v,encodeLocation(I){let m=v(I);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(I){return o.go(I)}};return _}var Ve;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ve||(Ve={}));const cT=new Set(["lazy","caseSensitive","path","id","index","children"]);function dT(t){return t.index===!0}function Of(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(he(i.index!==!0||!i.children,"Cannot specify children on an index route"),he(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),dT(i)){let l=We({},i,e(i),{id:a});return r[a]=l,l}else{let l=We({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Of(i.children,e,o,r)),l}})}function fs(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Zr(e):e,i=Ys(r.pathname||"/",n);if(i==null)return null;let s=dw(t);hT(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=TT(i);o=ST(s[a],l)}return o}function fT(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function dw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(he(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=nr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(he(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dw(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:wT(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of fw(s.path))i(s,o,l)}),e}function fw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=fw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function hT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ET(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pT=/^:[\w-]+$/,mT=3,gT=2,vT=1,yT=10,_T=-2,Xg=t=>t==="*";function wT(t,e){let n=t.split("/"),r=n.length;return n.some(Xg)&&(r+=_T),e&&(r+=gT),n.filter(i=>!Xg(i)).reduce((i,s)=>i+(pT.test(s)?mT:s===""?vT:yT),r)}function ET(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ST(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=CT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:nr([i,c.pathname]),pathnameBase:PT(nr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=nr([i,c.pathnameBase]))}return s}function CT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let _=a[d]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[d];return g&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function IT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ls(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ls(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ys(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zr(t):t;return{pathname:n?n.startsWith("/")?n:RT(n,e):e,search:NT(r),hash:xT(i)}}function RT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function pd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mp(t,e){let n=hw(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gp(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Zr(t):(i=We({},t),he(!i.pathname||!i.pathname.includes("?"),pd("?","pathname","search",i)),he(!i.pathname||!i.pathname.includes("#"),pd("#","pathname","hash",i)),he(!i.search||!i.search.includes("#"),pd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=kT(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const nr=t=>t.join("/").replace(/\/\/+/g,"/"),PT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class vp{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function yp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pw=["post","put","patch","delete"],AT=new Set(pw),bT=["get",...pw],DT=new Set(bT),OT=new Set([301,302,303,307,308]),LT=new Set([307,308]),md={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},MT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FT=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),mw="remix-router-transitions";function UT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;he(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let S=t.detectErrorBoundary;i=T=>({hasErrorBoundary:S(T)})}else i=FT;let s={},o=Of(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||VT,c=We({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),d=null,f=new Set,g=null,v=null,_=null,I=t.hydrationData!=null,m=fs(o,t.history.location,l),h=null;if(m==null){let S=on(404,{pathname:t.history.location.pathname}),{matches:T,route:x}=av(o);m=T,h={[x.id]:S}}let p,E=m.some(S=>S.route.lazy),k=m.some(S=>S.route.loader);if(E)p=!1;else if(!k)p=!0;else if(c.v7_partialHydration){let S=t.hydrationData?t.hydrationData.loaderData:null,T=t.hydrationData?t.hydrationData.errors:null,x=F=>F.route.loader?typeof F.route.loader=="function"&&F.route.loader.hydrate===!0?!1:S&&S[F.route.id]!==void 0||T&&T[F.route.id]!==void 0:!0;if(T){let F=m.findIndex(H=>T[H.route.id]!==void 0);p=m.slice(0,F+1).every(x)}else p=m.every(x)}else p=t.hydrationData!=null;let A,y={historyAction:t.history.action,location:t.history.location,matches:m,initialized:p,navigation:md,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||h,fetchers:new Map,blockers:new Map},R=Je.Pop,D=!1,O,J=!1,z=new Map,K=null,ee=!1,fe=!1,xe=[],ge=[],b=new Map,V=0,Y=-1,se=new Map,Z=new Set,ke=new Map,Se=new Map,Ce=new Set,we=new Map,be=new Map,Rt=!1;function tn(){if(d=t.history.listen(S=>{let{action:T,location:x,delta:F}=S;if(Rt){Rt=!1;return}Ls(be.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let H=Mm({currentLocation:y.location,nextLocation:x,historyAction:T});if(H&&F!=null){Rt=!0,t.history.go(F*-1),el(H,{state:"blocked",location:x,proceed(){el(H,{state:"proceeding",proceed:void 0,reset:void 0,location:x}),t.history.go(F)},reset(){let ae=new Map(y.blockers);ae.set(H,yo),je({blockers:ae})}});return}return mr(T,x)}),n){ek(e,z);let S=()=>tk(e,z);e.addEventListener("pagehide",S),K=()=>e.removeEventListener("pagehide",S)}return y.initialized||mr(Je.Pop,y.location,{initialHydration:!0}),A}function si(){d&&d(),K&&K(),f.clear(),O&&O.abort(),y.fetchers.forEach((S,T)=>Hi(T)),y.blockers.forEach((S,T)=>Lm(T))}function Vn(S){return f.add(S),()=>f.delete(S)}function je(S,T){T===void 0&&(T={}),y=We({},y,S);let x=[],F=[];c.v7_fetcherPersist&&y.fetchers.forEach((H,ae)=>{H.state==="idle"&&(Ce.has(ae)?F.push(ae):x.push(ae))}),[...f].forEach(H=>H(y,{deletedFetchers:F,unstable_viewTransitionOpts:T.viewTransitionOpts,unstable_flushSync:T.flushSync===!0})),c.v7_fetcherPersist&&(x.forEach(H=>y.fetchers.delete(H)),F.forEach(H=>Hi(H)))}function pr(S,T,x){var F,H;let{flushSync:ae}=x===void 0?{}:x,X=y.actionData!=null&&y.navigation.formMethod!=null&&wn(y.navigation.formMethod)&&y.navigation.state==="loading"&&((F=S.state)==null?void 0:F._isRedirect)!==!0,q;T.actionData?Object.keys(T.actionData).length>0?q=T.actionData:q=null:X?q=y.actionData:q=null;let le=T.loaderData?sv(y.loaderData,T.loaderData,T.matches||[],T.errors):y.loaderData,oe=y.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((re,ze)=>oe.set(ze,yo)));let pt=D===!0||y.navigation.formMethod!=null&&wn(y.navigation.formMethod)&&((H=S.state)==null?void 0:H._isRedirect)!==!0;a&&(o=a,a=void 0),ee||R===Je.Pop||(R===Je.Push?t.history.push(S,S.state):R===Je.Replace&&t.history.replace(S,S.state));let mt;if(R===Je.Pop){let re=z.get(y.location.pathname);re&&re.has(S.pathname)?mt={currentLocation:y.location,nextLocation:S}:z.has(S.pathname)&&(mt={currentLocation:S,nextLocation:y.location})}else if(J){let re=z.get(y.location.pathname);re?re.add(S.pathname):(re=new Set([S.pathname]),z.set(y.location.pathname,re)),mt={currentLocation:y.location,nextLocation:S}}je(We({},T,{actionData:q,loaderData:le,historyAction:R,location:S,initialized:!0,navigation:md,revalidation:"idle",restoreScrollPosition:Um(S,T.matches||y.matches),preventScrollReset:pt,blockers:oe}),{viewTransitionOpts:mt,flushSync:ae===!0}),R=Je.Pop,D=!1,J=!1,ee=!1,fe=!1,xe=[],ge=[]}async function io(S,T){if(typeof S=="number"){t.history.go(S);return}let x=Lf(y.location,y.matches,l,c.v7_prependBasename,S,c.v7_relativeSplatPath,T==null?void 0:T.fromRouteId,T==null?void 0:T.relative),{path:F,submission:H,error:ae}=Jg(c.v7_normalizeFormMethod,!1,x,T),X=y.location,q=ma(y.location,F,T&&T.state);q=We({},q,t.history.encodeLocation(q));let le=T&&T.replace!=null?T.replace:void 0,oe=Je.Push;le===!0?oe=Je.Replace:le===!1||H!=null&&wn(H.formMethod)&&H.formAction===y.location.pathname+y.location.search&&(oe=Je.Replace);let pt=T&&"preventScrollReset"in T?T.preventScrollReset===!0:void 0,mt=(T&&T.unstable_flushSync)===!0,re=Mm({currentLocation:X,nextLocation:q,historyAction:oe});if(re){el(re,{state:"blocked",location:q,proceed(){el(re,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),io(S,T)},reset(){let ze=new Map(y.blockers);ze.set(re,yo),je({blockers:ze})}});return}return await mr(oe,q,{submission:H,pendingError:ae,preventScrollReset:pt,replace:T&&T.replace,enableViewTransition:T&&T.unstable_viewTransition,flushSync:mt})}function Dm(){if(ye(),je({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){mr(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}mr(R||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function mr(S,T,x){O&&O.abort(),O=null,R=S,ee=(x&&x.startUninterruptedRevalidation)===!0,xS(y.location,y.matches),D=(x&&x.preventScrollReset)===!0,J=(x&&x.enableViewTransition)===!0;let F=a||o,H=x&&x.overrideNavigation,ae=fs(F,T,l),X=(x&&x.flushSync)===!0;if(!ae){let re=on(404,{pathname:T.pathname}),{matches:ze,route:at}=av(F);zc(),pr(T,{matches:ze,loaderData:{},errors:{[at.id]:re}},{flushSync:X});return}if(y.initialized&&!fe&&qT(y.location,T)&&!(x&&x.submission&&wn(x.submission.formMethod))){pr(T,{matches:ae},{flushSync:X});return}O=new AbortController;let q=Qi(t.history,T,O.signal,x&&x.submission),le;if(x&&x.pendingError)le=[Vo(ae).route.id,{type:Ve.error,error:x.pendingError}];else if(x&&x.submission&&wn(x.submission.formMethod)){let re=await Om(q,T,x.submission,ae,{replace:x.replace,flushSync:X});if(re.shortCircuited)return;le=re.pendingActionResult,H=gd(T,x.submission),X=!1,q=Qi(t.history,q.url,q.signal)}let{shortCircuited:oe,loaderData:pt,errors:mt}=await w(q,T,ae,H,x&&x.submission,x&&x.fetcherSubmission,x&&x.replace,x&&x.initialHydration===!0,X,le);oe||(O=null,pr(T,We({matches:ae},ov(le),{loaderData:pt,errors:mt})))}async function Om(S,T,x,F,H){H===void 0&&(H={}),ye();let ae=JT(T,x);je({navigation:ae},{flushSync:H.flushSync===!0});let X,q=Ff(F,T);if(!q.route.action&&!q.route.lazy)X={type:Ve.error,error:on(405,{method:S.method,pathname:T.pathname,routeId:q.route.id})};else if(X=(await M("action",S,[q],F))[0],S.signal.aborted)return{shortCircuited:!0};if(pi(X)){let le;return H&&H.replace!=null?le=H.replace:le=nv(X.response.headers.get("Location"),new URL(S.url),l)===y.location.pathname+y.location.search,await $(S,X,{submission:x,replace:le}),{shortCircuited:!0}}if(hi(X))throw on(400,{type:"defer-action"});if(un(X)){let le=Vo(F,q.route.id);return(H&&H.replace)!==!0&&(R=Je.Push),{pendingActionResult:[le.route.id,X]}}return{pendingActionResult:[q.route.id,X]}}async function w(S,T,x,F,H,ae,X,q,le,oe){let pt=F||gd(T,H),mt=H||ae||cv(pt),re=a||o,[ze,at]=Zg(t.history,y,x,mt,T,c.v7_partialHydration&&q===!0,c.unstable_skipActionErrorRevalidation,fe,xe,ge,Ce,ke,Z,re,l,oe);if(zc(_e=>!(x&&x.some(Pt=>Pt.route.id===_e))||ze&&ze.some(Pt=>Pt.route.id===_e)),Y=++V,ze.length===0&&at.length===0){let _e=oo();return pr(T,We({matches:x,loaderData:{},errors:oe&&un(oe[1])?{[oe[0]]:oe[1].error}:null},ov(oe),_e?{fetchers:new Map(y.fetchers)}:{}),{flushSync:le}),{shortCircuited:!0}}if(!ee&&(!c.v7_partialHydration||!q)){at.forEach(Pt=>{let rn=y.fetchers.get(Pt.key),gt=_o(void 0,rn?rn.data:void 0);y.fetchers.set(Pt.key,gt)});let _e;oe&&!un(oe[1])?_e={[oe[0]]:oe[1].data}:y.actionData&&(Object.keys(y.actionData).length===0?_e=null:_e=y.actionData),je(We({navigation:pt},_e!==void 0?{actionData:_e}:{},at.length>0?{fetchers:new Map(y.fetchers)}:{}),{flushSync:le})}at.forEach(_e=>{b.has(_e.key)&&nn(_e.key),_e.controller&&b.set(_e.key,_e.controller)});let ao=()=>at.forEach(_e=>nn(_e.key));O&&O.signal.addEventListener("abort",ao);let{loaderResults:gr,fetcherResults:Gi}=await Q(y.matches,x,ze,at,S);if(S.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",ao),at.forEach(_e=>b.delete(_e.key));let Ki=lv([...gr,...Gi]);if(Ki){if(Ki.idx>=ze.length){let _e=at[Ki.idx-ze.length].key;Z.add(_e)}return await $(S,Ki.result,{replace:X}),{shortCircuited:!0}}let{loaderData:qi,errors:Dn}=iv(y,x,ze,gr,oe,at,Gi,we);we.forEach((_e,Pt)=>{_e.subscribe(rn=>{(rn||_e.done)&&we.delete(Pt)})}),c.v7_partialHydration&&q&&y.errors&&Object.entries(y.errors).filter(_e=>{let[Pt]=_e;return!ze.some(rn=>rn.route.id===Pt)}).forEach(_e=>{let[Pt,rn]=_e;Dn=Object.assign(Dn||{},{[Pt]:rn})});let tl=oo(),nl=Ja(Y),rl=tl||nl||at.length>0;return We({loaderData:qi,errors:Dn},rl?{fetchers:new Map(y.fetchers)}:{})}function C(S,T,x,F){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");b.has(S)&&nn(S);let H=(F&&F.unstable_flushSync)===!0,ae=a||o,X=Lf(y.location,y.matches,l,c.v7_prependBasename,x,c.v7_relativeSplatPath,T,F==null?void 0:F.relative),q=fs(ae,X,l);if(!q){tt(S,T,on(404,{pathname:X}),{flushSync:H});return}let{path:le,submission:oe,error:pt}=Jg(c.v7_normalizeFormMethod,!0,X,F);if(pt){tt(S,T,pt,{flushSync:H});return}let mt=Ff(q,le);if(D=(F&&F.preventScrollReset)===!0,oe&&wn(oe.formMethod)){N(S,T,le,mt,q,H,oe);return}ke.set(S,{routeId:T,path:le}),j(S,T,le,mt,q,H,oe)}async function N(S,T,x,F,H,ae,X){if(ye(),ke.delete(S),!F.route.action&&!F.route.lazy){let gt=on(405,{method:X.formMethod,pathname:x,routeId:T});tt(S,T,gt,{flushSync:ae});return}let q=y.fetchers.get(S);Re(S,ZT(X,q),{flushSync:ae});let le=new AbortController,oe=Qi(t.history,x,le.signal,X);b.set(S,le);let pt=V,re=(await M("action",oe,[F],H))[0];if(oe.signal.aborted){b.get(S)===le&&b.delete(S);return}if(c.v7_fetcherPersist&&Ce.has(S)){if(pi(re)||un(re)){Re(S,_r(void 0));return}}else{if(pi(re))if(b.delete(S),Y>pt){Re(S,_r(void 0));return}else return Z.add(S),Re(S,_o(X)),$(oe,re,{fetcherSubmission:X});if(un(re)){tt(S,T,re.error);return}}if(hi(re))throw on(400,{type:"defer-action"});let ze=y.navigation.location||y.location,at=Qi(t.history,ze,le.signal),ao=a||o,gr=y.navigation.state!=="idle"?fs(ao,y.navigation.location,l):y.matches;he(gr,"Didn't find any matches after fetcher action");let Gi=++V;se.set(S,Gi);let Ki=_o(X,re.data);y.fetchers.set(S,Ki);let[qi,Dn]=Zg(t.history,y,gr,X,ze,!1,c.unstable_skipActionErrorRevalidation,fe,xe,ge,Ce,ke,Z,ao,l,[F.route.id,re]);Dn.filter(gt=>gt.key!==S).forEach(gt=>{let lo=gt.key,$m=y.fetchers.get(lo),bS=_o(void 0,$m?$m.data:void 0);y.fetchers.set(lo,bS),b.has(lo)&&nn(lo),gt.controller&&b.set(lo,gt.controller)}),je({fetchers:new Map(y.fetchers)});let tl=()=>Dn.forEach(gt=>nn(gt.key));le.signal.addEventListener("abort",tl);let{loaderResults:nl,fetcherResults:rl}=await Q(y.matches,gr,qi,Dn,at);if(le.signal.aborted)return;le.signal.removeEventListener("abort",tl),se.delete(S),b.delete(S),Dn.forEach(gt=>b.delete(gt.key));let _e=lv([...nl,...rl]);if(_e){if(_e.idx>=qi.length){let gt=Dn[_e.idx-qi.length].key;Z.add(gt)}return $(at,_e.result)}let{loaderData:Pt,errors:rn}=iv(y,y.matches,qi,nl,void 0,Dn,rl,we);if(y.fetchers.has(S)){let gt=_r(re.data);y.fetchers.set(S,gt)}Ja(Gi),y.navigation.state==="loading"&&Gi>Y?(he(R,"Expected pending action"),O&&O.abort(),pr(y.navigation.location,{matches:gr,loaderData:Pt,errors:rn,fetchers:new Map(y.fetchers)})):(je({errors:rn,loaderData:sv(y.loaderData,Pt,gr,rn),fetchers:new Map(y.fetchers)}),fe=!1)}async function j(S,T,x,F,H,ae,X){let q=y.fetchers.get(S);Re(S,_o(X,q?q.data:void 0),{flushSync:ae});let le=new AbortController,oe=Qi(t.history,x,le.signal);b.set(S,le);let pt=V,re=(await M("loader",oe,[F],H))[0];if(hi(re)&&(re=await _w(re,oe.signal,!0)||re),b.get(S)===le&&b.delete(S),!oe.signal.aborted){if(Ce.has(S)){Re(S,_r(void 0));return}if(pi(re))if(Y>pt){Re(S,_r(void 0));return}else{Z.add(S),await $(oe,re);return}if(un(re)){tt(S,T,re.error);return}he(!hi(re),"Unhandled fetcher deferred data"),Re(S,_r(re.data))}}async function $(S,T,x){let{submission:F,fetcherSubmission:H,replace:ae}=x===void 0?{}:x;T.response.headers.has("X-Remix-Revalidate")&&(fe=!0);let X=T.response.headers.get("Location");he(X,"Expected a Location header on the redirect Response"),X=nv(X,new URL(S.url),l);let q=ma(y.location,X,{_isRedirect:!0});if(n){let ze=!1;if(T.response.headers.has("X-Remix-Reload-Document"))ze=!0;else if(_p.test(X)){const at=t.history.createURL(X);ze=at.origin!==e.location.origin||Ys(at.pathname,l)==null}if(ze){ae?e.location.replace(X):e.location.assign(X);return}}O=null;let le=ae===!0?Je.Replace:Je.Push,{formMethod:oe,formAction:pt,formEncType:mt}=y.navigation;!F&&!H&&oe&&pt&&mt&&(F=cv(y.navigation));let re=F||H;if(LT.has(T.response.status)&&re&&wn(re.formMethod))await mr(le,q,{submission:We({},re,{formAction:X}),preventScrollReset:D});else{let ze=gd(q,F);await mr(le,q,{overrideNavigation:ze,fetcherSubmission:H,preventScrollReset:D})}}async function M(S,T,x,F){try{let H=await BT(u,S,T,x,F,s,i);return await Promise.all(H.map((ae,X)=>{if(YT(ae)){let q=ae.result;return{type:Ve.redirect,response:GT(q,T,x[X].route.id,F,l,c.v7_relativeSplatPath)}}return HT(ae)}))}catch(H){return x.map(()=>({type:Ve.error,error:H}))}}async function Q(S,T,x,F,H){let[ae,...X]=await Promise.all([x.length?M("loader",H,x,T):[],...F.map(q=>{if(q.matches&&q.match&&q.controller){let le=Qi(t.history,q.path,q.controller.signal);return M("loader",le,[q.match],q.matches).then(oe=>oe[0])}else return Promise.resolve({type:Ve.error,error:on(404,{pathname:q.path})})})]);return await Promise.all([uv(S,x,ae,ae.map(()=>H.signal),!1,y.loaderData),uv(S,F.map(q=>q.match),X,F.map(q=>q.controller?q.controller.signal:null),!0)]),{loaderResults:ae,fetcherResults:X}}function ye(){fe=!0,xe.push(...zc()),ke.forEach((S,T)=>{b.has(T)&&(ge.push(T),nn(T))})}function Re(S,T,x){x===void 0&&(x={}),y.fetchers.set(S,T),je({fetchers:new Map(y.fetchers)},{flushSync:(x&&x.flushSync)===!0})}function tt(S,T,x,F){F===void 0&&(F={});let H=Vo(y.matches,T);Hi(S),je({errors:{[H.route.id]:x},fetchers:new Map(y.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Bn(S){return c.v7_fetcherPersist&&(Se.set(S,(Se.get(S)||0)+1),Ce.has(S)&&Ce.delete(S)),y.fetchers.get(S)||MT}function Hi(S){let T=y.fetchers.get(S);b.has(S)&&!(T&&T.state==="loading"&&se.has(S))&&nn(S),ke.delete(S),se.delete(S),Z.delete(S),Ce.delete(S),y.fetchers.delete(S)}function so(S){if(c.v7_fetcherPersist){let T=(Se.get(S)||0)-1;T<=0?(Se.delete(S),Ce.add(S)):Se.set(S,T)}else Hi(S);je({fetchers:new Map(y.fetchers)})}function nn(S){let T=b.get(S);he(T,"Expected fetch controller: "+S),T.abort(),b.delete(S)}function Xa(S){for(let T of S){let x=Bn(T),F=_r(x.data);y.fetchers.set(T,F)}}function oo(){let S=[],T=!1;for(let x of Z){let F=y.fetchers.get(x);he(F,"Expected fetcher: "+x),F.state==="loading"&&(Z.delete(x),S.push(x),T=!0)}return Xa(S),T}function Ja(S){let T=[];for(let[x,F]of se)if(F<S){let H=y.fetchers.get(x);he(H,"Expected fetcher: "+x),H.state==="loading"&&(nn(x),se.delete(x),T.push(x))}return Xa(T),T.length>0}function Za(S,T){let x=y.blockers.get(S)||yo;return be.get(S)!==T&&be.set(S,T),x}function Lm(S){y.blockers.delete(S),be.delete(S)}function el(S,T){let x=y.blockers.get(S)||yo;he(x.state==="unblocked"&&T.state==="blocked"||x.state==="blocked"&&T.state==="blocked"||x.state==="blocked"&&T.state==="proceeding"||x.state==="blocked"&&T.state==="unblocked"||x.state==="proceeding"&&T.state==="unblocked","Invalid blocker state transition: "+x.state+" -> "+T.state);let F=new Map(y.blockers);F.set(S,T),je({blockers:F})}function Mm(S){let{currentLocation:T,nextLocation:x,historyAction:F}=S;if(be.size===0)return;be.size>1&&Ls(!1,"A router only supports one blocker at a time");let H=Array.from(be.entries()),[ae,X]=H[H.length-1],q=y.blockers.get(ae);if(!(q&&q.state==="proceeding")&&X({currentLocation:T,nextLocation:x,historyAction:F}))return ae}function zc(S){let T=[];return we.forEach((x,F)=>{(!S||S(F))&&(x.cancel(),T.push(F),we.delete(F))}),T}function NS(S,T,x){if(g=S,_=T,v=x||null,!I&&y.navigation===md){I=!0;let F=Um(y.location,y.matches);F!=null&&je({restoreScrollPosition:F})}return()=>{g=null,_=null,v=null}}function Fm(S,T){return v&&v(S,T.map(F=>fT(F,y.loaderData)))||S.key}function xS(S,T){if(g&&_){let x=Fm(S,T);g[x]=_()}}function Um(S,T){if(g){let x=Fm(S,T),F=g[x];if(typeof F=="number")return F}return null}function AS(S){s={},a=Of(S,i,void 0,s)}return A={get basename(){return l},get future(){return c},get state(){return y},get routes(){return o},get window(){return e},initialize:tn,subscribe:Vn,enableScrollRestoration:NS,navigate:io,fetch:C,revalidate:Dm,createHref:S=>t.history.createHref(S),encodeLocation:S=>t.history.encodeLocation(S),getFetcher:Bn,deleteFetcher:so,dispose:si,getBlocker:Za,deleteBlocker:Lm,_internalFetchControllers:b,_internalActiveDeferreds:we,_internalSetRoutes:AS},A}function $T(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Lf(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){u=d;break}}else l=e,u=e[e.length-1];let c=gp(i||".",mp(l,s),Ys(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!wp(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:nr([n,c.pathname])),xi(c)}function Jg(t,e,n,r){if(!r||!$T(r))return{path:n};if(r.formMethod&&!XT(r.formMethod))return{path:n,error:on(405,{method:r.formMethod})};let i=()=>({path:n,error:on(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=vw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!wn(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,v)=>{let[_,I]=v;return""+g+_+"="+I+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!wn(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}he(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Mf(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Mf(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=rv(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=rv(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(wn(c.formMethod))return{path:n,submission:c};let d=Zr(n);return e&&d.search&&wp(d.search)&&l.append("index",""),d.search="?"+l,{path:xi(d),submission:c}}function jT(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Zg(t,e,n,r,i,s,o,a,l,u,c,d,f,g,v,_){let I=_?un(_[1])?_[1].error:_[1].data:void 0,m=t.createURL(e.location),h=t.createURL(i),p=_&&un(_[1])?_[0]:void 0,E=p?jT(n,p):n,k=_?_[1].statusCode:void 0,A=o&&k&&k>=400,y=E.filter((D,O)=>{let{route:J}=D;if(J.lazy)return!0;if(J.loader==null)return!1;if(s)return typeof J.loader!="function"||J.loader.hydrate?!0:e.loaderData[J.id]===void 0&&(!e.errors||e.errors[J.id]===void 0);if(zT(e.loaderData,e.matches[O],D)||l.some(ee=>ee===D.route.id))return!0;let z=e.matches[O],K=D;return ev(D,We({currentUrl:m,currentParams:z.params,nextUrl:h,nextParams:K.params},r,{actionResult:I,unstable_actionStatus:k,defaultShouldRevalidate:A?!1:a||m.pathname+m.search===h.pathname+h.search||m.search!==h.search||gw(z,K)}))}),R=[];return d.forEach((D,O)=>{if(s||!n.some(fe=>fe.route.id===D.routeId)||c.has(O))return;let J=fs(g,D.path,v);if(!J){R.push({key:O,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let z=e.fetchers.get(O),K=Ff(J,D.path),ee=!1;f.has(O)?ee=!1:u.includes(O)?ee=!0:z&&z.state!=="idle"&&z.data===void 0?ee=a:ee=ev(K,We({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:h,nextParams:n[n.length-1].params},r,{actionResult:I,unstable_actionStatus:k,defaultShouldRevalidate:A?!1:a})),ee&&R.push({key:O,routeId:D.routeId,path:D.path,matches:J,match:K,controller:new AbortController})}),[y,R]}function zT(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function gw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ev(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function tv(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];he(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ls(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!cT.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,We({},e(i),{lazy:void 0}))}function VT(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function BT(t,e,n,r,i,s,o,a){let l=r.reduce((d,f)=>d.add(f.route.id),new Set),u=new Set,c=await t({matches:i.map(d=>{let f=l.has(d.route.id);return We({},d,{shouldLoad:f,resolve:v=>(u.add(d.route.id),f?WT(e,n,d,s,o,v,a):Promise.resolve({type:Ve.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(d=>he(u.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),c.filter((d,f)=>l.has(i[f].route.id))}async function WT(t,e,n,r,i,s,o){let a,l,u=c=>{let d,f=new Promise((_,I)=>d=I);l=()=>d(),e.signal.addEventListener("abort",l);let g=_=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},..._!==void 0?[_]:[]),v;return s?v=s(_=>g(_)):v=(async()=>{try{return{type:"data",result:await g()}}catch(_){return{type:"error",result:_}}})(),Promise.race([v,f])};try{let c=n.route[t];if(n.route.lazy)if(c){let d,[f]=await Promise.all([u(c).catch(g=>{d=g}),tv(n.route,i,r)]);if(d!==void 0)throw d;a=f}else if(await tv(n.route,i,r),c=n.route[t],c)a=await u(c);else if(t==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw on(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Ve.data,result:void 0};else if(c)a=await u(c);else{let d=new URL(e.url),f=d.pathname+d.search;throw on(404,{pathname:f})}he(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Ve.error,result:c}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function HT(t){let{result:e,type:n,status:r}=t;if(yw(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Ve.error,error:a}}return n===Ve.error?{type:Ve.error,error:new vp(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Ve.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Ve.error)return{type:Ve.error,error:e,statusCode:yp(e)?e.status:r};if(QT(e)){var i,s;return{type:Ve.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Ve.data,data:e,statusCode:r}}function GT(t,e,n,r,i,s){let o=t.headers.get("Location");if(he(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!_p.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Lf(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function nv(t,e,n){if(_p.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Ys(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Qi(t,e,n,r){let i=t.createURL(vw(e)).toString(),s={signal:n};if(r&&wn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Mf(r.formData):s.body=r.formData}return new Request(i,s)}function Mf(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function rv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function KT(t,e,n,r,i,s){let o={},a=null,l,u=!1,c={},d=r&&un(r[1])?r[1].error:void 0;return n.forEach((f,g)=>{let v=e[g].route.id;if(he(!pi(f),"Cannot handle redirect results in processLoaderData"),un(f)){let _=f.error;d!==void 0&&(_=d,d=void 0),a=a||{};{let I=Vo(t,v);a[I.route.id]==null&&(a[I.route.id]=_)}o[v]=void 0,u||(u=!0,l=yp(f.error)?f.error.status:500),f.headers&&(c[v]=f.headers)}else hi(f)?(i.set(v,f.deferredData),o[v]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(c[v]=f.headers)):(o[v]=f.data,f.statusCode&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(c[v]=f.headers))}),d!==void 0&&r&&(a={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:c}}function iv(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=KT(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:f,controller:g}=s[c];he(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let v=o[c];if(!(g&&g.signal.aborted))if(un(v)){let _=Vo(t.matches,f==null?void 0:f.route.id);u&&u[_.route.id]||(u=We({},u,{[_.route.id]:v.error})),t.fetchers.delete(d)}else if(pi(v))he(!1,"Unhandled fetcher revalidation redirect");else if(hi(v))he(!1,"Unhandled fetcher deferred data");else{let _=_r(v.data);t.fetchers.set(d,_)}}return{loaderData:l,errors:u}}function sv(t,e,n,r){let i=We({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function ov(t){return t?un(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Vo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function av(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function on(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new vp(t||500,o,new Error(a),!0)}function lv(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(pi(n))return{result:n,idx:e}}}function vw(t){let e=typeof t=="string"?Zr(t):t;return xi(We({},e,{hash:""}))}function qT(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function YT(t){return yw(t.result)&&OT.has(t.result.status)}function hi(t){return t.type===Ve.deferred}function un(t){return t.type===Ve.error}function pi(t){return(t&&t.type)===Ve.redirect}function QT(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function yw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function XT(t){return DT.has(t.toLowerCase())}function wn(t){return AT.has(t.toLowerCase())}async function uv(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!gw(u,l)&&(s&&s[l.route.id])!==void 0;if(hi(a)&&(i||c)){let d=r[o];he(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await _w(a,d,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function _w(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ve.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ve.error,error:i}}return{type:Ve.data,data:t.deferredData.data}}}function wp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ff(t,e){let n=typeof e=="string"?Zr(e).search:e.search;if(t[t.length-1].route.index&&wp(n||""))return t[t.length-1];let r=hw(t);return r[r.length-1]}function cv(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function gd(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function JT(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _o(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZT(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function _r(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ek(t,e){try{let n=t.sessionStorage.getItem(mw);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function tk(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(mw,JSON.stringify(n))}catch(r){Ls(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}const vc=P.createContext(null),ww=P.createContext(null),zi=P.createContext(null),Ep=P.createContext(null),Vi=P.createContext({outlet:null,matches:[],isDataRoute:!1}),Ew=P.createContext(null);function nk(t,e){let{relative:n}=e===void 0?{}:e;Fa()||he(!1);let{basename:r,navigator:i}=P.useContext(zi),{hash:s,pathname:o,search:a}=Cw(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:nr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Fa(){return P.useContext(Ep)!=null}function yc(){return Fa()||he(!1),P.useContext(Ep).location}function Sw(t){P.useContext(zi).static||P.useLayoutEffect(t)}function Sp(){let{isDataRoute:t}=P.useContext(Vi);return t?pk():rk()}function rk(){Fa()||he(!1);let t=P.useContext(vc),{basename:e,future:n,navigator:r}=P.useContext(zi),{matches:i}=P.useContext(Vi),{pathname:s}=yc(),o=JSON.stringify(mp(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return Sw(()=>{a.current=!0}),P.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=gp(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:nr([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function Cw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(zi),{matches:i}=P.useContext(Vi),{pathname:s}=yc(),o=JSON.stringify(mp(i,r.v7_relativeSplatPath));return P.useMemo(()=>gp(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function ik(t,e,n,r){Fa()||he(!1);let{navigator:i}=P.useContext(zi),{matches:s}=P.useContext(Vi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=yc(),c;c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=fs(t,{pathname:f});return uk(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:nr([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:nr([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r)}function sk(){let t=hk(),e=yp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const ok=P.createElement(sk,null);class ak extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Vi.Provider,{value:this.props.routeContext},P.createElement(Ew.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lk(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(vc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Vi.Provider,{value:e},r)}function uk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||he(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:g}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let g,v=!1,_=null,I=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,_=d.route.errorElement||ok,l&&(u<0&&f===0?(v=!0,I=null):u===f&&(v=!0,I=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),h=()=>{let p;return g?p=_:v?p=I:d.route.Component?p=P.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=c,P.createElement(lk,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:p})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?P.createElement(ak,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var Iw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Iw||{}),Iu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Iu||{});function ck(t){let e=P.useContext(vc);return e||he(!1),e}function dk(t){let e=P.useContext(ww);return e||he(!1),e}function fk(t){let e=P.useContext(Vi);return e||he(!1),e}function Tw(t){let e=fk(),n=e.matches[e.matches.length-1];return n.route.id||he(!1),n.route.id}function hk(){var t;let e=P.useContext(Ew),n=dk(Iu.UseRouteError),r=Tw(Iu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pk(){let{router:t}=ck(Iw.UseNavigateStable),e=Tw(Iu.UseNavigateStable),n=P.useRef(!1);return Sw(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Cu({fromRouteId:e},s)))},[t,e])}function mk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Je.Pop,navigator:s,static:o=!1,future:a}=t;Fa()&&he(!1);let l=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:s,static:o,future:Cu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Zr(r));let{pathname:c="/",search:d="",hash:f="",state:g=null,key:v="default"}=r,_=P.useMemo(()=>{let I=Ys(c,l);return I==null?null:{location:{pathname:I,search:d,hash:f,state:g,key:v},navigationType:i}},[l,c,d,f,g,v,i]);return _==null?null:P.createElement(zi.Provider,{value:u},P.createElement(Ep.Provider,{children:n,value:_}))}new Promise(()=>{});function gk(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:P.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:P.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ga(){return ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ga.apply(this,arguments)}function vk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _k(t,e){return t.button===0&&(!e||e==="_self")&&!yk(t)}const wk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Ek="6";try{window.__reactRouterVersion=Ek}catch{}function Sk(t,e){return UT({basename:void 0,future:ga({},void 0,{v7_prependBasename:!0}),history:aT({window:void 0}),hydrationData:Ck(),routes:t,mapRouteProperties:gk,unstable_dataStrategy:void 0,window:void 0}).initialize()}function Ck(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ga({},e,{errors:Ik(e.errors)})),e}function Ik(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new vp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Tk=P.createContext({isTransitioning:!1}),kk=P.createContext(new Map),Rk="startTransition",dv=qS[Rk],Pk="flushSync",fv=oT[Pk];function Nk(t){dv?dv(t):t()}function wo(t){fv?fv(t):t()}let xk=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Ak(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=P.useState(n.state),[o,a]=P.useState(),[l,u]=P.useState({isTransitioning:!1}),[c,d]=P.useState(),[f,g]=P.useState(),[v,_]=P.useState(),I=P.useRef(new Map),{v7_startTransition:m}=r||{},h=P.useCallback(y=>{m?Nk(y):y()},[m]),p=P.useCallback((y,R)=>{let{deletedFetchers:D,unstable_flushSync:O,unstable_viewTransitionOpts:J}=R;D.forEach(K=>I.current.delete(K)),y.fetchers.forEach((K,ee)=>{K.data!==void 0&&I.current.set(ee,K.data)});let z=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!J||z){O?wo(()=>s(y)):h(()=>s(y));return}if(O){wo(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:J.currentLocation,nextLocation:J.nextLocation})});let K=n.window.document.startViewTransition(()=>{wo(()=>s(y))});K.finished.finally(()=>{wo(()=>{d(void 0),g(void 0),a(void 0),u({isTransitioning:!1})})}),wo(()=>g(K));return}f?(c&&c.resolve(),f.skipTransition(),_({state:y,currentLocation:J.currentLocation,nextLocation:J.nextLocation})):(a(y),u({isTransitioning:!0,flushSync:!1,currentLocation:J.currentLocation,nextLocation:J.nextLocation}))},[n.window,f,c,I,h]);P.useLayoutEffect(()=>n.subscribe(p),[n,p]),P.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new xk)},[l]),P.useEffect(()=>{if(c&&o&&n.window){let y=o,R=c.promise,D=n.window.document.startViewTransition(async()=>{h(()=>s(y)),await R});D.finished.finally(()=>{d(void 0),g(void 0),a(void 0),u({isTransitioning:!1})}),g(D)}},[h,o,c,n.window]),P.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,f,i.location,o]),P.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),_(void 0))},[l.isTransitioning,v]),P.useEffect(()=>{},[]);let E=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,R,D)=>n.navigate(y,{state:R,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(y,R,D)=>n.navigate(y,{replace:!0,state:R,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),k=n.basename||"/",A=P.useMemo(()=>({router:n,navigator:E,static:!1,basename:k}),[n,E,k]);return P.createElement(P.Fragment,null,P.createElement(vc.Provider,{value:A},P.createElement(ww.Provider,{value:i},P.createElement(kk.Provider,{value:I.current},P.createElement(Tk.Provider,{value:l},P.createElement(mk,{basename:k,location:i.location,navigationType:i.historyAction,navigator:E,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?P.createElement(bk,{routes:n.routes,future:n.future,state:i}):e))))),null)}function bk(t){let{routes:e,future:n,state:r}=t;return ik(e,void 0,r,n)}const Dk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ok=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kw=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,f=vk(e,wk),{basename:g}=P.useContext(zi),v,_=!1;if(typeof u=="string"&&Ok.test(u)&&(v=u,Dk))try{let p=new URL(window.location.href),E=u.startsWith("//")?new URL(p.protocol+u):new URL(u),k=Ys(E.pathname,g);E.origin===p.origin&&k!=null?u=k+E.search+E.hash:_=!0}catch{}let I=nk(u,{relative:i}),m=Lk(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function h(p){r&&r(p),p.defaultPrevented||m(p)}return P.createElement("a",ga({},f,{href:v||I,onClick:_||s?r:h,ref:n,target:l}))});var hv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hv||(hv={}));var pv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pv||(pv={}));function Lk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Sp(),u=yc(),c=Cw(t,{relative:o});return P.useCallback(d=>{if(_k(d,n)){d.preventDefault();let f=r!==void 0?r:xi(u)===xi(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var mv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw Qs(e)},Qs=function(t){return new Error("Firebase Database ("+Rw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Mk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Cp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(n[c],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Mk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Fk;const f=s<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Fk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nw=function(t){const e=Pw(t);return Cp.encodeByteArray(e,!0)},Tu=function(t){return Nw(t).replace(/\./g,"")},ku=function(t){try{return Cp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){return xw(void 0,t)}function xw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$k(n)||(t[n]=xw(t[n],e[n]));return t}function $k(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=()=>jk().__FIREBASE_DEFAULTS__,Vk=()=>{if(typeof process>"u"||typeof mv>"u")return;const t=mv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ku(t[1]);return e&&JSON.parse(e)},Ip=()=>{try{return zk()||Vk()||Bk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Aw=t=>{var e,n;return(n=(e=Ip())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Wk=t=>{const e=Aw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bw=()=>{var t;return(t=Ip())===null||t===void 0?void 0:t.config},Dw=t=>{var e;return(e=Ip())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tu(JSON.stringify(n)),Tu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function Gk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ow(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kk(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Lw(){return Rw.NODE_ADMIN===!0}function qk(){try{return typeof indexedDB=="object"}catch{return!1}}function Yk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Qk,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ua.prototype.create)}}class Ua{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Xk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ei(i,a,r)}}function Xk(t,e){return t.replace(Jk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Jk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t){return JSON.parse(t)}function ft(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=va(ku(s[0])||""),n=va(ku(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Zk=function(t){const e=Mw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},eR=function(t){const e=Mw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ms(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Uf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ru(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Pu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(gv(s)&&gv(o)){if(!Pu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ao(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function nR(t,e){const n=new rR(t,e);return n.subscribe.bind(n)}class rR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vd),i.error===void 0&&(i.error=vd),i.complete===void 0&&(i.complete=vd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vd(){}function kp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,U(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class Ai{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oR=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _c;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lR(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aR(t){return t===li?void 0:t}function lR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const cR={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},dR=Ne.INFO,fR={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},hR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rp{constructor(e){this.name=e,this._logLevel=dR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const pR=(t,e)=>e.some(n=>t instanceof n);let vv,yv;function mR(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gR(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fw=new WeakMap,$f=new WeakMap,Uw=new WeakMap,yd=new WeakMap,Pp=new WeakMap;function vR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Fw.set(n,t)}).catch(()=>{}),Pp.set(e,t),e}function yR(t){if($f.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$f.set(t,e)}let jf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $f.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Uw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _R(t){jf=t(jf)}function wR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_d(this),e,...n);return Uw.set(r,e.sort?e.sort():[e]),zr(r)}:gR().includes(t)?function(...e){return t.apply(_d(this),e),zr(Fw.get(this))}:function(...e){return zr(t.apply(_d(this),e))}}function ER(t){return typeof t=="function"?wR(t):(t instanceof IDBTransaction&&yR(t),pR(t,mR())?new Proxy(t,jf):t)}function zr(t){if(t instanceof IDBRequest)return vR(t);if(yd.has(t))return yd.get(t);const e=ER(t);return e!==t&&(yd.set(t,e),Pp.set(e,t)),e}const _d=t=>Pp.get(t);function SR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zr(o.result),l.oldVersion,l.newVersion,zr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const CR=["get","getKey","getAll","getAllKeys","count"],IR=["put","add","delete","clear"],wd=new Map;function _v(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wd.get(e))return wd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return wd.set(e,s),s}_R(t=>({...t,get:(e,n,r)=>_v(e,n)||t.get(e,n,r),has:(e,n)=>!!_v(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zf="@firebase/app",wv="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Rp("@firebase/app"),RR="@firebase/app-compat",PR="@firebase/analytics-compat",NR="@firebase/analytics",xR="@firebase/app-check-compat",AR="@firebase/app-check",bR="@firebase/auth",DR="@firebase/auth-compat",OR="@firebase/database",LR="@firebase/database-compat",MR="@firebase/functions",FR="@firebase/functions-compat",UR="@firebase/installations",$R="@firebase/installations-compat",jR="@firebase/messaging",zR="@firebase/messaging-compat",VR="@firebase/performance",BR="@firebase/performance-compat",WR="@firebase/remote-config",HR="@firebase/remote-config-compat",GR="@firebase/storage",KR="@firebase/storage-compat",qR="@firebase/firestore",YR="@firebase/vertexai-preview",QR="@firebase/firestore-compat",XR="firebase",JR="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]",ZR={[zf]:"fire-core",[RR]:"fire-core-compat",[NR]:"fire-analytics",[PR]:"fire-analytics-compat",[AR]:"fire-app-check",[xR]:"fire-app-check-compat",[bR]:"fire-auth",[DR]:"fire-auth-compat",[OR]:"fire-rtdb",[LR]:"fire-rtdb-compat",[MR]:"fire-fn",[FR]:"fire-fn-compat",[UR]:"fire-iid",[$R]:"fire-iid-compat",[jR]:"fire-fcm",[zR]:"fire-fcm-compat",[VR]:"fire-perf",[BR]:"fire-perf-compat",[WR]:"fire-rc",[HR]:"fire-rc-compat",[GR]:"fire-gcs",[KR]:"fire-gcs-compat",[qR]:"fire-fst",[QR]:"fire-fst-compat",[YR]:"fire-vertex","fire-js":"fire-js",[XR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Map,eP=new Map,Bf=new Map;function Ev(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(Bf.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Bf.set(e,t);for(const n of Nu.values())Ev(n,t);for(const n of eP.values())Ev(n,t);return!0}function Np(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Ua("app","Firebase",tP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=JR;function $w(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(n||(n=bw()),!n)throw Vr.create("no-options");const s=Nu.get(i);if(s){if(Pu(n,s.options)&&Pu(r,s.config))return s;throw Vr.create("duplicate-app",{appName:i})}const o=new uR(i);for(const l of Bf.values())o.addComponent(l);const a=new nP(n,r,o);return Nu.set(i,a),a}function jw(t=Vf){const e=Nu.get(t);if(!e&&t===Vf&&bw())return $w();if(!e)throw Vr.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let i=(r=ZR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}Fs(new Ai(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="firebase-heartbeat-database",iP=1,ya="firebase-heartbeat-store";let Ed=null;function zw(){return Ed||(Ed=SR(rP,iP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ya)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),Ed}async function sP(t){try{const n=(await zw()).transaction(ya),r=await n.objectStore(ya).get(Vw(t));return await n.done,r}catch(e){if(e instanceof ei)bi.warn(e.message);else{const n=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function Sv(t,e){try{const r=(await zw()).transaction(ya,"readwrite");await r.objectStore(ya).put(e,Vw(t)),await r.done}catch(n){if(n instanceof ei)bi.warn(n.message);else{const r=Vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function Vw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=1024,aP=30*24*60*60*1e3;class lP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=aP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cv(),{heartbeatsToSend:r,unsentEntries:i}=uP(this._heartbeatsCache.heartbeats),s=Tu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Cv(){return new Date().toISOString().substring(0,10)}function uP(t,e=oP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Iv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Iv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qk()?Yk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Iv(t){return Tu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){Fs(new Ai("platform-logger",e=>new TR(e),"PRIVATE")),Fs(new Ai("heartbeat",e=>new lP(e),"PRIVATE")),Br(zf,wv,t),Br(zf,wv,"esm2017"),Br("fire-js","")}dP("");var Ut=function(){return Ut=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ut.apply(this,arguments)};function xp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _a(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fP=Bw,Ww=new Ua("auth","Firebase",Bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new Rp("@firebase/auth");function hP(t,...e){xu.logLevel<=Ne.WARN&&xu.warn(`Auth (${Js}): ${t}`,...e)}function zl(t,...e){xu.logLevel<=Ne.ERROR&&xu.error(`Auth (${Js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw bp(t,...e)}function Nn(t,...e){return bp(t,...e)}function Ap(t,e,n){const r=Object.assign(Object.assign({},fP()),{[e]:n});return new Ua("auth","Firebase",r).create(e,{appName:t.name})}function rr(t){return Ap(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),Ap(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ww.create(t,...e)}function te(t,e,...n){if(!t)throw bp(e,...n)}function Xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zl(e),new Error(e)}function ur(t,e){t||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mP(){return Tv()==="http:"||Tv()==="https:"}function Tv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mP()||Gk()||"connection"in navigator)?navigator.onLine:!0}function vP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=Tp()||Ow()}get(){return gP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t,e){ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new $a(3e4,6e4);function ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ni(t,e,n,r,i={}){return Gw(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Xs(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Hw.fetch()(Kw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Gw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yP),e);try{const i=new EP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw El(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw El(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw El(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw El(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ap(t,c,u);pn(t,c)}}catch(i){if(i instanceof ei)throw i;pn(t,"network-request-failed",{message:String(i)})}}async function ja(t,e,n,r,i={}){const s=await ni(t,e,n,r,i);return"mfaPendingCredential"in s&&pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Kw(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Dp(t.config,i):`${t.config.apiScheme}://${i}`}function wP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nn(this.auth,"network-request-failed")),_P.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function El(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nn(t,e,r);return i.customData._tokenResponse=n,i}function kv(t){return t!==void 0&&t.enterprise!==void 0}class SP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function CP(t,e){return ni(t,"GET","/v2/recaptchaConfig",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(t,e){return ni(t,"POST","/v1/accounts:delete",e)}async function qw(t,e){return ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TP(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),i=Op(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Bo(Sd(i.auth_time)),issuedAtTime:Bo(Sd(i.iat)),expirationTime:Bo(Sd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Sd(t){return Number(t)*1e3}function Op(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zl("JWT malformed, contained fewer than 3 sections"),null;try{const i=ku(n);return i?JSON.parse(i):(zl("Failed to decode base64 JWT payload"),null)}catch(i){return zl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Rv(t){const e=Op(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&kP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bo(this.lastLoginAt),this.creationTime=Bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t){var e;const n=t.auth,r=await t.getIdToken(),i=await wa(t,qw(n,{idToken:r}));te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Yw(s.providerUserInfo):[],a=NP(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hf(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function PP(t){const e=Lt(t);await Au(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yw(t){return t.map(e=>{var{providerId:n}=e,r=xp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(t,e){const n=await Gw(t,{},async()=>{const r=Xs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Kw(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hw.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AP(t,e){return ni(t,"POST","/v2/accounts:revokeToken",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=Rv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await xP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ss;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ss,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await wa(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TP(this,e)}reload(){return PP(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Au(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await wa(this,IP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,h=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:p,emailVerified:E,isAnonymous:k,providerData:A,stsTokenManager:y}=n;te(p&&y,e,"internal-error");const R=Ss.fromJSON(this.name,y);te(typeof p=="string",e,"internal-error"),yr(d,e.name),yr(f,e.name),te(typeof E=="boolean",e,"internal-error"),te(typeof k=="boolean",e,"internal-error"),yr(g,e.name),yr(v,e.name),yr(_,e.name),yr(I,e.name),yr(m,e.name),yr(h,e.name);const D=new Jn({uid:p,auth:e,email:f,emailVerified:E,displayName:d,isAnonymous:k,photoURL:v,phoneNumber:g,tenantId:_,stsTokenManager:R,createdAt:m,lastLoginAt:h});return A&&Array.isArray(A)&&(D.providerData=A.map(O=>Object.assign({},O))),I&&(D._redirectEventId=I),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ss;i.updateFromServerResponse(n);const s=new Jn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Au(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Yw(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ss;a.updateFromIdToken(r);const l=new Jn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;function Zn(t){ur(t instanceof Function,"Expected a class definition");let e=Pv.get(t);return e?(ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Pv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qw.type="NONE";const Nv=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t,e,n){return`firebase:${t}:${e}:${n}`}class Cs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cs(Zn(Nv),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Zn(Nv);const o=Vl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Jn._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Cs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Cs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tE(e))return"Blackberry";if(nE(e))return"Webos";if(Lp(e))return"Safari";if((e.includes("chrome/")||Jw(e))&&!e.includes("edge/"))return"Chrome";if(eE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Xw(t=kt()){return/firefox\//i.test(t)}function Lp(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jw(t=kt()){return/crios\//i.test(t)}function Zw(t=kt()){return/iemobile/i.test(t)}function eE(t=kt()){return/android/i.test(t)}function tE(t=kt()){return/blackberry/i.test(t)}function nE(t=kt()){return/webos/i.test(t)}function Ec(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bP(t=kt()){var e;return Ec(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DP(){return Kk()&&document.documentMode===10}function rE(t=kt()){return Ec(t)||eE(t)||nE(t)||tE(t)||/windows phone/i.test(t)||Zw(t)}function OP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t,e=[]){let n;switch(t){case"Browser":n=xv(kt());break;case"Worker":n=`${xv(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e={}){return ni(t,"GET","/v2/passwordPolicy",ti(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=6;class UP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:FP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Av(this),this.idTokenSubscription=new Av(this),this.beforeStateQueue=new LP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ww,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Cs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qw(this,{idToken:e}),r=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(In(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Au(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(rr(this));const n=e?Lt(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MP(this),n=new UP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ua("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zn(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await Cs.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ri(t){return Lt(t)}class Av{constructor(e){this.auth=e,this.observer=null,this.addObserver=nR(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jP(t){Sc=t}function sE(t){return Sc.loadJS(t)}function zP(){return Sc.recaptchaEnterpriseScript}function VP(){return Sc.gapiScript}function BP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const WP="recaptcha-enterprise",HP="NO_RECAPTCHA";class GP{constructor(e){this.type=WP,this.auth=ri(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{CP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new SP(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;kv(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(HP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&kv(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=zP();l.length!==0&&(l+=a),sE(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function bv(t,e,n,r=!1){const i=new GP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await bv(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bv(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t,e){const n=Np(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pu(s,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function qP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YP(t,e,n){const r=ri(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=oE(e),{host:o,port:a}=QP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),XP()}function oE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QP(t){const e=oE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Dv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Dv(o)}}}function Dv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,n){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}async function JP(t,e){return ni(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(t,e){return ja(t,"POST","/v1/accounts:signInWithPassword",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(t,e){return ja(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}async function tN(t,e){return ja(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Mp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ea(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ea(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gf(e,n,"signInWithPassword",ZP);case"emailLink":return eN(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gf(e,r,"signUpPassword",JP);case"emailLink":return tN(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(t,e){return ja(t,"POST","/v1/accounts:signInWithIdp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="http://localhost";class Di extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=xp(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Di(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Is(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Is(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Is(e,n)}buildRequest(){const e={requestUri:nN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iN(t){const e=xo(Ao(t)).link,n=e?xo(Ao(e)).deep_link_id:null,r=xo(Ao(t)).deep_link_id;return(r?xo(Ao(r)).link:null)||r||n||e||t}class Fp{constructor(e){var n,r,i,s,o,a;const l=xo(Ao(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=rN((i=l.mode)!==null&&i!==void 0?i:null);te(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=iN(e);try{return new Fp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.providerId=Zs.PROVIDER_ID}static credential(e,n){return Ea._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Fp.parseLink(n);return te(r,"argument-error"),Ea._fromEmailAndCode(e,r.code,r.tenantId)}}Zs.PROVIDER_ID="password";Zs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends za{constructor(){super("facebook.com")}static credential(e){return Di._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends za{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Di._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qn.credential(n,r)}catch{return null}}}qn.GOOGLE_SIGN_IN_METHOD="google.com";qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends za{constructor(){super("github.com")}static credential(e){return Di._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends za{constructor(){super("twitter.com")}static credential(e,n){return Di._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(t,e){return ja(t,"POST","/v1/accounts:signUp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Jn._fromIdTokenResponse(e,r,i),o=Ov(r);return new Oi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ov(r);return new Oi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ov(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends ei{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bu(e,n,r,i)}}function aE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bu._fromErrorAndOperation(t,s,e,r):s})}async function oN(t,e,n=!1){const r=await wa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(t,e,n=!1){const{auth:r}=t;if(In(r.app))return Promise.reject(rr(r));const i="reauthenticate";try{const s=await wa(t,aE(r,i,e,t),n);te(s.idToken,r,"internal-error");const o=Op(s.idToken);te(o,r,"internal-error");const{sub:a}=o;return te(t.uid===a,r,"user-mismatch"),Oi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lE(t,e,n=!1){if(In(t.app))return Promise.reject(rr(t));const r="signIn",i=await aE(t,r,e),s=await Oi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function lN(t,e){return lE(ri(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uE(t){const e=ri(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uN(t,e,n){if(In(t.app))return Promise.reject(rr(t));const r=ri(t),o=await Gf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sN).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uE(t),l}),a=await Oi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function cN(t,e,n){return In(t.app)?Promise.reject(rr(t)):lN(Lt(t),Zs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uE(t),r})}function dN(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function fN(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function hN(t,e,n,r){return Lt(t).onAuthStateChanged(e,n,r)}function pN(t){return Lt(t).signOut()}const Du="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Du,"1"),this.storage.removeItem(Du),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){const t=kt();return Lp(t)||Ec(t)}const gN=1e3,vN=10;class dE extends cE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=mN()&&OP(),this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);DP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dE.type="LOCAL";const yN=dE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends cE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fE.type="SESSION";const hE=fE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await _N(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=$p("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return window}function EN(t){zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}async function SN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function IN(){return pE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="firebaseLocalStorageDb",TN=1,Ou="firebaseLocalStorage",gE="fbase_key";class Va{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ic(t,e){return t.transaction([Ou],e?"readwrite":"readonly").objectStore(Ou)}function kN(){const t=indexedDB.deleteDatabase(mE);return new Va(t).toPromise()}function Kf(){const t=indexedDB.open(mE,TN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ou,{keyPath:gE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ou)?e(r):(r.close(),await kN(),e(await Kf()))})})}async function Lv(t,e,n){const r=Ic(t,!0).put({[gE]:e,value:n});return new Va(r).toPromise()}async function RN(t,e){const n=Ic(t,!1).get(e),r=await new Va(n).toPromise();return r===void 0?null:r.value}function Mv(t,e){const n=Ic(t,!0).delete(e);return new Va(n).toPromise()}const PN=800,NN=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>NN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cc._getInstance(IN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SN(),!this.activeServiceWorker)return;this.sender=new wN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kf();return await Lv(e,Du,"1"),await Mv(e,Du),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ic(i,!1).getAll();return new Va(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const xN=vE;new $a(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t,e){return e?Zn(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends Mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Is(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Is(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Is(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AN(t){return lE(t.auth,new jp(t),t.bypassAuthState)}function bN(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),aN(n,new jp(t),t.bypassAuthState)}async function DN(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),oN(n,new jp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AN;case"linkViaPopup":case"linkViaRedirect":return DN;case"reauthViaPopup":case"reauthViaRedirect":return bN;default:pn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new $a(2e3,1e4);async function LN(t,e,n){if(In(t.app))return Promise.reject(Nn(t,"operation-not-supported-in-this-environment"));const r=ri(t);pP(t,e,Up);const i=yE(r,n);return new mi(r,"signInViaPopup",e,i).executeNotNull()}class mi extends _E{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,mi.currentPopupAction&&mi.currentPopupAction.cancel(),mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ON.get())};e()}}mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="pendingRedirect",Bl=new Map;class FN extends _E{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bl.get(this.auth._key());if(!e){try{const r=await UN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bl.set(this.auth._key(),e)}return this.bypassAuthState||Bl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UN(t,e){const n=zN(e),r=jN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $N(t,e){Bl.set(t._key(),e)}function jN(t){return Zn(t._redirectPersistence)}function zN(t){return Vl(MN,t.config.apiKey,t.name)}async function VN(t,e,n=!1){if(In(t.app))return Promise.reject(rr(t));const r=ri(t),i=yE(r,e),o=await new FN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=10*60*1e3;class WN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(e))}saveEventToCache(e){this.cachedEventUids.add(Fv(e)),this.lastProcessedEventTime=Date.now()}}function Fv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e={}){return ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qN=/^https?/;async function YN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GN(t);for(const n of e)try{if(QN(n))return}catch{}pn(t,"unauthorized-domain")}function QN(t){const e=Wf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qN.test(n))return!1;if(KN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new $a(3e4,6e4);function Uv(){const t=zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JN(t){return new Promise((e,n)=>{var r,i,s;function o(){Uv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uv(),n(Nn(t,"network-request-failed"))},timeout:XN.get()})}if(!((i=(r=zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=zn().gapi)===null||s===void 0)&&s.load)o();else{const a=BP("iframefcb");return zn()[a]=()=>{gapi.load?o():n(Nn(t,"network-request-failed"))},sE(`${VP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wl=null,e})}let Wl=null;function ZN(t){return Wl=Wl||JN(t),Wl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new $a(5e3,15e3),tx="__/auth/iframe",nx="emulator/auth/iframe",rx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ix=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sx(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dp(e,nx):`https://${t.config.authDomain}/${tx}`,r={apiKey:e.apiKey,appName:t.name,v:Js},i=ix.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xs(r).slice(1)}`}async function ox(t){const e=await ZN(t),n=zn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:sx(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rx,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Nn(t,"network-request-failed"),a=zn().setTimeout(()=>{s(o)},ex.get());function l(){zn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lx=500,ux=600,cx="_blank",dx="http://localhost";class $v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fx(t,e,n,r=lx,i=ux){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ax),{width:r.toString(),height:i.toString(),top:s,left:o}),u=kt().toLowerCase();n&&(a=Jw(u)?cx:n),Xw(u)&&(e=e||dx,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(bP(u)&&a!=="_self")return hx(e||"",a),new $v(null);const d=window.open(e||"",a,c);te(d,t,"popup-blocked");try{d.focus()}catch{}return new $v(d)}function hx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="__/auth/handler",mx="emulator/auth/handler",gx=encodeURIComponent("fac");async function jv(t,e,n,r,i,s){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Js,eventId:i};if(e instanceof Up){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Uf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof za){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${gx}=${encodeURIComponent(l)}`:"";return`${vx(t)}?${Xs(a).slice(1)}${u}`}function vx({config:t}){return t.emulator?Dp(t,mx):`https://${t.authDomain}/${px}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="webStorageSupport";class yx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hE,this._completeRedirectFn=VN,this._overrideRedirectResult=$N}async _openPopup(e,n,r,i){var s;ur((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await jv(e,n,r,Wf(),i);return fx(e,o,$p())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jv(e,n,r,Wf(),i);return EN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ur(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ox(e),r=new WN(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cd,{type:Cd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Cd];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rE()||Lp()||Ec()}}const _x=yx;var zv="@firebase/auth",Vv="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sx(t){Fs(new Ai("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iE(t)},u=new $P(r,i,s,l);return qP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fs(new Ai("auth-internal",e=>{const n=ri(e.getProvider("auth").getImmediate());return(r=>new wx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(zv,Vv,Ex(t)),Br(zv,Vv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=5*60,Ix=Dw("authIdTokenMaxAge")||Cx;let Bv=null;const Tx=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ix)return;const i=n==null?void 0:n.token;Bv!==i&&(Bv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kx(t=jw()){const e=Np(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KP(t,{popupRedirectResolver:_x,persistence:[xN,yN,hE]}),r=Dw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Tx(s.toString());fN(n,o,()=>o(n.currentUser)),dN(n,a=>o(a))}}const i=Aw("auth");return i&&YP(n,`http://${i}`),n}function Rx(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Nn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Rx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sx("Browser");var Wv={};const Hv="@firebase/database",Gv="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EE="";function Px(t){EE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ft(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:va(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return hr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Nx(e)}}catch{}return new xx},gi=SE("localStorage"),Ax=SE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Rp("@firebase/database"),bx=function(){let t=1;return function(){return t++}}(),CE=function(t){const e=sR(t),n=new tR;n.update(e);const r=n.digest();return Cp.encodeByteArray(r)},Ba=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ba.apply(null,r):typeof r=="object"?e+=ft(r):e+=r,e+=" "}return e};let Wo=null,Kv=!0;const Dx=function(t,e){U(!e,"Can't turn on custom loggers persistently."),Ts.logLevel=Ne.VERBOSE,Wo=Ts.log.bind(Ts)},It=function(...t){if(Kv===!0&&(Kv=!1,Wo===null&&Ax.get("logging_enabled")===!0&&Dx()),Wo){const e=Ba.apply(null,t);Wo(e)}},Wa=function(t){return function(...e){It(t,...e)}},qf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ba(...t);Ts.error(e)},cr=function(...t){const e=`FIREBASE FATAL ERROR: ${Ba(...t)}`;throw Ts.error(e),new Error(e)},Wt=function(...t){const e="FIREBASE WARNING: "+Ba(...t);Ts.warn(e)},Ox=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},IE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Lx=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Us="[MIN_NAME]",Li="[MAX_NAME]",eo=function(t,e){if(t===e)return 0;if(t===Us||e===Li)return-1;if(e===Us||t===Li)return 1;{const n=qv(t),r=qv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Mx=function(t,e){return t===e?0:t<e?-1:1},Eo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ft(e))},zp=function(t){if(typeof t!="object"||t===null)return ft(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ft(e[r]),n+=":",n+=zp(t[e[r]]);return n+="}",n},TE=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const kE=function(t){U(!IE(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Fx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ux=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $x(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const jx=new RegExp("^-?(0*)\\d{1,10}$"),zx=-2147483648,Vx=2147483647,qv=function(t){if(jx.test(t)){const e=Number(t);if(e>=zx&&e<=Vx)return e}return null},to=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Bx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ho=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(It("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wt(e)}}class Hl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Hl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="5",RE="v",PE="s",NE="r",xE="f",AE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bE="ls",DE="p",Yf="ac",OE="websocket",LE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Gx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function FE(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let r;if(e===OE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===LE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Gx(t)&&(n.ns=t.namespace);const i=[];return Ht(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.counters_={}}incrementCounter(e,n=1){hr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Uk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id={},Td={};function Bp(t){const e=t.toString();return Id[e]||(Id[e]=new Kx),Id[e]}function qx(t,e){const n=t.toString();return Td[n]||(Td[n]=e()),Td[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&to(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="start",Qx="close",Xx="pLPCommand",Jx="pRTLPCB",UE="id",$E="pw",jE="ser",Zx="cb",eA="seg",tA="ts",nA="d",rA="dframe",zE=1870,VE=30,iA=zE-VE,sA=25e3,oA=3e4;class hs{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wa(e),this.stats_=Bp(n),this.urlFn=l=>(this.appCheckToken&&(l[Yf]=this.appCheckToken),FE(n,LE,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Yx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(oA)),Lx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wp((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Yv)this.id=a,this.password=l;else if(o===Qx)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Yv]="t",r[jE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Zx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RE]=Vp,this.transportSessionId&&(r[PE]=this.transportSessionId),this.lastSessionId&&(r[bE]=this.lastSessionId),this.applicationId&&(r[DE]=this.applicationId),this.appCheckToken&&(r[Yf]=this.appCheckToken),typeof location<"u"&&location.hostname&&AE.test(location.hostname)&&(r[NE]=xE);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hs.forceAllow_=!0}static forceDisallow(){hs.forceDisallow_=!0}static isAvailable(){return hs.forceAllow_?!0:!hs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Fx()&&!Ux()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ft(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Nw(n),i=TE(r,iA);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[rA]="t",r[UE]=e,r[$E]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ft(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Wp{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=bx(),window[Xx+this.uniqueCallbackIdentifier]=e,window[Jx+this.uniqueCallbackIdentifier]=n,this.myIFrame=Wp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){It("frame writing exception"),a.stack&&It(a.stack),It(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||It("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[UE]=this.myID,e[$E]=this.myPW,e[jE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+VE+r.length<=zE;){const o=this.pendingSegs.shift();r=r+"&"+eA+i+"="+o.seg+"&"+tA+i+"="+o.ts+"&"+nA+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(sA)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{It("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=16384,lA=45e3;let Lu=null;typeof MozWebSocket<"u"?Lu=MozWebSocket:typeof WebSocket<"u"&&(Lu=WebSocket);class Sn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wa(this.connId),this.stats_=Bp(n),this.connURL=Sn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[RE]=Vp,typeof location<"u"&&location.hostname&&AE.test(location.hostname)&&(o[NE]=xE),n&&(o[PE]=n),r&&(o[bE]=r),i&&(o[Yf]=i),s&&(o[DE]=s),FE(e,OE,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gi.set("previous_websocket_failure",!0);try{let r;Lw(),this.mySock=new Lu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Lu!==null&&!Sn.forceDisallow_}static previouslyFailed(){return gi.isInMemoryStorage||gi.get("previous_websocket_failure")===!0}markConnectionHealthy(){gi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=va(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ft(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=TE(n,aA);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lA))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Sn.responsesRequiredToBeHealthy=2;Sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[hs,Sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Sn&&Sn.isAvailable();let r=n&&!Sn.previouslyFailed();if(e.webSocketOnly&&(n||Wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Sn];else{const i=this.transports_=[];for(const s of Sa.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Sa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Sa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=6e4,cA=5e3,dA=10*1024,fA=100*1024,kd="t",Qv="d",hA="s",Xv="r",pA="e",Jv="o",Zv="a",ey="n",ty="p",mA="h";class gA{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wa("c:"+this.id+":"),this.transportManager_=new Sa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ho(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kd in e){const n=e[kd];n===Zv?this.upgradeIfSecondaryHealthy_():n===Xv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Jv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Eo("t",e),r=Eo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ty,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Zv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ey,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Eo("t",e),r=Eo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Eo(kd,e);if(Qv in e){const r=e[Qv];if(n===mA){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ey){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===hA?this.onConnectionShutdown_(r):n===Xv?this.onReset_(r):n===pA?qf("Server Error: "+r):n===Jv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vp!==r&&Wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ho(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uA))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ho(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ty,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends WE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Tp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Mu}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=32,ry=768;class Ae{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ie(){return new Ae("")}function ce(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Kr(t){return t.pieces_.length-t.pieceNum_}function De(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ae(t.pieces_,e)}function HE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vA(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function GE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function KE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ae(e,0)}function it(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ae)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ae(n,0)}function pe(t){return t.pieceNum_>=t.pieces_.length}function $t(t,e){const n=ce(t),r=ce(e);if(n===null)return e;if(n===r)return $t(De(t),De(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Hp(t,e){if(Kr(t)!==Kr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Tn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Kr(t)>Kr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class yA{constructor(e,n){this.errorPrefix_=n,this.parts_=GE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wc(this.parts_[r]);qE(this)}}function _A(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=wc(e),qE(t)}function wA(t){const e=t.parts_.pop();t.byteLength_-=wc(e),t.parts_.length>0&&(t.byteLength_-=1)}function qE(t){if(t.byteLength_>ry)throw new Error(t.errorPrefix_+"has a key path longer than "+ry+" bytes ("+t.byteLength_+").");if(t.parts_.length>ny)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ny+") or object contains a cycle "+ui(t))}function ui(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends WE{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Gp}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=1e3,EA=60*5*1e3,iy=30*1e3,SA=1.3,CA=3e4,IA="server_kill",sy=3;class ir extends BE{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ir.nextPersistentConnectionId_++,this.log_=Wa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=So,this.maxReconnectDelay_=EA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Lw())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Mu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(ft(s)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new _c,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;ir.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&hr(e,"w")){const r=Ms(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||eR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=iy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Zk(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ft(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):qf("Unrecognized action received from server: "+ft(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CA&&(this.reconnectDelay_=So),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ir.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){U(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?It("getToken() completed but was canceled"):(It("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new gA(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Wt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(IA)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Wt(d),l())}}}interrupt(e){It("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){It("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Uf(this.interruptReasons_)&&(this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>zp(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ae(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){It("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=sy&&(this.reconnectDelay_=iy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){It("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=sy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+EE.replace(/\./g,"-")]=1,Tp()?e["framework.cordova"]=1:Ow()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mu.getInstance().currentlyOnline();return Uf(this.interruptReasons_)&&e}}ir.nextPersistentConnectionId_=0;ir.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new de(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new de(Us,e),i=new de(Us,n);return this.compare(r,i)!==0}minPost(){return de.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl;class YE extends Tc{static get __EMPTY_NODE(){return Sl}static set __EMPTY_NODE(e){Sl=e}compare(e,n){return eo(e.name,n.name)}isDefinedOn(e){throw Qs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return de.MIN}maxPost(){return new de(Li,Sl)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new de(e,Sl)}toString(){return".key"}}const ks=new YE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ct.RED,this.left=i??jt.EMPTY_NODE,this.right=s??jt.EMPTY_NODE}copy(e,n,r,i,s){return new ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return jt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return jt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ct.RED=!0;ct.BLACK=!1;class TA{copy(e,n,r,i,s){return this}insert(e,n,r){return new ct(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class jt{constructor(e,n=jt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ct.BLACK,null,null))}remove(e){return new jt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ct.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Cl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Cl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Cl(this.root_,null,this.comparator_,!0,e)}}jt.EMPTY_NODE=new TA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t,e){return eo(t.name,e.name)}function Kp(t,e){return eo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf;function RA(t){Qf=t}const QE=function(t){return typeof t=="number"?"number:"+kE(t):"string:"+t},XE=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hr(e,".sv"),"Priority must be a string or number.")}else U(t===Qf||t.isEmpty(),"priority of unexpected type.");U(t===Qf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy;class lt{constructor(e,n=lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),XE(this.priorityNode_)}static set __childrenNodeConstructor(e){oy=e}static get __childrenNodeConstructor(){return oy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new lt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:ce(e)===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ce(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||Kr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+QE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=kE(this.value_):e+=this.value_,this.lazyHash_=CE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===lt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof lt.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=lt.VALUE_TYPE_ORDER.indexOf(n),s=lt.VALUE_TYPE_ORDER.indexOf(r);return U(i>=0,"Unknown leaf type: "+n),U(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JE,ZE;function PA(t){JE=t}function NA(t){ZE=t}class xA extends Tc{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?eo(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return de.MIN}maxPost(){return new de(Li,new lt("[PRIORITY-POST]",ZE))}makePost(e,n){const r=JE(e);return new de(n,new lt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ye=new xA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=Math.log(2);class bA{constructor(e){const n=s=>parseInt(Math.log(s)/AA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Fu=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new ct(f,d.node,ct.BLACK,null,null);{const g=parseInt(c/2,10)+l,v=i(l,g),_=i(g+1,u);return d=t[g],f=n?n(d):d,new ct(f,d.node,ct.BLACK,v,_)}},s=function(l){let u=null,c=null,d=t.length;const f=function(v,_){const I=d-v,m=d;d-=v;const h=i(I+1,m),p=t[I],E=n?n(p):p;g(new ct(E,p.node,_,null,h))},g=function(v){u?(u.left=v,u=v):(c=v,u=v)};for(let v=0;v<l.count;++v){const _=l.nextBitIsOne(),I=Math.pow(2,l.count-(v+1));_?f(I,ct.BLACK):(f(I,ct.BLACK),f(I,ct.RED))}return c},o=new bA(t.length),a=s(o);return new jt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd;const Xi={};class er{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return U(Xi&&Ye,"ChildrenNode.ts has not been loaded"),Rd=Rd||new er({".priority":Xi},{".priority":Ye}),Rd}get(e){const n=Ms(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jt?n:null}hasIndex(e){return hr(this.indexSet_,e.toString())}addIndex(e,n){U(e!==ks,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(de.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Fu(r,e.getCompare()):a=Xi;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new er(c,u)}addToIndexes(e,n){const r=Ru(this.indexes_,(i,s)=>{const o=Ms(this.indexSet_,s);if(U(o,"Missing index implementation for "+s),i===Xi)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(de.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Fu(a,o.getCompare())}else return Xi;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new de(e.name,a))),l.insert(e,e.node)}});return new er(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ru(this.indexes_,i=>{if(i===Xi)return i;{const s=n.get(e.name);return s?i.remove(new de(e.name,s)):i}});return new er(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co;class ne{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&XE(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Co||(Co=new ne(new jt(Kp),null,er.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Co}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Co:n}}getChild(e){const n=ce(e);return n===null?this:this.getImmediateChild(n).getChild(De(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new de(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Co:this.priorityNode_;return new ne(i,o,s)}}updateChild(e,n){const r=ce(e);if(r===null)return n;{U(ce(e)!==".priority"||Kr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(De(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ye,(o,a)=>{n[o]=a.val(e),r++,s&&ne.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+QE(this.getPriority().val())+":"),this.forEachChild(Ye,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":CE(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new de(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new de(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new de(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,de.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,de.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ha?-1:0}withIndex(e){if(e===ks||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ks||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ye),i=n.getIterator(Ye);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ks?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class DA extends ne{constructor(){super(new jt(Kp),ne.EMPTY_NODE,er.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const Ha=new DA;Object.defineProperties(de,{MIN:{value:new de(Us,ne.EMPTY_NODE)},MAX:{value:new de(Li,Ha)}});YE.__EMPTY_NODE=ne.EMPTY_NODE;lt.__childrenNodeConstructor=ne;RA(Ha);NA(Ha);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=!0;function yt(t,e=null){if(t===null)return ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new lt(n,yt(e))}if(!(t instanceof Array)&&OA){const n=[];let r=!1;if(Ht(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=yt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new de(o,l)))}}),n.length===0)return ne.EMPTY_NODE;const s=Fu(n,kA,o=>o.name,Kp);if(r){const o=Fu(n,Ye.getCompare());return new ne(s,yt(e),new er({".priority":o},{".priority":Ye}))}else return new ne(s,yt(e),er.Default)}else{let n=ne.EMPTY_NODE;return Ht(t,(r,i)=>{if(hr(t,r)&&r.substring(0,1)!=="."){const s=yt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(yt(e))}}PA(yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends Tc{constructor(e){super(),this.indexPath_=e,U(!pe(e)&&ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?eo(e.name,n.name):s}makePost(e,n){const r=yt(e),i=ne.EMPTY_NODE.updateChild(this.indexPath_,r);return new de(n,i)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,Ha);return new de(Li,e)}toString(){return GE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA extends Tc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?eo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return de.MIN}maxPost(){return de.MAX}makePost(e,n){const r=yt(e);return new de(n,r)}toString(){return".value"}}const FA=new MA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){return{type:"value",snapshotNode:t}}function $s(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ca(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ia(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function UA(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ca(n,a)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange($s(n,r)):o.trackChildChange(Ia(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ye,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ca(i,s))}),n.isLeafNode()||n.forEachChild(Ye,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ia(i,s,o))}else r.trackChildChange($s(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.indexedFilter_=new qp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ta.getStartPost_(e),this.endPost_=Ta.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new de(n,r))||(r=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ne.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ne.EMPTY_NODE);const s=this;return n.forEachChild(Ye,(o,a)=>{s.matches(new de(o,a))||(i=i.updateImmediateChild(o,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ta(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new de(n,r))||(r=ne.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ne.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ne.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,g)=>d(g,f)}else o=this.index_.getCompare();const a=e;U(a.numChildren()===this.limit_,"");const l=new de(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const g=f==null?1:o(f,l);if(c&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(Ia(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ca(n,d));const _=a.updateImmediateChild(n,ne.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange($s(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Ca(u.name,u.node)),s.trackChildChange($s(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Us}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Li}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ye}copy(){const e=new Yp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jA(t){return t.loadsAllData()?new qp(t.getIndex()):t.hasLimit()?new $A(t):new Ta(t)}function ay(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ye?n="$priority":t.index_===FA?n="$value":t.index_===ks?n="$key":(U(t.index_ instanceof LA,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ft(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ft(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ft(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ft(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ft(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ly(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ye&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends BE{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Wa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Uu.getListenId_(e,r),a={};this.listens_[o]=a;const l=ay(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Ms(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Uu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=ay(e._queryParams),r=e._path.toString(),i=new _c;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Xs(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=va(a.responseText)}catch{Wt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Wt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(){return{value:null,children:new Map}}function t1(t,e,n){if(pe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ce(e);t.children.has(r)||t.children.set(r,$u());const i=t.children.get(r);e=De(e),t1(i,e,n)}}function Xf(t,e,n){t.value!==null?n(e,t.value):VA(t,(r,i)=>{const s=new Ae(e.toString()+"/"+r);Xf(i,s,n)})}function VA(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ht(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=10*1e3,WA=30*1e3,HA=5*60*1e3;class GA{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new BA(e);const r=uy+(WA-uy)*Math.random();Ho(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ht(e,(i,s)=>{s>0&&hr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ho(this.reportStats_.bind(this),Math.floor(Math.random()*2*HA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(kn||(kn={}));function n1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Qp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Xp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=kn.ACK_USER_WRITE,this.source=n1()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ae(e));return new ju(Ie(),n,this.revert)}}else return U(ce(this.path)===e,"operationForChild called for unrelated child."),new ju(De(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.source=e,this.path=n,this.type=kn.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new ka(this.source,Ie()):new ka(this.source,De(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=kn.OVERWRITE}operationForChild(e){return pe(this.path)?new Mi(this.source,Ie(),this.snap.getImmediateChild(e)):new Mi(this.source,De(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=kn.MERGE}operationForChild(e){if(pe(this.path)){const n=this.children.subtree(new Ae(e));return n.isEmpty()?null:n.value?new Mi(this.source,Ie(),n.value):new Ra(this.source,Ie(),n)}else return U(ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ra(this.source,De(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=ce(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function qA(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(UA(o.childName,o.snapshotNode))}),Io(t,i,"child_removed",e,r,n),Io(t,i,"child_added",e,r,n),Io(t,i,"child_moved",s,r,n),Io(t,i,"child_changed",e,r,n),Io(t,i,"value",e,r,n),i}function Io(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>QA(t,a,l)),o.forEach(a=>{const l=YA(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function YA(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function QA(t,e,n){if(e.childName==null||n.childName==null)throw Qs("Should only compare child_ events.");const r=new de(e.childName,e.snapshotNode),i=new de(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e){return{eventCache:t,serverCache:e}}function Go(t,e,n,r){return kc(new Fi(e,n,r),t.serverCache)}function r1(t,e,n,r){return kc(t.eventCache,new Fi(e,n,r))}function Jf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ui(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd;const XA=()=>(Pd||(Pd=new jt(Mx)),Pd);class Ue{constructor(e,n=XA()){this.value=e,this.children=n}static fromObject(e){let n=new Ue(null);return Ht(e,(r,i)=>{n=n.set(new Ae(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ie(),value:this.value};if(pe(e))return null;{const r=ce(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(De(e),n);return s!=null?{path:it(new Ae(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const n=ce(e),r=this.children.get(n);return r!==null?r.subtree(De(e)):new Ue(null)}}set(e,n){if(pe(e))return new Ue(n,this.children);{const r=ce(e),s=(this.children.get(r)||new Ue(null)).set(De(e),n),o=this.children.insert(r,s);return new Ue(this.value,o)}}remove(e){if(pe(e))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const n=ce(e),r=this.children.get(n);if(r){const i=r.remove(De(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ue(null):new Ue(this.value,s)}else return this}}get(e){if(pe(e))return this.value;{const n=ce(e),r=this.children.get(n);return r?r.get(De(e)):null}}setTree(e,n){if(pe(e))return n;{const r=ce(e),s=(this.children.get(r)||new Ue(null)).setTree(De(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ue(this.value,o)}}fold(e){return this.fold_(Ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(it(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ie(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(pe(e))return null;{const s=ce(e),o=this.children.get(s);return o?o.findOnPath_(De(e),it(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ie(),n)}foreachOnPath_(e,n,r){if(pe(e))return this;{this.value&&r(n,this.value);const i=ce(e),s=this.children.get(i);return s?s.foreachOnPath_(De(e),it(n,i),r):new Ue(null)}}foreach(e){this.foreach_(Ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(it(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.writeTree_=e}static empty(){return new xn(new Ue(null))}}function Ko(t,e,n){if(pe(e))return new xn(new Ue(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=$t(i,e);return s=s.updateChild(o,n),new xn(t.writeTree_.set(i,s))}else{const i=new Ue(n),s=t.writeTree_.setTree(e,i);return new xn(s)}}}function cy(t,e,n){let r=t;return Ht(n,(i,s)=>{r=Ko(r,it(e,i),s)}),r}function dy(t,e){if(pe(e))return xn.empty();{const n=t.writeTree_.setTree(e,new Ue(null));return new xn(n)}}function Zf(t,e){return Bi(t,e)!=null}function Bi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($t(n.path,e)):null}function fy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ye,(r,i)=>{e.push(new de(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new de(r,i.value))}),e}function Wr(t,e){if(pe(e))return t;{const n=Bi(t,e);return n!=null?new xn(new Ue(n)):new xn(t.writeTree_.subtree(e))}}function eh(t){return t.writeTree_.isEmpty()}function js(t,e){return i1(Ie(),t.writeTree_,e)}function i1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(U(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=i1(it(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(it(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t,e){return l1(e,t)}function JA(t,e,n,r,i){U(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ko(t.visibleWrites,e,n)),t.lastWriteId=r}function ZA(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function eb(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&tb(a,r.path)?i=!1:Tn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return nb(t),!0;if(r.snap)t.visibleWrites=dy(t.visibleWrites,r.path);else{const a=r.children;Ht(a,l=>{t.visibleWrites=dy(t.visibleWrites,it(r.path,l))})}return!0}else return!1}function tb(t,e){if(t.snap)return Tn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Tn(it(t.path,n),e))return!0;return!1}function nb(t){t.visibleWrites=s1(t.allWrites,rb,Ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function rb(t){return t.visible}function s1(t,e,n){let r=xn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Tn(n,o)?(a=$t(n,o),r=Ko(r,a,s.snap)):Tn(o,n)&&(a=$t(o,n),r=Ko(r,Ie(),s.snap.getChild(a)));else if(s.children){if(Tn(n,o))a=$t(n,o),r=cy(r,a,s.children);else if(Tn(o,n))if(a=$t(o,n),pe(a))r=cy(r,Ie(),s.children);else{const l=Ms(s.children,ce(a));if(l){const u=l.getChild(De(a));r=Ko(r,Ie(),u)}}}else throw Qs("WriteRecord should have .snap or .children")}}return r}function o1(t,e,n,r,i){if(!r&&!i){const s=Bi(t.visibleWrites,e);if(s!=null)return s;{const o=Wr(t.visibleWrites,e);if(eh(o))return n;if(n==null&&!Zf(o,Ie()))return null;{const a=n||ne.EMPTY_NODE;return js(o,a)}}}else{const s=Wr(t.visibleWrites,e);if(!i&&eh(s))return n;if(!i&&n==null&&!Zf(s,Ie()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Tn(u.path,e)||Tn(e,u.path))},a=s1(t.allWrites,o,e),l=n||ne.EMPTY_NODE;return js(a,l)}}}function ib(t,e,n){let r=ne.EMPTY_NODE;const i=Bi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ye,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Wr(t.visibleWrites,e);return n.forEachChild(Ye,(o,a)=>{const l=js(Wr(s,new Ae(o)),a);r=r.updateImmediateChild(o,l)}),fy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Wr(t.visibleWrites,e);return fy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function sb(t,e,n,r,i){U(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=it(e,n);if(Zf(t.visibleWrites,s))return null;{const o=Wr(t.visibleWrites,s);return eh(o)?i.getChild(n):js(o,i.getChild(n))}}function ob(t,e,n,r){const i=it(e,n),s=Bi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Wr(t.visibleWrites,i);return js(o,r.getNode().getImmediateChild(n))}else return null}function ab(t,e){return Bi(t.visibleWrites,e)}function lb(t,e,n,r,i,s,o){let a;const l=Wr(t.visibleWrites,e),u=Bi(l,Ie());if(u!=null)a=u;else if(n!=null)a=js(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=f.getNext();for(;g&&c.length<i;)d(g,r)!==0&&c.push(g),g=f.getNext();return c}else return[]}function ub(){return{visibleWrites:xn.empty(),allWrites:[],lastWriteId:-1}}function zu(t,e,n,r){return o1(t.writeTree,t.treePath,e,n,r)}function Zp(t,e){return ib(t.writeTree,t.treePath,e)}function hy(t,e,n,r){return sb(t.writeTree,t.treePath,e,n,r)}function Vu(t,e){return ab(t.writeTree,it(t.treePath,e))}function cb(t,e,n,r,i,s){return lb(t.writeTree,t.treePath,e,n,r,i,s)}function em(t,e,n){return ob(t.writeTree,t.treePath,e,n)}function a1(t,e){return l1(it(t.treePath,e),t.writeTree)}function l1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ia(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ca(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,$s(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ia(r,e.snapshotNode,i.oldSnap));else throw Qs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const u1=new fb;class tm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return em(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ui(this.viewCache_),s=cb(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){return{filter:t}}function pb(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function mb(t,e,n,r,i){const s=new db;let o,a;if(n.type===kn.OVERWRITE){const u=n;u.source.fromUser?o=th(t,e,u.path,u.snap,r,i,s):(U(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!pe(u.path),o=Bu(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===kn.MERGE){const u=n;u.source.fromUser?o=vb(t,e,u.path,u.children,r,i,s):(U(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=nh(t,e,u.path,u.children,r,i,a,s))}else if(n.type===kn.ACK_USER_WRITE){const u=n;u.revert?o=wb(t,e,u.path,r,i,s):o=yb(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===kn.LISTEN_COMPLETE)o=_b(t,e,n.path,r,s);else throw Qs("Unknown operation type: "+n.type);const l=s.getChanges();return gb(e,o,l),{viewCache:o,changes:l}}function gb(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Jf(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(e1(Jf(e)))}}function c1(t,e,n,r,i,s){const o=e.eventCache;if(Vu(r,n)!=null)return e;{let a,l;if(pe(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ui(e),c=u instanceof ne?u:ne.EMPTY_NODE,d=Zp(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=zu(r,Ui(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=ce(n);if(u===".priority"){U(Kr(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=hy(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=De(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=hy(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=em(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Go(e,a,o.isFullyInitialized()||pe(n),t.filter.filtersNodes())}}function Bu(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(pe(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),g,null)}else{const g=ce(n);if(!l.isCompleteForPath(n)&&Kr(n)>1)return e;const v=De(n),I=l.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?u=c.updatePriority(l.getNode(),I):u=c.updateChild(l.getNode(),g,I,v,u1,null)}const d=r1(e,u,l.isFullyInitialized()||pe(n),c.filtersNodes()),f=new tm(i,d,s);return c1(t,d,n,i,f,a)}function th(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new tm(i,e,s);if(pe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Go(e,u,!0,t.filter.filtersNodes());else{const d=ce(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Go(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=De(n),g=a.getNode().getImmediateChild(d);let v;if(pe(f))v=r;else{const _=c.getCompleteChild(d);_!=null?HE(f)===".priority"&&_.getChild(KE(f)).isEmpty()?v=_:v=_.updateChild(f,r):v=ne.EMPTY_NODE}if(g.equals(v))l=e;else{const _=t.filter.updateChild(a.getNode(),d,v,f,c,o);l=Go(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function py(t,e){return t.eventCache.isCompleteForChild(e)}function vb(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=it(n,l);py(e,ce(c))&&(a=th(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=it(n,l);py(e,ce(c))||(a=th(t,a,c,u,i,s,o))}),a}function my(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function nh(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;pe(n)?u=r:u=new Ue(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const g=e.serverCache.getNode().getImmediateChild(d),v=my(t,g,f);l=Bu(t,l,new Ae(d),v,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const g=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!g){const v=e.serverCache.getNode().getImmediateChild(d),_=my(t,v,f);l=Bu(t,l,new Ae(d),_,i,s,o,a)}}),l}function yb(t,e,n,r,i,s,o){if(Vu(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(pe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bu(t,e,n,l.getNode().getChild(n),i,s,a,o);if(pe(n)){let u=new Ue(null);return l.getNode().forEachChild(ks,(c,d)=>{u=u.set(new Ae(c),d)}),nh(t,e,n,u,i,s,a,o)}else return e}else{let u=new Ue(null);return r.foreach((c,d)=>{const f=it(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),nh(t,e,n,u,i,s,a,o)}}function _b(t,e,n,r,i){const s=e.serverCache,o=r1(e,s.getNode(),s.isFullyInitialized()||pe(n),s.isFiltered());return c1(t,o,n,r,u1,i)}function wb(t,e,n,r,i,s){let o;if(Vu(r,n)!=null)return e;{const a=new tm(r,e,i),l=e.eventCache.getNode();let u;if(pe(n)||ce(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=zu(r,Ui(e));else{const d=e.serverCache.getNode();U(d instanceof ne,"serverChildren would be complete if leaf node"),c=Zp(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=ce(n);let d=em(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,De(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,ne.EMPTY_NODE,De(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=zu(r,Ui(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Vu(r,Ie())!=null,Go(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new qp(r.getIndex()),s=jA(r);this.processor_=hb(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ne.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(ne.EMPTY_NODE,a.getNode(),null),c=new Fi(l,o.isFullyInitialized(),i.filtersNodes()),d=new Fi(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=kc(d,c),this.eventGenerator_=new KA(this.query_)}get query(){return this.query_}}function Sb(t){return t.viewCache_.serverCache.getNode()}function Cb(t,e){const n=Ui(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pe(e)&&!n.getImmediateChild(ce(e)).isEmpty())?n.getChild(e):null}function gy(t){return t.eventRegistrations_.length===0}function Ib(t,e){t.eventRegistrations_.push(e)}function vy(t,e,n){const r=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function yy(t,e,n,r){e.type===kn.MERGE&&e.source.queryId!==null&&(U(Ui(t.viewCache_),"We should always have a full cache before handling merges"),U(Jf(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=mb(t.processor_,i,e,n,r);return pb(t.processor_,s.viewCache),U(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,d1(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Tb(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ye,(s,o)=>{r.push($s(s,o))}),n.isFullyInitialized()&&r.push(e1(n.getNode())),d1(t,r,n.getNode(),e)}function d1(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return qA(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;class kb{constructor(){this.views=new Map}}function Rb(t){U(!Wu,"__referenceConstructor has already been defined"),Wu=t}function Pb(){return U(Wu,"Reference.ts has not been loaded"),Wu}function Nb(t){return t.views.size===0}function nm(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return U(s!=null,"SyncTree gave us an op for an invalid query."),yy(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(yy(o,e,n,r));return s}}function xb(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=zu(n,i?r:null),l=!1;a?l=!0:r instanceof ne?(a=Zp(n,r),l=!1):(a=ne.EMPTY_NODE,l=!1);const u=kc(new Fi(a,l,!1),new Fi(r,i,!1));return new Eb(e,u)}return o}function Ab(t,e,n,r,i,s){const o=xb(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Ib(o,n),Tb(o,n)}function bb(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=qr(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(vy(u,n,r)),gy(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(vy(l,n,r)),gy(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!qr(t)&&s.push(new(Pb())(e._repo,e._path)),{removed:s,events:o}}function f1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Rs(t,e){let n=null;for(const r of t.views.values())n=n||Cb(r,e);return n}function h1(t,e){if(e._queryParams.loadsAllData())return Rc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function p1(t,e){return h1(t,e)!=null}function qr(t){return Rc(t)!=null}function Rc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;function Db(t){U(!Hu,"__referenceConstructor has already been defined"),Hu=t}function Ob(){return U(Hu,"Reference.ts has not been loaded"),Hu}let Lb=1;class _y{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=ub(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function m1(t,e,n,r,i){return JA(t.pendingWriteTree_,e,n,r,i),i?Ga(t,new Mi(n1(),e,n)):[]}function vi(t,e,n=!1){const r=ZA(t.pendingWriteTree_,e);if(eb(t.pendingWriteTree_,e)){let s=new Ue(null);return r.snap!=null?s=s.set(Ie(),!0):Ht(r.children,o=>{s=s.set(new Ae(o),!0)}),Ga(t,new ju(r.path,s,n))}else return[]}function Pc(t,e,n){return Ga(t,new Mi(Qp(),e,n))}function Mb(t,e,n){const r=Ue.fromObject(n);return Ga(t,new Ra(Qp(),e,r))}function Fb(t,e){return Ga(t,new ka(Qp(),e))}function Ub(t,e,n){const r=im(t,n);if(r){const i=sm(r),s=i.path,o=i.queryId,a=$t(s,e),l=new ka(Xp(o),a);return om(t,s,l)}else return[]}function rh(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||p1(o,e))){const l=bb(o,e,n,r);Nb(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,g)=>qr(g));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const g=zb(f);for(let v=0;v<g.length;++v){const _=g[v],I=_.query,m=y1(t,_);t.listenProvider_.startListening(qo(I),Gu(t,I),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(qo(e),null):u.forEach(f=>{const g=t.queryToTagMap.get(Nc(f));t.listenProvider_.stopListening(qo(f),g)}))}Vb(t,u)}return a}function $b(t,e,n,r){const i=im(t,r);if(i!=null){const s=sm(i),o=s.path,a=s.queryId,l=$t(o,e),u=new Mi(Xp(a),l,n);return om(t,o,u)}else return[]}function jb(t,e,n,r){const i=im(t,r);if(i){const s=sm(i),o=s.path,a=s.queryId,l=$t(o,e),u=Ue.fromObject(n),c=new Ra(Xp(a),l,u);return om(t,o,c)}else return[]}function wy(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,g)=>{const v=$t(f,i);s=s||Rs(g,v),o=o||qr(g)});let a=t.syncPointTree_.get(i);a?(o=o||qr(a),s=s||Rs(a,Ie())):(a=new kb,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=ne.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,v)=>{const _=Rs(v,Ie());_&&(s=s.updateImmediateChild(g,_))}));const u=p1(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=Nc(e);U(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const g=Bb();t.queryToTagMap.set(f,g),t.tagToQueryMap.set(g,f)}const c=Jp(t.pendingWriteTree_,i);let d=Ab(a,e,n,c,s,l);if(!u&&!o&&!r){const f=h1(a,e);d=d.concat(Wb(t,e,f))}return d}function rm(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=$t(o,e),u=Rs(a,l);if(u)return u});return o1(i,e,s,n,!0)}function Ga(t,e){return g1(e,t.syncPointTree_,null,Jp(t.pendingWriteTree_,Ie()))}function g1(t,e,n,r){if(pe(t.path))return v1(t,e,n,r);{const i=e.get(Ie());n==null&&i!=null&&(n=Rs(i,Ie()));let s=[];const o=ce(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=a1(r,o);s=s.concat(g1(a,l,u,c))}return i&&(s=s.concat(nm(i,t,r,n))),s}}function v1(t,e,n,r){const i=e.get(Ie());n==null&&i!=null&&(n=Rs(i,Ie()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=a1(r,o),c=t.operationForChild(o);c&&(s=s.concat(v1(c,a,l,u)))}),i&&(s=s.concat(nm(i,t,r,n))),s}function y1(t,e){const n=e.query,r=Gu(t,n);return{hashFn:()=>(Sb(e)||ne.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Ub(t,n._path,r):Fb(t,n._path);{const s=$x(i,n);return rh(t,n,null,s)}}}}function Gu(t,e){const n=Nc(e);return t.queryToTagMap.get(n)}function Nc(t){return t._path.toString()+"$"+t._queryIdentifier}function im(t,e){return t.tagToQueryMap.get(e)}function sm(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ae(t.substr(0,e))}}function om(t,e,n){const r=t.syncPointTree_.get(e);U(r,"Missing sync point for query tag that we're tracking");const i=Jp(t.pendingWriteTree_,e);return nm(r,n,i,null)}function zb(t){return t.fold((e,n,r)=>{if(n&&qr(n))return[Rc(n)];{let i=[];return n&&(i=f1(n)),Ht(r,(s,o)=>{i=i.concat(o)}),i}})}function qo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ob())(t._repo,t._path):t}function Vb(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Nc(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Bb(){return Lb++}function Wb(t,e,n){const r=e._path,i=Gu(t,e),s=y1(t,n),o=t.listenProvider_.startListening(qo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)U(!qr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!pe(u)&&c&&qr(c))return[Rc(c).query];{let f=[];return c&&(f=f.concat(f1(c).map(g=>g.query))),Ht(d,(g,v)=>{f=f.concat(v)}),f}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(qo(c),Gu(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new am(n)}node(){return this.node_}}class lm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=it(this.path_,e);return new lm(this.syncTree_,n)}node(){return rm(this.syncTree_,this.path_)}}const Hb=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ey=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Gb(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Kb(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Gb=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},Kb=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const i=e.node();if(U(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},qb=function(t,e,n,r){return um(e,new lm(n,t),r)},_1=function(t,e,n){return um(t,new am(e),n)};function um(t,e,n){const r=t.getPriority().val(),i=Ey(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Ey(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new lt(a,yt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new lt(i))),o.forEachChild(Ye,(a,l)=>{const u=um(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function dm(t,e){let n=e instanceof Ae?e:new Ae(e),r=t,i=ce(n);for(;i!==null;){const s=Ms(r.node.children,i)||{children:{},childCount:0};r=new cm(i,r,s),n=De(n),i=ce(n)}return r}function no(t){return t.node.value}function w1(t,e){t.node.value=e,ih(t)}function E1(t){return t.node.childCount>0}function Yb(t){return no(t)===void 0&&!E1(t)}function xc(t,e){Ht(t.node.children,(n,r)=>{e(new cm(n,t,r))})}function S1(t,e,n,r){n&&!r&&e(t),xc(t,i=>{S1(i,e,!0,r)}),n&&r&&e(t)}function Qb(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ka(t){return new Ae(t.parent===null?t.name:Ka(t.parent)+"/"+t.name)}function ih(t){t.parent!==null&&Xb(t.parent,t.name,t)}function Xb(t,e,n){const r=Yb(n),i=hr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ih(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ih(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=/[\[\].#$\/\u0000-\u001F\u007F]/,Zb=/[\[\].#$\u0000-\u001F\u007F]/,Nd=10*1024*1024,C1=function(t){return typeof t=="string"&&t.length!==0&&!Jb.test(t)},I1=function(t){return typeof t=="string"&&t.length!==0&&!Zb.test(t)},eD=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),I1(t)},T1=function(t,e,n,r){r&&e===void 0||fm(kp(t,"value"),e,n)},fm=function(t,e,n){const r=n instanceof Ae?new yA(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ui(r));if(typeof e=="function")throw new Error(t+"contains a function "+ui(r)+" with contents = "+e.toString());if(IE(e))throw new Error(t+"contains "+e.toString()+" "+ui(r));if(typeof e=="string"&&e.length>Nd/3&&wc(e)>Nd)throw new Error(t+"contains a string greater than "+Nd+" utf8 bytes "+ui(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ht(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!C1(o)))throw new Error(t+" contains an invalid key ("+o+") "+ui(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_A(r,o),fm(t,a,r),wA(r)}),i&&s)throw new Error(t+' contains ".value" child '+ui(r)+" in addition to actual children.")}},k1=function(t,e,n,r){if(!I1(n))throw new Error(kp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tD=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),k1(t,e,n)},hm=function(t,e){if(ce(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},nD=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!C1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!eD(n))throw new Error(kp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Hp(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function R1(t,e,n){pm(t,n),P1(t,r=>Hp(r,e))}function dr(t,e,n){pm(t,n),P1(t,r=>Tn(r,e)||Tn(e,r))}function P1(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(iD(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function iD(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Wo&&It("event: "+n.toString()),to(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="repo_interrupt",oD=25;class aD{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$u(),this.transactionQueueTree_=new cm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lD(t,e,n){if(t.stats_=Bp(t.repoInfo_),t.forceRestClient_||Bx())t.server_=new Uu(t.repoInfo_,(r,i,s,o)=>{Sy(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Cy(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ft(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ir(t.repoInfo_,e,(r,i,s,o)=>{Sy(t,r,i,s,o)},r=>{Cy(t,r)},r=>{uD(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=qx(t.repoInfo_,()=>new GA(t.stats_,t.server_)),t.infoData_=new zA,t.infoSyncTree_=new _y({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Pc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),gm(t,"connected",!1),t.serverSyncTree_=new _y({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);dr(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function N1(t){const n=t.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function mm(t){return Hb({timestamp:N1(t)})}function Sy(t,e,n,r,i){t.dataUpdateCount++;const s=new Ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Ru(n,u=>yt(u));o=jb(t.serverSyncTree_,s,l,i)}else{const l=yt(n);o=$b(t.serverSyncTree_,s,l,i)}else if(r){const l=Ru(n,u=>yt(u));o=Mb(t.serverSyncTree_,s,l)}else{const l=yt(n);o=Pc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ac(t,s)),dr(t.eventQueue_,a,o)}function Cy(t,e){gm(t,"connected",e),e===!1&&dD(t)}function uD(t,e){Ht(e,(n,r)=>{gm(t,n,r)})}function gm(t,e,n){const r=new Ae("/.info/"+e),i=yt(n);t.infoData_.updateSnapshot(r,i);const s=Pc(t.infoSyncTree_,r,i);dr(t.eventQueue_,r,s)}function x1(t){return t.nextWriteId_++}function cD(t,e,n,r,i){vm(t,"set",{path:e.toString(),value:n,priority:r});const s=mm(t),o=yt(n,r),a=rm(t.serverSyncTree_,e),l=_1(o,a,s),u=x1(t),c=m1(t.serverSyncTree_,e,l,u,!0);pm(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(f,g)=>{const v=f==="ok";v||Wt("set at "+e+" failed: "+f);const _=vi(t.serverSyncTree_,u,!v);dr(t.eventQueue_,e,_),mD(t,i,f,g)});const d=L1(t,e);Ac(t,d),dr(t.eventQueue_,d,[])}function dD(t){vm(t,"onDisconnectEvents");const e=mm(t),n=$u();Xf(t.onDisconnect_,Ie(),(i,s)=>{const o=qb(i,s,t.serverSyncTree_,e);t1(n,i,o)});let r=[];Xf(n,Ie(),(i,s)=>{r=r.concat(Pc(t.serverSyncTree_,i,s));const o=L1(t,i);Ac(t,o)}),t.onDisconnect_=$u(),dr(t.eventQueue_,Ie(),r)}function fD(t,e,n){let r;ce(e._path)===".info"?r=wy(t.infoSyncTree_,e,n):r=wy(t.serverSyncTree_,e,n),R1(t.eventQueue_,e._path,r)}function hD(t,e,n){let r;ce(e._path)===".info"?r=rh(t.infoSyncTree_,e,n):r=rh(t.serverSyncTree_,e,n),R1(t.eventQueue_,e._path,r)}function pD(t){t.persistentConnection_&&t.persistentConnection_.interrupt(sD)}function vm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),It(n,...e)}function mD(t,e,n,r){e&&to(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function A1(t,e,n){return rm(t.serverSyncTree_,e,n)||ne.EMPTY_NODE}function ym(t,e=t.transactionQueueTree_){if(e||bc(t,e),no(e)){const n=D1(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&gD(t,Ka(e),n)}else E1(e)&&xc(e,n=>{ym(t,n)})}function gD(t,e,n){const r=n.map(u=>u.currentWriteId),i=A1(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];U(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=$t(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{vm(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(vi(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();bc(t,dm(t.transactionQueueTree_,e)),ym(t,t.transactionQueueTree_),dr(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)to(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Wt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Ac(t,e)}},o)}function Ac(t,e){const n=b1(t,e),r=Ka(n),i=D1(t,n);return vD(t,i,r),r}function vD(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=$t(n,l.path);let c=!1,d;if(U(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(vi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=oD)c=!0,d="maxretry",i=i.concat(vi(t.serverSyncTree_,l.currentWriteId,!0));else{const f=A1(t,l.path,o);l.currentInputSnapshot=f;const g=e[a].update(f.val());if(g!==void 0){fm("transaction failed: Data returned ",g,l.path);let v=yt(g);typeof g=="object"&&g!=null&&hr(g,".priority")||(v=v.updatePriority(f.getPriority()));const I=l.currentWriteId,m=mm(t),h=_1(v,f,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=h,l.currentWriteId=x1(t),o.splice(o.indexOf(I),1),i=i.concat(m1(t.serverSyncTree_,l.path,h,l.currentWriteId,l.applyLocally)),i=i.concat(vi(t.serverSyncTree_,I,!0))}else c=!0,d="nodata",i=i.concat(vi(t.serverSyncTree_,l.currentWriteId,!0))}dr(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}bc(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)to(r[a]);ym(t,t.transactionQueueTree_)}function b1(t,e){let n,r=t.transactionQueueTree_;for(n=ce(e);n!==null&&no(r)===void 0;)r=dm(r,n),e=De(e),n=ce(e);return r}function D1(t,e){const n=[];return O1(t,e,n),n.sort((r,i)=>r.order-i.order),n}function O1(t,e,n){const r=no(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);xc(e,i=>{O1(t,i,n)})}function bc(t,e){const n=no(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,w1(e,n.length>0?n:void 0)}xc(e,r=>{bc(t,r)})}function L1(t,e){const n=Ka(b1(t,e)),r=dm(t.transactionQueueTree_,e);return Qb(r,i=>{xd(t,i)}),xd(t,r),S1(r,i=>{xd(t,i)}),n}function xd(t,e){const n=no(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(U(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(U(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(vi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?w1(e,void 0):n.length=s+1,dr(t.eventQueue_,Ka(e),i);for(let o=0;o<r.length;o++)to(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function _D(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Iy=function(t,e){const n=wD(t),r=n.namespace;n.domain==="firebase.com"&&cr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&cr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ox();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ME(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ae(n.pathString)}},wD=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=yD(t.substring(c,d)));const f=_D(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ED=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Ty.charAt(n%64),n=Math.floor(n/64);U(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Ty.charAt(e[i]);return U(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ft(this.snapshot.exportVal())}}class CD{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return pe(this._path)?null:HE(this._path)}get ref(){return new ii(this._repo,this._path)}get _queryIdentifier(){const e=ly(this._queryParams),n=zp(e);return n==="{}"?"default":n}get _queryObject(){return ly(this._queryParams)}isEqual(e){if(e=Lt(e),!(e instanceof _m))return!1;const n=this._repo===e._repo,r=Hp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+vA(this._path)}}class ii extends _m{constructor(e,n){super(e,n,new Yp,!1)}get parent(){const e=KE(this._path);return e===null?null:new ii(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ku{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ae(e),r=Pa(this.ref,e);return new Ku(this._node.getChild(n),r,Ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ku(i,Pa(this.ref,r),Ye)))}hasChild(e){const n=new Ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function sh(t,e){return t=Lt(t),t._checkNotDeleted("ref"),e!==void 0?Pa(t._root,e):t._root}function Pa(t,e){return t=Lt(t),ce(t._path)===null?tD("child","path",e):k1("child","path",e),new ii(t._repo,it(t._path,e))}function TD(t,e){t=Lt(t),hm("push",t._path),T1("push",e,t._path,!0);const n=N1(t._repo),r=ED(n),i=Pa(t,r),s=Pa(t,r);let o;return e!=null?o=M1(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function kD(t){return hm("remove",t._path),M1(t,null)}function M1(t,e){t=Lt(t),hm("set",t._path),T1("set",e,t._path,!1);const n=new _c;return cD(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class wm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new SD("value",this,new Ku(e.snapshotNode,new ii(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new CD(this,e,n):null}matches(e){return e instanceof wm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function RD(t,e,n,r,i){const s=new ID(n,void 0),o=new wm(s);return fD(t._repo,t,o),()=>hD(t._repo,t,o)}function PD(t,e,n,r){return RD(t,"value",e)}Rb(ii);Db(ii);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="FIREBASE_DATABASE_EMULATOR_HOST",oh={};let xD=!1;function AD(t,e,n,r){t.repoInfo_=new ME(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function bD(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||cr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),It("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Iy(s,i),a=o.repoInfo,l;typeof process<"u"&&Wv&&(l=Wv[ND]),l?(s=`http://${l}?ns=${a.namespace}`,o=Iy(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new Hx(t.name,t.options,e);nD("Invalid Firebase Database URL",o),pe(o.path)||cr("Database URL must point to the root of a Firebase Database (not including a child path).");const c=OD(a,t,u,new Wx(t.name,n));return new LD(c,t)}function DD(t,e){const n=oh[e];(!n||n[t.key]!==t)&&cr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),pD(t),delete n[t.key]}function OD(t,e,n,r){let i=oh[e.name];i||(i={},oh[e.name]=i);let s=i[t.toURLString()];return s&&cr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new aD(t,xD,n,r),i[t.toURLString()]=s,s}class LD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ii(this._repo,Ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(DD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&cr("Cannot call "+e+" on a deleted database.")}}function MD(t=jw(),e){const n=Np(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Wk("database");r&&FD(n,...r)}return n}function FD(t,e,n,r={}){t=Lt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&cr("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&cr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Hl(Hl.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Hk(r.mockUserToken,t.app.options.projectId);s=new Hl(o)}AD(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){Px(Js),Fs(new Ai("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return bD(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Br(Hv,Gv,t),Br(Hv,Gv,"esm2017")}ir.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ir.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};UD();/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F1=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>P.createElement("svg",{ref:l,...jD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:F1("lucide",i),...a},[...o.map(([u,c])=>P.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=(t,e)=>{const n=P.forwardRef(({className:r,...i},s)=>P.createElement(zD,{ref:s,iconNode:e,className:F1(`lucide-${$D(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=Em("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=Em("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=Em("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var qa=t=>t.type==="checkbox",ps=t=>t instanceof Date,xt=t=>t==null;const U1=t=>typeof t=="object";var ot=t=>!xt(t)&&!Array.isArray(t)&&U1(t)&&!ps(t),HD=t=>ot(t)&&t.target?qa(t.target)?t.target.checked:t.target.value:t,GD=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,KD=(t,e)=>t.has(GD(e)),qD=t=>{const e=t.constructor&&t.constructor.prototype;return ot(e)&&e.hasOwnProperty("isPrototypeOf")},Sm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Sm&&(t instanceof Blob||t instanceof FileList))&&(n||ot(t)))if(e=n?[]:{},!n&&!qD(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=sn(t[r]));else return t;return e}var Ya=t=>Array.isArray(t)?t.filter(Boolean):[],Qe=t=>t===void 0,G=(t,e,n)=>{if(!e||!ot(t))return n;const r=Ya(e.split(/[,[\].]+?/)).reduce((i,s)=>xt(i)?i:i[s],t);return Qe(r)||r===t?Qe(t[e])?n:t[e]:r},Pr=t=>typeof t=="boolean",Cm=t=>/^\w*$/.test(t),$1=t=>Ya(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(t,e,n)=>{let r=-1;const i=Cm(e)?[e]:$1(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=ot(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const ky={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Cn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},YD=ie.createContext(null),QD=()=>ie.useContext(YD);var XD=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Cn.all&&(e._proxyFormState[o]=!r||Cn.all),t[o]}});return i},Kt=t=>ot(t)&&!Object.keys(t).length,JD=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Kt(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===Cn.all)},Ad=t=>Array.isArray(t)?t:[t];function ZD(t){const e=ie.useRef(t);e.current=t,ie.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Un=t=>typeof t=="string",eO=(t,e,n,r,i)=>Un(t)?(r&&e.watch.add(t),G(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),G(n,s))):(r&&(e.watchAll=!0),n),tO=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Ry=t=>({isOnSubmit:!t||t===Cn.onSubmit,isOnBlur:t===Cn.onBlur,isOnChange:t===Cn.onChange,isOnAll:t===Cn.all,isOnTouch:t===Cn.onTouched}),Py=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Yo=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=G(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;Yo(a,e)}else ot(a)&&Yo(a,e)}}};var nO=(t,e,n)=>{const r=Ya(G(t,n));return Fe(r,"root",e[n]),Fe(t,n,r),t},Im=t=>t.type==="file",Ar=t=>typeof t=="function",qu=t=>{if(!Sm)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Gl=t=>Un(t),Tm=t=>t.type==="radio",Yu=t=>t instanceof RegExp;const Ny={value:!1,isValid:!1},xy={value:!0,isValid:!0};var j1=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Qe(t[0].attributes.value)?Qe(t[0].value)||t[0].value===""?xy:{value:t[0].value,isValid:!0}:xy:Ny}return Ny};const Ay={isValid:!1,value:null};var z1=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Ay):Ay;function by(t,e,n="validate"){if(Gl(t)||Array.isArray(t)&&t.every(Gl)||Pr(t)&&!t)return{type:n,message:Gl(t)?t:"",ref:e}}var Ji=t=>ot(t)&&!Yu(t)?t:{value:t,message:""},Dy=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:g,name:v,valueAsNumber:_,mount:I,disabled:m}=t._f,h=G(e,v);if(!I||m)return{};const p=o?o[0]:s,E=z=>{r&&p.reportValidity&&(p.setCustomValidity(Pr(z)?"":z||""),p.reportValidity())},k={},A=Tm(s),y=qa(s),R=A||y,D=(_||Im(s))&&Qe(s.value)&&Qe(h)||qu(s)&&s.value===""||h===""||Array.isArray(h)&&!h.length,O=tO.bind(null,v,n,k),J=(z,K,ee,fe=Wn.maxLength,xe=Wn.minLength)=>{const ge=z?K:ee;k[v]={type:z?fe:xe,message:ge,ref:s,...O(z?fe:xe,ge)}};if(i?!Array.isArray(h)||!h.length:a&&(!R&&(D||xt(h))||Pr(h)&&!h||y&&!j1(o).isValid||A&&!z1(o).isValid)){const{value:z,message:K}=Gl(a)?{value:!!a,message:a}:Ji(a);if(z&&(k[v]={type:Wn.required,message:K,ref:p,...O(Wn.required,K)},!n))return E(K),k}if(!D&&(!xt(c)||!xt(d))){let z,K;const ee=Ji(d),fe=Ji(c);if(!xt(h)&&!isNaN(h)){const xe=s.valueAsNumber||h&&+h;xt(ee.value)||(z=xe>ee.value),xt(fe.value)||(K=xe<fe.value)}else{const xe=s.valueAsDate||new Date(h),ge=Y=>new Date(new Date().toDateString()+" "+Y),b=s.type=="time",V=s.type=="week";Un(ee.value)&&h&&(z=b?ge(h)>ge(ee.value):V?h>ee.value:xe>new Date(ee.value)),Un(fe.value)&&h&&(K=b?ge(h)<ge(fe.value):V?h<fe.value:xe<new Date(fe.value))}if((z||K)&&(J(!!z,ee.message,fe.message,Wn.max,Wn.min),!n))return E(k[v].message),k}if((l||u)&&!D&&(Un(h)||i&&Array.isArray(h))){const z=Ji(l),K=Ji(u),ee=!xt(z.value)&&h.length>+z.value,fe=!xt(K.value)&&h.length<+K.value;if((ee||fe)&&(J(ee,z.message,K.message),!n))return E(k[v].message),k}if(f&&!D&&Un(h)){const{value:z,message:K}=Ji(f);if(Yu(z)&&!h.match(z)&&(k[v]={type:Wn.pattern,message:K,ref:s,...O(Wn.pattern,K)},!n))return E(K),k}if(g){if(Ar(g)){const z=await g(h,e),K=by(z,p);if(K&&(k[v]={...K,...O(Wn.validate,K.message)},!n))return E(K.message),k}else if(ot(g)){let z={};for(const K in g){if(!Kt(z)&&!n)break;const ee=by(await g[K](h,e),p,K);ee&&(z={...ee,...O(K,ee.message)},E(ee.message),n&&(k[v]=z))}if(!Kt(z)&&(k[v]={ref:p,...z},!n))return k}}return E(!0),k};function rO(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Qe(t)?r++:t[e[r++]];return t}function iO(t){for(const e in t)if(t.hasOwnProperty(e)&&!Qe(t[e]))return!1;return!0}function nt(t,e){const n=Array.isArray(e)?e:Cm(e)?[e]:$1(e),r=n.length===1?t:rO(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(ot(r)&&Kt(r)||Array.isArray(r)&&iO(r))&&nt(t,n.slice(0,-1)),t}var bd=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Qu=t=>xt(t)||!U1(t);function yi(t,e){if(Qu(t)||Qu(e))return t===e;if(ps(t)&&ps(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ps(s)&&ps(o)||ot(s)&&ot(o)||Array.isArray(s)&&Array.isArray(o)?!yi(s,o):s!==o)return!1}}return!0}var V1=t=>t.type==="select-multiple",sO=t=>Tm(t)||qa(t),Dd=t=>qu(t)&&t.isConnected,B1=t=>{for(const e in t)if(Ar(t[e]))return!0;return!1};function Xu(t,e={}){const n=Array.isArray(t);if(ot(t)||n)for(const r in t)Array.isArray(t[r])||ot(t[r])&&!B1(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Xu(t[r],e[r])):xt(t[r])||(e[r]=!0);return e}function W1(t,e,n){const r=Array.isArray(t);if(ot(t)||r)for(const i in t)Array.isArray(t[i])||ot(t[i])&&!B1(t[i])?Qe(e)||Qu(n[i])?n[i]=Array.isArray(t[i])?Xu(t[i],[]):{...Xu(t[i])}:W1(t[i],xt(e)?{}:e[i],n[i]):n[i]=!yi(t[i],e[i]);return n}var Il=(t,e)=>W1(t,e,Xu(e)),H1=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Qe(t)?t:e?t===""?NaN:t&&+t:n&&Un(t)?new Date(t):r?r(t):t;function Od(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Im(e)?e.files:Tm(e)?z1(t.refs).value:V1(e)?[...e.selectedOptions].map(({value:n})=>n):qa(e)?j1(t.refs).value:H1(Qe(e.value)?t.ref.value:e.value,t)}var oO=(t,e,n,r)=>{const i={};for(const s of t){const o=G(e,s);o&&Fe(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},To=t=>Qe(t)?t:Yu(t)?t.source:ot(t)?Yu(t.value)?t.value.source:t.value:t,aO=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Oy(t,e,n){const r=G(t,n);if(r||Cm(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=G(e,s),a=G(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var lO=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,uO=(t,e)=>!Ya(G(t,e)).length&&nt(t,e);const cO={mode:Cn.onSubmit,reValidateMode:Cn.onChange,shouldFocusError:!0};function dO(t={}){let e={...cO,...t},n={submitCount:0,isDirty:!1,isLoading:Ar(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=ot(e.defaultValues)||ot(e.values)?sn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:sn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:bd(),array:bd(),state:bd()},f=Ry(e.mode),g=Ry(e.reValidateMode),v=e.criteriaMode===Cn.all,_=w=>C=>{clearTimeout(u),u=setTimeout(w,C)},I=async w=>{if(c.isValid||w){const C=e.resolver?Kt((await R()).errors):await O(r,!0);C!==n.isValid&&d.state.next({isValid:C})}},m=(w,C)=>{(c.isValidating||c.validatingFields)&&((w||Array.from(a.mount)).forEach(N=>{N&&(C?Fe(n.validatingFields,N,C):nt(n.validatingFields,N))}),d.state.next({validatingFields:n.validatingFields,isValidating:!Kt(n.validatingFields)}))},h=(w,C=[],N,j,$=!0,M=!0)=>{if(j&&N){if(o.action=!0,M&&Array.isArray(G(r,w))){const Q=N(G(r,w),j.argA,j.argB);$&&Fe(r,w,Q)}if(M&&Array.isArray(G(n.errors,w))){const Q=N(G(n.errors,w),j.argA,j.argB);$&&Fe(n.errors,w,Q),uO(n.errors,w)}if(c.touchedFields&&M&&Array.isArray(G(n.touchedFields,w))){const Q=N(G(n.touchedFields,w),j.argA,j.argB);$&&Fe(n.touchedFields,w,Q)}c.dirtyFields&&(n.dirtyFields=Il(i,s)),d.state.next({name:w,isDirty:z(w,C),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Fe(s,w,C)},p=(w,C)=>{Fe(n.errors,w,C),d.state.next({errors:n.errors})},E=w=>{n.errors=w,d.state.next({errors:n.errors,isValid:!1})},k=(w,C,N,j)=>{const $=G(r,w);if($){const M=G(s,w,Qe(N)?G(i,w):N);Qe(M)||j&&j.defaultChecked||C?Fe(s,w,C?M:Od($._f)):fe(w,M),o.mount&&I()}},A=(w,C,N,j,$)=>{let M=!1,Q=!1;const ye={name:w},Re=!!(G(r,w)&&G(r,w)._f.disabled);if(!N||j){c.isDirty&&(Q=n.isDirty,n.isDirty=ye.isDirty=z(),M=Q!==ye.isDirty);const tt=Re||yi(G(i,w),C);Q=!!(!Re&&G(n.dirtyFields,w)),tt||Re?nt(n.dirtyFields,w):Fe(n.dirtyFields,w,!0),ye.dirtyFields=n.dirtyFields,M=M||c.dirtyFields&&Q!==!tt}if(N){const tt=G(n.touchedFields,w);tt||(Fe(n.touchedFields,w,N),ye.touchedFields=n.touchedFields,M=M||c.touchedFields&&tt!==N)}return M&&$&&d.state.next(ye),M?ye:{}},y=(w,C,N,j)=>{const $=G(n.errors,w),M=c.isValid&&Pr(C)&&n.isValid!==C;if(t.delayError&&N?(l=_(()=>p(w,N)),l(t.delayError)):(clearTimeout(u),l=null,N?Fe(n.errors,w,N):nt(n.errors,w)),(N?!yi($,N):$)||!Kt(j)||M){const Q={...j,...M&&Pr(C)?{isValid:C}:{},errors:n.errors,name:w};n={...n,...Q},d.state.next(Q)}},R=async w=>{m(w,!0);const C=await e.resolver(s,e.context,oO(w||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return m(w),C},D=async w=>{const{errors:C}=await R(w);if(w)for(const N of w){const j=G(C,N);j?Fe(n.errors,N,j):nt(n.errors,N)}else n.errors=C;return C},O=async(w,C,N={valid:!0})=>{for(const j in w){const $=w[j];if($){const{_f:M,...Q}=$;if(M){const ye=a.array.has(M.name);m([j],!0);const Re=await Dy($,s,v,e.shouldUseNativeValidation&&!C,ye);if(m([j]),Re[M.name]&&(N.valid=!1,C))break;!C&&(G(Re,M.name)?ye?nO(n.errors,Re,M.name):Fe(n.errors,M.name,Re[M.name]):nt(n.errors,M.name))}Q&&await O(Q,C,N)}}return N.valid},J=()=>{for(const w of a.unMount){const C=G(r,w);C&&(C._f.refs?C._f.refs.every(N=>!Dd(N)):!Dd(C._f.ref))&&we(w)}a.unMount=new Set},z=(w,C)=>(w&&C&&Fe(s,w,C),!yi(se(),i)),K=(w,C,N)=>eO(w,a,{...o.mount?s:Qe(C)?i:Un(w)?{[w]:C}:C},N,C),ee=w=>Ya(G(o.mount?s:i,w,t.shouldUnregister?G(i,w,[]):[])),fe=(w,C,N={})=>{const j=G(r,w);let $=C;if(j){const M=j._f;M&&(!M.disabled&&Fe(s,w,H1(C,M)),$=qu(M.ref)&&xt(C)?"":C,V1(M.ref)?[...M.ref.options].forEach(Q=>Q.selected=$.includes(Q.value)):M.refs?qa(M.ref)?M.refs.length>1?M.refs.forEach(Q=>(!Q.defaultChecked||!Q.disabled)&&(Q.checked=Array.isArray($)?!!$.find(ye=>ye===Q.value):$===Q.value)):M.refs[0]&&(M.refs[0].checked=!!$):M.refs.forEach(Q=>Q.checked=Q.value===$):Im(M.ref)?M.ref.value="":(M.ref.value=$,M.ref.type||d.values.next({name:w,values:{...s}})))}(N.shouldDirty||N.shouldTouch)&&A(w,$,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&Y(w)},xe=(w,C,N)=>{for(const j in C){const $=C[j],M=`${w}.${j}`,Q=G(r,M);(a.array.has(w)||!Qu($)||Q&&!Q._f)&&!ps($)?xe(M,$,N):fe(M,$,N)}},ge=(w,C,N={})=>{const j=G(r,w),$=a.array.has(w),M=sn(C);Fe(s,w,M),$?(d.array.next({name:w,values:{...s}}),(c.isDirty||c.dirtyFields)&&N.shouldDirty&&d.state.next({name:w,dirtyFields:Il(i,s),isDirty:z(w,M)})):j&&!j._f&&!xt(M)?xe(w,M,N):fe(w,M,N),Py(w,a)&&d.state.next({...n}),d.values.next({name:o.mount?w:void 0,values:{...s}})},b=async w=>{o.mount=!0;const C=w.target;let N=C.name,j=!0;const $=G(r,N),M=()=>C.type?Od($._f):HD(w),Q=ye=>{j=Number.isNaN(ye)||ye===G(s,N,ye)};if($){let ye,Re;const tt=M(),Bn=w.type===ky.BLUR||w.type===ky.FOCUS_OUT,Hi=!aO($._f)&&!e.resolver&&!G(n.errors,N)&&!$._f.deps||lO(Bn,G(n.touchedFields,N),n.isSubmitted,g,f),so=Py(N,a,Bn);Fe(s,N,tt),Bn?($._f.onBlur&&$._f.onBlur(w),l&&l(0)):$._f.onChange&&$._f.onChange(w);const nn=A(N,tt,Bn,!1),Xa=!Kt(nn)||so;if(!Bn&&d.values.next({name:N,type:w.type,values:{...s}}),Hi)return c.isValid&&I(),Xa&&d.state.next({name:N,...so?{}:nn});if(!Bn&&so&&d.state.next({...n}),e.resolver){const{errors:oo}=await R([N]);if(Q(tt),j){const Ja=Oy(n.errors,r,N),Za=Oy(oo,r,Ja.name||N);ye=Za.error,N=Za.name,Re=Kt(oo)}}else m([N],!0),ye=(await Dy($,s,v,e.shouldUseNativeValidation))[N],m([N]),Q(tt),j&&(ye?Re=!1:c.isValid&&(Re=await O(r,!0)));j&&($._f.deps&&Y($._f.deps),y(N,Re,ye,nn))}},V=(w,C)=>{if(G(n.errors,C)&&w.focus)return w.focus(),1},Y=async(w,C={})=>{let N,j;const $=Ad(w);if(e.resolver){const M=await D(Qe(w)?w:$);N=Kt(M),j=w?!$.some(Q=>G(M,Q)):N}else w?(j=(await Promise.all($.map(async M=>{const Q=G(r,M);return await O(Q&&Q._f?{[M]:Q}:Q)}))).every(Boolean),!(!j&&!n.isValid)&&I()):j=N=await O(r);return d.state.next({...!Un(w)||c.isValid&&N!==n.isValid?{}:{name:w},...e.resolver||!w?{isValid:N}:{},errors:n.errors}),C.shouldFocus&&!j&&Yo(r,V,w?$:a.mount),j},se=w=>{const C={...o.mount?s:i};return Qe(w)?C:Un(w)?G(C,w):w.map(N=>G(C,N))},Z=(w,C)=>({invalid:!!G((C||n).errors,w),isDirty:!!G((C||n).dirtyFields,w),isTouched:!!G((C||n).touchedFields,w),isValidating:!!G((C||n).validatingFields,w),error:G((C||n).errors,w)}),ke=w=>{w&&Ad(w).forEach(C=>nt(n.errors,C)),d.state.next({errors:w?n.errors:{}})},Se=(w,C,N)=>{const j=(G(r,w,{_f:{}})._f||{}).ref,$=G(n.errors,w)||{},{ref:M,message:Q,type:ye,...Re}=$;Fe(n.errors,w,{...Re,...C,ref:j}),d.state.next({name:w,errors:n.errors,isValid:!1}),N&&N.shouldFocus&&j&&j.focus&&j.focus()},Ce=(w,C)=>Ar(w)?d.values.subscribe({next:N=>w(K(void 0,C),N)}):K(w,C,!0),we=(w,C={})=>{for(const N of w?Ad(w):a.mount)a.mount.delete(N),a.array.delete(N),C.keepValue||(nt(r,N),nt(s,N)),!C.keepError&&nt(n.errors,N),!C.keepDirty&&nt(n.dirtyFields,N),!C.keepTouched&&nt(n.touchedFields,N),!C.keepIsValidating&&nt(n.validatingFields,N),!e.shouldUnregister&&!C.keepDefaultValue&&nt(i,N);d.values.next({values:{...s}}),d.state.next({...n,...C.keepDirty?{isDirty:z()}:{}}),!C.keepIsValid&&I()},be=({disabled:w,name:C,field:N,fields:j,value:$})=>{if(Pr(w)&&o.mount||w){const M=w?void 0:Qe($)?Od(N?N._f:G(j,C)._f):$;Fe(s,C,M),A(C,M,!1,!1,!0)}},Rt=(w,C={})=>{let N=G(r,w);const j=Pr(C.disabled);return Fe(r,w,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:w}},name:w,mount:!0,...C}}),a.mount.add(w),N?be({field:N,disabled:C.disabled,name:w,value:C.value}):k(w,!0,C.value),{...j?{disabled:C.disabled}:{},...e.progressive?{required:!!C.required,min:To(C.min),max:To(C.max),minLength:To(C.minLength),maxLength:To(C.maxLength),pattern:To(C.pattern)}:{},name:w,onChange:b,onBlur:b,ref:$=>{if($){Rt(w,C),N=G(r,w);const M=Qe($.value)&&$.querySelectorAll&&$.querySelectorAll("input,select,textarea")[0]||$,Q=sO(M),ye=N._f.refs||[];if(Q?ye.find(Re=>Re===M):M===N._f.ref)return;Fe(r,w,{_f:{...N._f,...Q?{refs:[...ye.filter(Dd),M,...Array.isArray(G(i,w))?[{}]:[]],ref:{type:M.type,name:w}}:{ref:M}}}),k(w,!1,void 0,M)}else N=G(r,w,{}),N._f&&(N._f.mount=!1),(e.shouldUnregister||C.shouldUnregister)&&!(KD(a.array,w)&&o.action)&&a.unMount.add(w)}}},tn=()=>e.shouldFocusError&&Yo(r,V,a.mount),si=w=>{Pr(w)&&(d.state.next({disabled:w}),Yo(r,(C,N)=>{const j=G(r,N);j&&(C.disabled=j._f.disabled||w,Array.isArray(j._f.refs)&&j._f.refs.forEach($=>{$.disabled=j._f.disabled||w}))},0,!1))},Vn=(w,C)=>async N=>{let j;N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let $=sn(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:M,values:Q}=await R();n.errors=M,$=Q}else await O(r);if(nt(n.errors,"root"),Kt(n.errors)){d.state.next({errors:{}});try{await w($,N)}catch(M){j=M}}else C&&await C({...n.errors},N),tn(),setTimeout(tn);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Kt(n.errors)&&!j,submitCount:n.submitCount+1,errors:n.errors}),j)throw j},je=(w,C={})=>{G(r,w)&&(Qe(C.defaultValue)?ge(w,sn(G(i,w))):(ge(w,C.defaultValue),Fe(i,w,sn(C.defaultValue))),C.keepTouched||nt(n.touchedFields,w),C.keepDirty||(nt(n.dirtyFields,w),n.isDirty=C.defaultValue?z(w,sn(G(i,w))):z()),C.keepError||(nt(n.errors,w),c.isValid&&I()),d.state.next({...n}))},pr=(w,C={})=>{const N=w?sn(w):i,j=sn(N),$=Kt(w),M=$?i:j;if(C.keepDefaultValues||(i=N),!C.keepValues){if(C.keepDirtyValues)for(const Q of a.mount)G(n.dirtyFields,Q)?Fe(M,Q,G(s,Q)):ge(Q,G(M,Q));else{if(Sm&&Qe(w))for(const Q of a.mount){const ye=G(r,Q);if(ye&&ye._f){const Re=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(qu(Re)){const tt=Re.closest("form");if(tt){tt.reset();break}}}}r={}}s=t.shouldUnregister?C.keepDefaultValues?sn(i):{}:sn(M),d.array.next({values:{...M}}),d.values.next({values:{...M}})}a={mount:C.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!C.keepIsValid||!!C.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:C.keepSubmitCount?n.submitCount:0,isDirty:$?!1:C.keepDirty?n.isDirty:!!(C.keepDefaultValues&&!yi(w,i)),isSubmitted:C.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:$?[]:C.keepDirtyValues?C.keepDefaultValues&&s?Il(i,s):n.dirtyFields:C.keepDefaultValues&&w?Il(i,w):{},touchedFields:C.keepTouched?n.touchedFields:{},errors:C.keepErrors?n.errors:{},isSubmitSuccessful:C.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},io=(w,C)=>pr(Ar(w)?w(s):w,C);return{control:{register:Rt,unregister:we,getFieldState:Z,handleSubmit:Vn,setError:Se,_executeSchema:R,_getWatch:K,_getDirty:z,_updateValid:I,_removeUnmounted:J,_updateFieldArray:h,_updateDisabledField:be,_getFieldArray:ee,_reset:pr,_resetDefaultValues:()=>Ar(e.defaultValues)&&e.defaultValues().then(w=>{io(w,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:w=>{n={...n,...w}},_disableForm:si,_subjects:d,_proxyFormState:c,_setErrors:E,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(w){o=w},get _defaultValues(){return i},get _names(){return a},set _names(w){a=w},get _formState(){return n},set _formState(w){n=w},get _options(){return e},set _options(w){e={...e,...w}}},trigger:Y,register:Rt,handleSubmit:Vn,watch:Ce,setValue:ge,getValues:se,reset:io,resetField:je,clearErrors:ke,unregister:we,setError:Se,setFocus:(w,C={})=>{const N=G(r,w),j=N&&N._f;if(j){const $=j.refs?j.refs[0]:j.ref;$.focus&&($.focus(),C.shouldSelect&&$.select())}},getFieldState:Z}}function G1(t={}){const e=ie.useRef(),n=ie.useRef(),[r,i]=ie.useState({isDirty:!1,isValidating:!1,isLoading:Ar(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ar(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...dO(t),formState:r});const s=e.current.control;return s._options=t,ZD({subject:s._subjects.state,next:o=>{JD(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),ie.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ie.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),ie.useEffect(()=>{t.values&&!yi(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),ie.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),ie.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ie.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=XD(r,s),e.current}const ah=({text:t,className:e,children:n,...r})=>B.jsxs("button",{className:`rounded-xl bg-blue-500 px-4 py-2 ${e}`,...r,children:[t,n]});var Me="-ms-",Qo="-moz-",Te="-webkit-",K1="comm",Dc="rule",km="decl",fO="@import",q1="@keyframes",hO="@layer",Y1=Math.abs,Rm=String.fromCharCode,lh=Object.assign;function pO(t,e){return dt(t,0)^45?(((e<<2^dt(t,0))<<2^dt(t,1))<<2^dt(t,2))<<2^dt(t,3):0}function Q1(t){return t.trim()}function Gn(t,e){return(t=e.exec(t))?t[0]:t}function ue(t,e,n){return t.replace(e,n)}function Kl(t,e,n){return t.indexOf(e,n)}function dt(t,e){return t.charCodeAt(e)|0}function zs(t,e,n){return t.slice(e,n)}function Mn(t){return t.length}function X1(t){return t.length}function bo(t,e){return e.push(t),t}function mO(t,e){return t.map(e).join("")}function Ly(t,e){return t.filter(function(n){return!Gn(n,e)})}var Oc=1,Vs=1,J1=0,mn=0,Ze=0,ro="";function Lc(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Oc,column:Vs,length:o,return:"",siblings:a}}function wr(t,e){return lh(Lc("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Zi(t){for(;t.root;)t=wr(t.root,{children:[t]});bo(t,t.siblings)}function gO(){return Ze}function vO(){return Ze=mn>0?dt(ro,--mn):0,Vs--,Ze===10&&(Vs=1,Oc--),Ze}function An(){return Ze=mn<J1?dt(ro,mn++):0,Vs++,Ze===10&&(Vs=1,Oc++),Ze}function Si(){return dt(ro,mn)}function ql(){return mn}function Mc(t,e){return zs(ro,t,e)}function uh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yO(t){return Oc=Vs=1,J1=Mn(ro=t),mn=0,[]}function _O(t){return ro="",t}function Ld(t){return Q1(Mc(mn-1,ch(t===91?t+2:t===40?t+1:t)))}function wO(t){for(;(Ze=Si())&&Ze<33;)An();return uh(t)>2||uh(Ze)>3?"":" "}function EO(t,e){for(;--e&&An()&&!(Ze<48||Ze>102||Ze>57&&Ze<65||Ze>70&&Ze<97););return Mc(t,ql()+(e<6&&Si()==32&&An()==32))}function ch(t){for(;An();)switch(Ze){case t:return mn;case 34:case 39:t!==34&&t!==39&&ch(Ze);break;case 40:t===41&&ch(t);break;case 92:An();break}return mn}function SO(t,e){for(;An()&&t+Ze!==57;)if(t+Ze===84&&Si()===47)break;return"/*"+Mc(e,mn-1)+"*"+Rm(t===47?t:An())}function CO(t){for(;!uh(Si());)An();return Mc(t,mn)}function IO(t){return _O(Yl("",null,null,null,[""],t=yO(t),0,[0],t))}function Yl(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,f=0,g=0,v=0,_=1,I=1,m=1,h=0,p="",E=i,k=s,A=r,y=p;I;)switch(v=h,h=An()){case 40:if(v!=108&&dt(y,d-1)==58){Kl(y+=ue(Ld(h),"&","&\f"),"&\f",Y1(u?a[u-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:y+=Ld(h);break;case 9:case 10:case 13:case 32:y+=wO(v);break;case 92:y+=EO(ql()-1,7);continue;case 47:switch(Si()){case 42:case 47:bo(TO(SO(An(),ql()),e,n,l),l);break;default:y+="/"}break;case 123*_:a[u++]=Mn(y)*m;case 125*_:case 59:case 0:switch(h){case 0:case 125:I=0;case 59+c:m==-1&&(y=ue(y,/\f/g,"")),g>0&&Mn(y)-d&&bo(g>32?Fy(y+";",r,n,d-1,l):Fy(ue(y," ","")+";",r,n,d-2,l),l);break;case 59:y+=";";default:if(bo(A=My(y,e,n,u,c,i,a,p,E=[],k=[],d,s),s),h===123)if(c===0)Yl(y,e,A,A,E,s,d,a,k);else switch(f===99&&dt(y,3)===110?100:f){case 100:case 108:case 109:case 115:Yl(t,A,A,r&&bo(My(t,A,A,0,0,i,a,p,i,E=[],d,k),k),i,k,d,a,r?E:k);break;default:Yl(y,A,A,A,[""],k,0,a,k)}}u=c=g=0,_=m=1,p=y="",d=o;break;case 58:d=1+Mn(y),g=v;default:if(_<1){if(h==123)--_;else if(h==125&&_++==0&&vO()==125)continue}switch(y+=Rm(h),h*_){case 38:m=c>0?1:(y+="\f",-1);break;case 44:a[u++]=(Mn(y)-1)*m,m=1;break;case 64:Si()===45&&(y+=Ld(An())),f=Si(),c=d=Mn(p=y+=CO(ql())),h++;break;case 45:v===45&&Mn(y)==2&&(_=0)}}return s}function My(t,e,n,r,i,s,o,a,l,u,c,d){for(var f=i-1,g=i===0?s:[""],v=X1(g),_=0,I=0,m=0;_<r;++_)for(var h=0,p=zs(t,f+1,f=Y1(I=o[_])),E=t;h<v;++h)(E=Q1(I>0?g[h]+" "+p:ue(p,/&\f/g,g[h])))&&(l[m++]=E);return Lc(t,e,n,i===0?Dc:a,l,u,c,d)}function TO(t,e,n,r){return Lc(t,e,n,K1,Rm(gO()),zs(t,2,-2),0,r)}function Fy(t,e,n,r,i){return Lc(t,e,n,km,zs(t,0,r),zs(t,r+1,-1),r,i)}function Z1(t,e,n){switch(pO(t,e)){case 5103:return Te+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Te+t+t;case 4789:return Qo+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Te+t+Qo+t+Me+t+t;case 5936:switch(dt(t,e+11)){case 114:return Te+t+Me+ue(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Te+t+Me+ue(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Te+t+Me+ue(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Te+t+Me+t+t;case 6165:return Te+t+Me+"flex-"+t+t;case 5187:return Te+t+ue(t,/(\w+).+(:[^]+)/,Te+"box-$1$2"+Me+"flex-$1$2")+t;case 5443:return Te+t+Me+"flex-item-"+ue(t,/flex-|-self/g,"")+(Gn(t,/flex-|baseline/)?"":Me+"grid-row-"+ue(t,/flex-|-self/g,""))+t;case 4675:return Te+t+Me+"flex-line-pack"+ue(t,/align-content|flex-|-self/g,"")+t;case 5548:return Te+t+Me+ue(t,"shrink","negative")+t;case 5292:return Te+t+Me+ue(t,"basis","preferred-size")+t;case 6060:return Te+"box-"+ue(t,"-grow","")+Te+t+Me+ue(t,"grow","positive")+t;case 4554:return Te+ue(t,/([^-])(transform)/g,"$1"+Te+"$2")+t;case 6187:return ue(ue(ue(t,/(zoom-|grab)/,Te+"$1"),/(image-set)/,Te+"$1"),t,"")+t;case 5495:case 3959:return ue(t,/(image-set\([^]*)/,Te+"$1$`$1");case 4968:return ue(ue(t,/(.+:)(flex-)?(.*)/,Te+"box-pack:$3"+Me+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Te+t+t;case 4200:if(!Gn(t,/flex-|baseline/))return Me+"grid-column-align"+zs(t,e)+t;break;case 2592:case 3360:return Me+ue(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Gn(r.props,/grid-\w+-end/)})?~Kl(t+(n=n[e].value),"span",0)?t:Me+ue(t,"-start","")+t+Me+"grid-row-span:"+(~Kl(n,"span",0)?Gn(n,/\d+/):+Gn(n,/\d+/)-+Gn(t,/\d+/))+";":Me+ue(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Gn(r.props,/grid-\w+-start/)})?t:Me+ue(ue(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ue(t,/(.+)-inline(.+)/,Te+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mn(t)-1-e>6)switch(dt(t,e+1)){case 109:if(dt(t,e+4)!==45)break;case 102:return ue(t,/(.+:)(.+)-([^]+)/,"$1"+Te+"$2-$3$1"+Qo+(dt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Kl(t,"stretch",0)?Z1(ue(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ue(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,u){return Me+i+":"+s+u+(o?Me+i+"-span:"+(a?l:+l-+s)+u:"")+t});case 4949:if(dt(t,e+6)===121)return ue(t,":",":"+Te)+t;break;case 6444:switch(dt(t,dt(t,14)===45?18:11)){case 120:return ue(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Te+(dt(t,14)===45?"inline-":"")+"box$3$1"+Te+"$2$3$1"+Me+"$2box$3")+t;case 100:return ue(t,":",":"+Me)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ue(t,"scroll-","scroll-snap-")+t}return t}function Ju(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function kO(t,e,n,r){switch(t.type){case hO:if(t.children.length)break;case fO:case km:return t.return=t.return||t.value;case K1:return"";case q1:return t.return=t.value+"{"+Ju(t.children,r)+"}";case Dc:if(!Mn(t.value=t.props.join(",")))return""}return Mn(n=Ju(t.children,r))?t.return=t.value+"{"+n+"}":""}function RO(t){var e=X1(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function PO(t){return function(e){e.root||(e=e.return)&&t(e)}}function NO(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case km:t.return=Z1(t.value,t.length,n);return;case q1:return Ju([wr(t,{value:ue(t.value,"@","@"+Te)})],r);case Dc:if(t.length)return mO(n=t.props,function(i){switch(Gn(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Zi(wr(t,{props:[ue(i,/:(read-\w+)/,":"+Qo+"$1")]})),Zi(wr(t,{props:[i]})),lh(t,{props:Ly(n,r)});break;case"::placeholder":Zi(wr(t,{props:[ue(i,/:(plac\w+)/,":"+Te+"input-$1")]})),Zi(wr(t,{props:[ue(i,/:(plac\w+)/,":"+Qo+"$1")]})),Zi(wr(t,{props:[ue(i,/:(plac\w+)/,Me+"input-$1")]})),Zi(wr(t,{props:[i]})),lh(t,{props:Ly(n,r)});break}return""})}}var xO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gt={},Bs=typeof process<"u"&&Gt!==void 0&&(Gt.REACT_APP_SC_ATTR||Gt.SC_ATTR)||"data-styled",eS="active",tS="data-styled-version",Fc="6.1.11",Pm=`/*!sc*/
`,Nm=typeof window<"u"&&"HTMLElement"in window,AO=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Gt!==void 0&&Gt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Gt.REACT_APP_SC_DISABLE_SPEEDY!==""?Gt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Gt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Gt!==void 0&&Gt.SC_DISABLE_SPEEDY!==void 0&&Gt.SC_DISABLE_SPEEDY!==""&&Gt.SC_DISABLE_SPEEDY!=="false"&&Gt.SC_DISABLE_SPEEDY),Uc=Object.freeze([]),Ws=Object.freeze({});function bO(t,e,n){return n===void 0&&(n=Ws),t.theme!==n.theme&&t.theme||e||n.theme}var nS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),DO=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,OO=/(^-|-$)/g;function Uy(t){return t.replace(DO,"-").replace(OO,"")}var LO=/(a)(d)/gi,Tl=52,$y=function(t){return String.fromCharCode(t+(t>25?39:97))};function dh(t){var e,n="";for(e=Math.abs(t);e>Tl;e=e/Tl|0)n=$y(e%Tl)+n;return($y(e%Tl)+n).replace(LO,"$1-$2")}var Md,rS=5381,ms=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},iS=function(t){return ms(rS,t)};function sS(t){return dh(iS(t)>>>0)}function MO(t){return t.displayName||t.name||"Component"}function Fd(t){return typeof t=="string"&&!0}var oS=typeof Symbol=="function"&&Symbol.for,aS=oS?Symbol.for("react.memo"):60115,FO=oS?Symbol.for("react.forward_ref"):60112,UO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$O={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jO=((Md={})[FO]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Md[aS]=lS,Md);function jy(t){return("type"in(e=t)&&e.type.$$typeof)===aS?lS:"$$typeof"in t?jO[t.$$typeof]:UO;var e}var zO=Object.defineProperty,VO=Object.getOwnPropertyNames,zy=Object.getOwnPropertySymbols,BO=Object.getOwnPropertyDescriptor,WO=Object.getPrototypeOf,Vy=Object.prototype;function uS(t,e,n){if(typeof e!="string"){if(Vy){var r=WO(e);r&&r!==Vy&&uS(t,r,n)}var i=VO(e);zy&&(i=i.concat(zy(e)));for(var s=jy(t),o=jy(e),a=0;a<i.length;++a){var l=i[a];if(!(l in $O||n&&n[l]||o&&l in o||s&&l in s)){var u=BO(e,l);try{zO(t,l,u)}catch{}}}}return t}function Hs(t){return typeof t=="function"}function xm(t){return typeof t=="object"&&"styledComponentId"in t}function _i(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function fh(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Na(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function hh(t,e,n){if(n===void 0&&(n=!1),!n&&!Na(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=hh(t[r],e[r]);else if(Na(e))for(var r in e)t[r]=hh(t[r],e[r]);return t}function Am(t,e){Object.defineProperty(t,"toString",{value:e})}function Qa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var HO=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Qa(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(Pm);return n},t}(),Ql=new Map,Zu=new Map,Xl=1,kl=function(t){if(Ql.has(t))return Ql.get(t);for(;Zu.has(Xl);)Xl++;var e=Xl++;return Ql.set(t,e),Zu.set(e,t),e},GO=function(t,e){Xl=e+1,Ql.set(t,e),Zu.set(e,t)},KO="style[".concat(Bs,"][").concat(tS,'="').concat(Fc,'"]'),qO=new RegExp("^".concat(Bs,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),YO=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},QO=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Pm),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(qO);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(GO(c,u),YO(t,c,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function XO(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var cS=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Bs,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Bs,eS),r.setAttribute(tS,Fc);var o=XO();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},JO=function(){function t(e){this.element=cS(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Qa(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),ZO=function(){function t(e){this.element=cS(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),eL=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),By=Nm,tL={isServer:!Nm,useCSSOMInjection:!AO},dS=function(){function t(e,n,r){e===void 0&&(e=Ws),n===void 0&&(n={});var i=this;this.options=Ut(Ut({},tL),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Nm&&By&&(By=!1,function(s){for(var o=document.querySelectorAll(KO),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(Bs)!==eS&&(QO(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),Am(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(d){var f=function(m){return Zu.get(m)}(d);if(f===void 0)return"continue";var g=s.names.get(f),v=o.getGroup(d);if(g===void 0||v.length===0)return"continue";var _="".concat(Bs,".g").concat(d,'[id="').concat(f,'"]'),I="";g!==void 0&&g.forEach(function(m){m.length>0&&(I+="".concat(m,","))}),l+="".concat(v).concat(_,'{content:"').concat(I,'"}').concat(Pm)},c=0;c<a;c++)u(c);return l}(i)})}return t.registerId=function(e){return kl(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Ut(Ut({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new eL(i):r?new JO(i):new ZO(i)}(this.options),new HO(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(kl(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(kl(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(kl(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),nL=/&/g,rL=/^\s*\/\/.*$/gm;function fS(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=fS(n.children,e)),n})}function iL(t){var e,n,r,i=Ws,s=i.options,o=s===void 0?Ws:s,a=i.plugins,l=a===void 0?Uc:a,u=function(f,g,v){return v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(e):f},c=l.slice();c.push(function(f){f.type===Dc&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(nL,n).replace(r,u))}),o.prefix&&c.push(NO),c.push(kO);var d=function(f,g,v,_){g===void 0&&(g=""),v===void 0&&(v=""),_===void 0&&(_="&"),e=_,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var I=f.replace(rL,""),m=IO(v||g?"".concat(v," ").concat(g," { ").concat(I," }"):I);o.namespace&&(m=fS(m,o.namespace));var h=[];return Ju(m,RO(c.concat(PO(function(p){return h.push(p)})))),h};return d.hash=l.length?l.reduce(function(f,g){return g.name||Qa(15),ms(f,g.name)},rS).toString():"",d}var sL=new dS,ph=iL(),hS=ie.createContext({shouldForwardProp:void 0,styleSheet:sL,stylis:ph});hS.Consumer;ie.createContext(void 0);function Wy(){return P.useContext(hS)}var pS=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=ph);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Am(this,function(){throw Qa(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=ph),this.name+e.hash},t}(),oL=function(t){return t>="A"&&t<="Z"};function Hy(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;oL(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var mS=function(t){return t==null||t===!1||t===""},gS=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!mS(s)&&(Array.isArray(s)&&s.isCss||Hs(s)?r.push("".concat(Hy(i),":"),s,";"):Na(s)?r.push.apply(r,_a(_a(["".concat(i," {")],gS(s),!1),["}"],!1)):r.push("".concat(Hy(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in xO||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ci(t,e,n,r){if(mS(t))return[];if(xm(t))return[".".concat(t.styledComponentId)];if(Hs(t)){if(!Hs(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ci(i,e,n,r)}var s;return t instanceof pS?n?(t.inject(n,r),[t.getName(r)]):[t]:Na(t)?gS(t):Array.isArray(t)?Array.prototype.concat.apply(Uc,t.map(function(o){return Ci(o,e,n,r)})):[t.toString()]}function aL(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Hs(n)&&!xm(n))return!1}return!0}var lL=iS(Fc),uL=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&aL(e),this.componentId=n,this.baseHash=ms(lL,n),this.baseStyle=r,dS.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=_i(i,this.staticRulesId);else{var s=fh(Ci(this.rules,e,n,r)),o=dh(ms(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=_i(i,o),this.staticRulesId=o}else{for(var l=ms(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var d=this.rules[c];if(typeof d=="string")u+=d;else if(d){var f=fh(Ci(d,e,n,r));l=ms(l,f+c),u+=f}}if(u){var g=dh(l>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(u,".".concat(g),void 0,this.componentId)),i=_i(i,g)}}return i},t}(),vS=ie.createContext(void 0);vS.Consumer;var Ud={};function cL(t,e,n){var r=xm(t),i=t,s=!Fd(t),o=e.attrs,a=o===void 0?Uc:o,l=e.componentId,u=l===void 0?function(E,k){var A=typeof E!="string"?"sc":Uy(E);Ud[A]=(Ud[A]||0)+1;var y="".concat(A,"-").concat(sS(Fc+A+Ud[A]));return k?"".concat(k,"-").concat(y):y}(e.displayName,e.parentComponentId):l,c=e.displayName,d=c===void 0?function(E){return Fd(E)?"styled.".concat(E):"Styled(".concat(MO(E),")")}(t):c,f=e.displayName&&e.componentId?"".concat(Uy(e.displayName),"-").concat(e.componentId):e.componentId||u,g=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,v=e.shouldForwardProp;if(r&&i.shouldForwardProp){var _=i.shouldForwardProp;if(e.shouldForwardProp){var I=e.shouldForwardProp;v=function(E,k){return _(E,k)&&I(E,k)}}else v=_}var m=new uL(n,f,r?i.componentStyle:void 0);function h(E,k){return function(A,y,R){var D=A.attrs,O=A.componentStyle,J=A.defaultProps,z=A.foldedComponentIds,K=A.styledComponentId,ee=A.target,fe=ie.useContext(vS),xe=Wy(),ge=A.shouldForwardProp||xe.shouldForwardProp,b=bO(y,fe,J)||Ws,V=function(Ce,we,be){for(var Rt,tn=Ut(Ut({},we),{className:void 0,theme:be}),si=0;si<Ce.length;si+=1){var Vn=Hs(Rt=Ce[si])?Rt(tn):Rt;for(var je in Vn)tn[je]=je==="className"?_i(tn[je],Vn[je]):je==="style"?Ut(Ut({},tn[je]),Vn[je]):Vn[je]}return we.className&&(tn.className=_i(tn.className,we.className)),tn}(D,y,b),Y=V.as||ee,se={};for(var Z in V)V[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&V.theme===b||(Z==="forwardedAs"?se.as=V.forwardedAs:ge&&!ge(Z,Y)||(se[Z]=V[Z]));var ke=function(Ce,we){var be=Wy(),Rt=Ce.generateAndInjectStyles(we,be.styleSheet,be.stylis);return Rt}(O,V),Se=_i(z,K);return ke&&(Se+=" "+ke),V.className&&(Se+=" "+V.className),se[Fd(Y)&&!nS.has(Y)?"class":"className"]=Se,se.ref=R,P.createElement(Y,se)}(p,E,k)}h.displayName=d;var p=ie.forwardRef(h);return p.attrs=g,p.componentStyle=m,p.displayName=d,p.shouldForwardProp=v,p.foldedComponentIds=r?_i(i.foldedComponentIds,i.styledComponentId):"",p.styledComponentId=f,p.target=r?i.target:t,Object.defineProperty(p,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?function(k){for(var A=[],y=1;y<arguments.length;y++)A[y-1]=arguments[y];for(var R=0,D=A;R<D.length;R++)hh(k,D[R],!0);return k}({},i.defaultProps,E):E}}),Am(p,function(){return".".concat(p.styledComponentId)}),s&&uS(p,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),p}function Gy(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Ky=function(t){return Object.assign(t,{isCss:!0})};function yS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hs(t)||Na(t))return Ky(Ci(Gy(Uc,_a([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ci(r):Ky(Ci(Gy(r,e)))}function mh(t,e,n){if(n===void 0&&(n=Ws),!e)throw Qa(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,yS.apply(void 0,_a([i],s,!1)))};return r.attrs=function(i){return mh(t,e,Ut(Ut({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return mh(t,e,Ut(Ut({},n),i))},r}var _S=function(t){return mh(cL,t)},Wi=_S;nS.forEach(function(t){Wi[t]=_S(t)});function bm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=fh(yS.apply(void 0,_a([t],e,!1))),i=sS(r);return new pS(i,r)}const dL={"aria-busy":!0,role:"progressbar"};Wi.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const fL="http://www.w3.org/2000/svg",vn=242.776657104492,hL=1.6,pL=bm`
12.5% {
  stroke-dasharray: ${vn*.14}px, ${vn}px;
  stroke-dashoffset: -${vn*.11}px;
}
43.75% {
  stroke-dasharray: ${vn*.35}px, ${vn}px;
  stroke-dashoffset: -${vn*.35}px;
}
100% {
  stroke-dasharray: ${vn*.01}px, ${vn}px;
  stroke-dashoffset: -${vn*.99}px;
}
`;Wi.path`
  stroke-dasharray: ${vn*.01}px, ${vn};
  stroke-dashoffset: 0;
  animation: ${pL} ${hL}s linear infinite;
`;const mL=bm`
to {
   transform: rotate(360deg);
 }
`;Wi.svg`
  animation: ${mL} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Wi.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const gL=bm`
to {
   stroke-dashoffset: 136;
 }
`;Wi.polygon`
  stroke-dasharray: 17;
  animation: ${gL} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Wi.svg`
  transform-origin: 50% 65%;
`;const vL=({visible:t=!0,width:e="80",height:n="80",wrapperClass:r="",wrapperStyle:i={},ariaLabel:s="discuss-loading",colors:o=["#ff727d","#ff727d"]})=>t?B.jsxs("svg",{width:e,height:n,xmlns:fL,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:r,style:i,"aria-label":s,"data-testid":"discuss-svg",...dL,children:[B.jsx("path",{fill:"none",d:"M82 50A32 32 0 1 1 23.533421623214014 32.01333190873183 L21.71572875253809 21.7157287525381 L32.013331908731814 23.53342162321403 A32 32 0 0 1 82 50",strokeWidth:"5",stroke:o[0]}),B.jsx("circle",{cx:"50",cy:"50",fill:"none",strokeLinecap:"round",r:"20",strokeWidth:"5",stroke:o[1],strokeDasharray:"31.41592653589793 31.41592653589793",transform:"rotate(96 50 50)",children:B.jsx("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"linear",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})})]}):null,gh=({size:t})=>B.jsx(vL,{visible:!0,height:t||40,width:t||40,ariaLabel:"discuss-loading",wrapperStyle:{},wrapperClass:"wrapper-discuss",color:"#ffffff",backgroundColor:"#ffffff"});var yL="firebase",_L="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(yL,_L,"app");const wL={apiKey:"AIzaSyCDyrTC_UbKQw_FrHrs9OyP4LpXC1l4FTc",authDomain:"live-chat-82c81.firebaseapp.com",projectId:"live-chat-82c81",storageBucket:"live-chat-82c81.appspot.com",messagingSenderId:"268540843119",appId:"1:268540843119:web:5849f668aaa3a11b75e99a",measurementId:"G-6L32EH9XCB",databaseURL:"https://live-chat-82c81-default-rtdb.europe-west1.firebasedatabase.app/"},wS=$w(wL),Yr=kx(wS),vh=MD(wS);function ES(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ES(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function br(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ES(t))&&(r&&(r+=" "),r+=e);return r}const xa=t=>typeof t=="number"&&!isNaN(t),Ii=t=>typeof t=="string",Qt=t=>typeof t=="function",Jl=t=>Ii(t)||Qt(t)?t:null,yh=t=>P.isValidElement(t)||Ii(t)||Qt(t)||xa(t);function EL(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function $c(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:f,playToast:g}=o;const v=r?`${e}--${l}`:e,_=r?`${n}--${l}`:n,I=P.useRef(0);return P.useLayoutEffect(()=>{const m=d.current,h=v.split(" "),p=E=>{E.target===d.current&&(g(),m.removeEventListener("animationend",p),m.removeEventListener("animationcancel",p),I.current===0&&E.type!=="animationcancel"&&m.classList.remove(...h))};m.classList.add(...h),m.addEventListener("animationend",p),m.addEventListener("animationcancel",p)},[]),P.useEffect(()=>{const m=d.current,h=()=>{m.removeEventListener("animationend",h),i?EL(m,c,s):c()};f||(u?h():(I.current=1,m.className+=` ${_}`,m.addEventListener("animationend",h)))},[f]),ie.createElement(ie.Fragment,null,a)}}function qy(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const At=new Map;let Aa=[];const _h=new Set,SL=t=>_h.forEach(e=>e(t)),SS=()=>At.size>0;function CS(t,e){var n;if(e)return!((n=At.get(e))==null||!n.isToastActive(t));let r=!1;return At.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function IS(t,e){yh(t)&&(SS()||Aa.push({content:t,options:e}),At.forEach(n=>{n.buildToast(t,e)}))}function Yy(t,e){At.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function CL(t){const{subscribe:e,getSnapshot:n,setProps:r}=P.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(c,d,f){let g=1,v=0,_=[],I=[],m=[],h=d;const p=new Map,E=new Set,k=()=>{m=Array.from(p.values()),E.forEach(R=>R())},A=R=>{I=R==null?[]:I.filter(D=>D!==R),k()},y=R=>{const{toastId:D,onOpen:O,updateId:J,children:z}=R.props,K=J==null;R.staleId&&p.delete(R.staleId),p.set(D,R),I=[...I,R.props.toastId].filter(ee=>ee!==R.staleId),k(),f(qy(R,K?"added":"updated")),K&&Qt(O)&&O(P.isValidElement(z)&&z.props)};return{id:c,props:h,observe:R=>(E.add(R),()=>E.delete(R)),toggle:(R,D)=>{p.forEach(O=>{D!=null&&D!==O.props.toastId||Qt(O.toggle)&&O.toggle(R)})},removeToast:A,toasts:p,clearQueue:()=>{v-=_.length,_=[]},buildToast:(R,D)=>{if((Z=>{let{containerId:ke,toastId:Se,updateId:Ce}=Z;const we=ke?ke!==c:c!==1,be=p.has(Se)&&Ce==null;return we||be})(D))return;const{toastId:O,updateId:J,data:z,staleId:K,delay:ee}=D,fe=()=>{A(O)},xe=J==null;xe&&v++;const ge={...h,style:h.toastStyle,key:g++,...Object.fromEntries(Object.entries(D).filter(Z=>{let[ke,Se]=Z;return Se!=null})),toastId:O,updateId:J,data:z,closeToast:fe,isIn:!1,className:Jl(D.className||h.toastClassName),bodyClassName:Jl(D.bodyClassName||h.bodyClassName),progressClassName:Jl(D.progressClassName||h.progressClassName),autoClose:!D.isLoading&&(b=D.autoClose,V=h.autoClose,b===!1||xa(b)&&b>0?b:V),deleteToast(){const Z=p.get(O),{onClose:ke,children:Se}=Z.props;Qt(ke)&&ke(P.isValidElement(Se)&&Se.props),f(qy(Z,"removed")),p.delete(O),v--,v<0&&(v=0),_.length>0?y(_.shift()):k()}};var b,V;ge.closeButton=h.closeButton,D.closeButton===!1||yh(D.closeButton)?ge.closeButton=D.closeButton:D.closeButton===!0&&(ge.closeButton=!yh(h.closeButton)||h.closeButton);let Y=R;P.isValidElement(R)&&!Ii(R.type)?Y=P.cloneElement(R,{closeToast:fe,toastProps:ge,data:z}):Qt(R)&&(Y=R({closeToast:fe,toastProps:ge,data:z}));const se={content:Y,props:ge,staleId:K};h.limit&&h.limit>0&&v>h.limit&&xe?_.push(se):xa(ee)?setTimeout(()=>{y(se)},ee):y(se)},setProps(R){h=R},setToggle:(R,D)=>{p.get(R).toggle=D},isToastActive:R=>I.some(D=>D===R),getSnapshot:()=>h.newestOnTop?m.reverse():m}}(o,s,SL);At.set(o,l);const u=l.observe(a);return Aa.forEach(c=>IS(c.content,c.options)),Aa=[],()=>{u(),At.delete(o)}},setProps(a){var l;(l=At.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=At.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=P.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:CS,count:i==null?void 0:i.length}}function IL(t){const[e,n]=P.useState(!1),[r,i]=P.useState(!1),s=P.useRef(null),o=P.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:d}=t;var f,g;function v(){n(!0)}function _(){n(!1)}function I(p){const E=s.current;o.canDrag&&E&&(o.didMove=!0,e&&_(),o.delta=t.draggableDirection==="x"?p.clientX-o.start:p.clientY-o.start,o.start!==p.clientX&&(o.canCloseOnClick=!1),E.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,E.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function m(){document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",m);const p=s.current;if(o.canDrag&&o.didMove&&p){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();p.style.transition="transform 0.2s, opacity 0.2s",p.style.removeProperty("transform"),p.style.removeProperty("opacity")}}(g=At.get((f={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||g.setToggle(f.id,f.fn),P.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||_(),window.addEventListener("focus",v),window.addEventListener("blur",_),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",_)}},[t.pauseOnFocusLoss]);const h={onPointerDown:function(p){if(t.draggable===!0||t.draggable===p.pointerType){o.didMove=!1,document.addEventListener("pointermove",I),document.addEventListener("pointerup",m);const E=s.current;o.canCloseOnClick=!0,o.canDrag=!0,E.style.transition="none",t.draggableDirection==="x"?(o.start=p.clientX,o.removalDistance=E.offsetWidth*(t.draggablePercent/100)):(o.start=p.clientY,o.removalDistance=E.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(p){const{top:E,bottom:k,left:A,right:y}=s.current.getBoundingClientRect();p.nativeEvent.type!=="touchend"&&t.pauseOnHover&&p.clientX>=A&&p.clientX<=y&&p.clientY>=E&&p.clientY<=k?_():v()}};return a&&l&&(h.onMouseEnter=_,t.stacked||(h.onMouseLeave=v)),d&&(h.onClick=p=>{c&&c(p),o.canCloseOnClick&&u()}),{playToast:v,pauseToast:_,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:h}}function TL(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:f}=t;const g=s||l&&u===0,v={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(v.transform=`scaleX(${u})`);const _=br("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),I=Qt(o)?o({rtl:c,type:i,defaultClassName:_}):br(_,o),m={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&r()}};return ie.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},ie.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),ie.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:I,style:v,...m}))}let kL=1;const TS=()=>""+kL++;function RL(t){return t&&(Ii(t.toastId)||xa(t.toastId))?t.toastId:TS()}function Xo(t,e){return IS(t,e),e.toastId}function ec(t,e){return{...e,type:e&&e.type||t,toastId:RL(e)}}function Rl(t){return(e,n)=>Xo(e,ec(t,n))}function ve(t,e){return Xo(t,ec("default",e))}ve.loading=(t,e)=>Xo(t,ec("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ve.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Ii(i)?ve.loading(i,n):ve.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,d,f)=>{if(d==null)return void ve.dismiss(r);const g={type:c,...a,...n,data:f},v=Ii(d)?{render:d}:d;return r?ve.update(r,{...g,...v}):ve(v.render,{...g,...v}),f},u=Qt(t)?t():t;return u.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),u},ve.success=Rl("success"),ve.info=Rl("info"),ve.error=Rl("error"),ve.warning=Rl("warning"),ve.warn=ve.warning,ve.dark=(t,e)=>Xo(t,ec("default",{theme:"dark",...e})),ve.dismiss=function(t){(function(e){var n;if(SS()){if(e==null||Ii(n=e)||xa(n))At.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=At.get(e.containerId);r?r.removeToast(e.id):At.forEach(i=>{i.removeToast(e.id)})}}else Aa=Aa.filter(r=>e!=null&&r.options.toastId!==e)})(t)},ve.clearWaitingQueue=function(t){t===void 0&&(t={}),At.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ve.isActive=CS,ve.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=At.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:TS()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Xo(o,s)}},ve.done=t=>{ve.update(t,{progress:1})},ve.onChange=function(t){return _h.add(t),()=>{_h.delete(t)}},ve.play=t=>Yy(!0,t),ve.pause=t=>Yy(!1,t);const PL=typeof window<"u"?P.useLayoutEffect:P.useEffect,Pl=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return ie.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},$d={info:function(t){return ie.createElement(Pl,{...t},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ie.createElement(Pl,{...t},ie.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ie.createElement(Pl,{...t},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ie.createElement(Pl,{...t},ie.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ie.createElement("div",{className:"Toastify__spinner"})}},NL=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=IL(t),{closeButton:o,children:a,autoClose:l,onClick:u,type:c,hideProgressBar:d,closeToast:f,transition:g,position:v,className:_,style:I,bodyClassName:m,bodyStyle:h,progressClassName:p,progressStyle:E,updateId:k,role:A,progress:y,rtl:R,toastId:D,deleteToast:O,isIn:J,isLoading:z,closeOnClick:K,theme:ee}=t,fe=br("Toastify__toast",`Toastify__toast-theme--${ee}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":K}),xe=Qt(_)?_({rtl:R,position:v,type:c,defaultClassName:fe}):br(fe,_),ge=function(se){let{theme:Z,type:ke,isLoading:Se,icon:Ce}=se,we=null;const be={theme:Z,type:ke};return Ce===!1||(Qt(Ce)?we=Ce({...be,isLoading:Se}):P.isValidElement(Ce)?we=P.cloneElement(Ce,be):Se?we=$d.spinner():(Rt=>Rt in $d)(ke)&&(we=$d[ke](be))),we}(t),b=!!y||!l,V={closeToast:f,type:c,theme:ee};let Y=null;return o===!1||(Y=Qt(o)?o(V):P.isValidElement(o)?P.cloneElement(o,V):function(se){let{closeToast:Z,theme:ke,ariaLabel:Se="close"}=se;return ie.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ke}`,type:"button",onClick:Ce=>{Ce.stopPropagation(),Z(Ce)},"aria-label":Se},ie.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ie.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(V)),ie.createElement(g,{isIn:J,done:O,position:v,preventExitTransition:n,nodeRef:r,playToast:s},ie.createElement("div",{id:D,onClick:u,"data-in":J,className:xe,...i,style:I,ref:r},ie.createElement("div",{...J&&{role:A},className:Qt(m)?m({type:c}):br("Toastify__toast-body",m),style:h},ge!=null&&ie.createElement("div",{className:br("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!z})},ge),ie.createElement("div",null,a)),Y,ie.createElement(TL,{...k&&!b?{key:`pb-${k}`}:{},rtl:R,theme:ee,delay:l,isRunning:e,isIn:J,closeToast:f,hide:d,type:c,style:E,className:p,controlledProgress:b,progress:y||0})))},jc=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},xL=$c(jc("bounce",!0));$c(jc("slide",!0));$c(jc("zoom"));$c(jc("flip"));const AL={position:"top-right",transition:xL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function kS(t){let e={...AL,...t};const n=t.stacked,[r,i]=P.useState(!0),s=P.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=CL(e),{className:u,style:c,rtl:d,containerId:f}=e;function g(_){const I=br("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":d});return Qt(u)?u({position:_,rtl:d,defaultClassName:I}):br(I,Jl(u))}function v(){n&&(i(!0),ve.play())}return PL(()=>{if(n){var _;const I=s.current.querySelectorAll('[data-in="true"]'),m=12,h=(_=e.position)==null?void 0:_.includes("top");let p=0,E=0;Array.from(I).reverse().forEach((k,A)=>{const y=k;y.classList.add("Toastify__toast--stacked"),A>0&&(y.dataset.collapsed=`${r}`),y.dataset.pos||(y.dataset.pos=h?"top":"bot");const R=p*(r?.2:1)+(r?0:m*A);y.style.setProperty("--y",`${h?R:-1*R}px`),y.style.setProperty("--g",`${m}`),y.style.setProperty("--s",""+(1-(r?E:0))),p+=y.offsetHeight,E+=.025})}},[r,l,n]),ie.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(i(!1),ve.pause())},onMouseLeave:v},o((_,I)=>{const m=I.length?{...c}:{...c,pointerEvents:"none"};return ie.createElement("div",{className:g(_),style:m,key:`container-${_}`},I.map(h=>{let{content:p,props:E}=h;return ie.createElement(NL,{...E,stacked:n,collapseAll:v,isIn:a(E.toastId,E.containerId),style:E.style,key:`toast-${E.key}`},p)}))}))}const bL=new qn,DL=async(t,e,n)=>{(!t||!e)&&ve.error("Please enter email and password",{position:"top-right",autoClose:1500});try{await cN(Yr,t,e),ve.success("Successfully logged in",{position:"top-right",autoClose:1500,onClose:n})}catch(r){ve.error("Invalid Email or Password",{position:"top-right",autoClose:1500}),console.log(r.message)}},OL=async t=>{try{await LN(Yr,bL),ve.success("Successfully signed in with Google!",{position:"top-right",autoClose:500,onClose:t})}catch{ve.error("Error signing in with Google",{position:"top-right",autoClose:500})}},LL=async()=>{try{pN(Yr),ve.success("Successfully signed out",{position:"top-right",autoClose:500})}catch(t){console.log(t.message),ve.error("Error signing out",{position:"top-right",autoClose:500})}},ML=""+new URL("notification-BFeSb6fL.mp3",import.meta.url).href,FL=async t=>{if(!t)return;const e=new Date,n=`${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`,r=new Audio(ML);try{const i=Yr.currentUser.displayName||Yr.currentUser.email,s={id:Date.now(),message:t,author:i,time:n};console.log(s),await TD(sh(vh,"messages/"),s),r.play()}catch(i){console.log(i.message)}},UL=()=>{const[t,e]=P.useState(!1),[n,r]=P.useState({}),{register:i,handleSubmit:s,reset:o}=G1(),a=Sp(),l=P.useRef(null),u=()=>{LL(),a("/")},c=async()=>{e(!0);const g=sh(vh,"messages");PD(g,v=>{const _=v.val();r(_),e(!1)})};P.useEffect(()=>{hN(Yr,g=>!g&&a("/")),c()},[Yr]),P.useEffect(()=>{var g;return(g=l.current)==null?void 0:g.scrollIntoView({behavior:"smooth"})},[n]);const d=(g,v)=>{v.preventDefault(),g.message&&(FL(g.message),c(),o())},f=async g=>{const v=Object.keys(n)[g];await kD(sh(vh,`messages/${v}`)),c()};return B.jsx("section",{children:B.jsxs("div",{className:"container myflex",children:[B.jsx("h1",{className:"mb-10 text-5xl font-bold",children:"Chat"}),t?B.jsx(gh,{size:150}):B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"flex min-h-[80vh] w-full flex-col gap-5",children:[n&&Object.values(n).map((g,v)=>B.jsxs("div",{className:"grid w-full max-w-[50%] odd:ml-auto odd:justify-end even:mr-auto",children:[B.jsxs("div",{className:`grid rounded-xl ${v%2===0?"justify-end":"justify-start"}`,children:[B.jsxs("div",{className:"flex max-w-[150px] items-center justify-between gap-2",children:[B.jsx("span",{className:"text-xs text-red-500",children:g.time}),B.jsx(WD,{className:"cursor-pointer duration-300 hover:text-red-500",size:16,onClick:()=>f(v)})]}),B.jsx("h2",{className:"text-xl text-green-500",children:g.author})]}),B.jsx("p",{className:"w-full",children:g.message})]},v)),B.jsx("div",{ref:l})]}),B.jsx("form",{className:"w-full py-10",onSubmit:s(d),children:B.jsxs("div",{className:"relative flex w-full items-center gap-2",children:[B.jsx(ah,{className:"whitespace-nowrap bg-red-600 py-4",text:"Sign Out",onClick:u,type:"button"}),B.jsx("label",{className:"w-full",children:B.jsx("input",{className:"myInput w-full rounded-xl pr-[50px]",placeholder:"Message",required:!0,name:"message",autoFocus:!0,type:"text",min:{value:2,message:"Message must be at least 3 characters"},...i("message")})}),B.jsx(BD,{className:"-translate-x-[50px]",size:40,onClick:s(d)})]})})]})]})})};var Qy=function(t){var e=t.as,n=t.errors,r=t.name,i=t.message,s=t.render,o=function(f,g){if(f==null)return{};var v,_,I={},m=Object.keys(f);for(_=0;_<m.length;_++)g.indexOf(v=m[_])>=0||(I[v]=f[v]);return I}(t,["as","errors","name","message","render"]),a=QD(),l=G(n||a.formState.errors,r);if(!l)return null;var u=l.message,c=l.types,d=Object.assign({},o,{children:u||i});return P.isValidElement(e)?P.cloneElement(e,d):s?s({message:u||i,messages:c}):P.createElement(e||P.Fragment,d)};const $L={required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"},minLength:{value:3,message:"Email must be at least 3 characters"},maxLength:{value:25,message:"Email must be at most 25 characters"}},RS=({type:t})=>{const[e,n]=P.useState(!1),[r,i]=P.useState(!1),s=Sp(),{register:o,handleSubmit:a,watch:l,reset:u,formState:{errors:c}}=G1(),d=()=>{i(!r)},f=async(g,v)=>{if(v.preventDefault(),t==="register"){n(!0);try{await uN(Yr,g.email,g.password),ve.success("Successfully created user",{position:"top-right",autoClose:1500,onClose:setTimeout(()=>s("/"),1500)}),u()}catch(_){console.log(_.message),ve.error("User already exists",{position:"top-right",autoClose:1500})}finally{n(!1)}}if(t==="login"){n(!0);try{await DL(g.email,g.password,()=>s("/chat")),u()}catch(_){ve.error(_.message,{position:"top-right",autoClose:1500})}finally{n(!1)}}};return B.jsxs("form",{className:"grid w-full max-w-[400px] gap-5",onSubmit:a(f),children:[B.jsxs("label",{className:"grid w-full gap-1",children:[B.jsx("span",{children:"Email"}),B.jsx("input",{className:"myInput",placeholder:"Email",type:"email",name:"email",autoComplete:"email",...o("email",{value:l("email"),...$L})}),B.jsx(Qy,{errors:c,name:"email",render:({message:g})=>B.jsx("p",{className:"text-red-500",children:g})})]}),B.jsxs("label",{className:"grid w-full gap-1",children:[B.jsx("span",{children:"Password"}),B.jsxs("div",{className:"relative",children:[B.jsx("input",{className:"myInput !pr-12",placeholder:"Password",autoComplete:"current-password",type:r?"text":"password",name:"password",required:!0,...o("password",{value:l("password"),required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"},maxLength:{value:20,message:"Password must be at most 20 characters"},pattern:{value:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{6,20}$/,message:"Password must contain at least one uppercase letter, one lowercase letter, and one number"}})}),B.jsx(VD,{className:"absolute right-4 top-1/2 -translate-y-1/2 cursor-pointer duration-300 hover:text-red-500",onClick:d})]}),B.jsx(Qy,{errors:c,name:"password",render:({message:g})=>B.jsx("p",{className:"text-red-500",children:g})})]}),B.jsx(ah,{className:"mt-5 flex items-center justify-center gap-3",onClick:a(f),type:"submit",text:`${t==="login"&&!e?"Sign In":t==="register"&&!e?"Sign Up":"Loading..."}`,children:e&&B.jsx(gh,{})}),t==="login"&&B.jsx(ah,{className:"mt-5 flex items-center justify-center gap-3",type:"button",text:e?"Loading...":"Sign In with Google",onClick:()=>OL(setTimeout(s("/chat"),1e3)),children:e&&B.jsx(gh,{})}),B.jsx(kS,{})]})},PS=()=>B.jsx("section",{children:B.jsxs("div",{className:"container flex flex-col items-center justify-center min-h-screen",children:[B.jsx("h1",{className:"mb-5 text-center text-5xl",children:"Welcome To Live Chat"}),B.jsxs("div",{className:"mb-10 flex items-center gap-2.5",children:[B.jsx("span",{children:"New to this site?"}),B.jsx(kw,{className:"text-blue-500",to:"/sign-up",children:"Sign Up"})]}),B.jsx(RS,{type:"login"})]})}),jL=()=>B.jsx("main",{children:B.jsx("section",{children:B.jsxs("div",{className:"container myflex",children:[B.jsx("h1",{className:"mb-5 text-5xl",children:"Sign Up"}),B.jsxs("div",{className:"flex items-center gap-2.5",children:[B.jsx("span",{children:"Allready have an account?"}),B.jsx(kw,{className:"text-blue-500",to:"/",children:"Sign In"})]}),B.jsx(RS,{type:"register"})]})})}),zL=Sk([{path:"/",element:B.jsx(PS,{})},{path:"/sign-up",element:B.jsx(jL,{})},{path:"/chat",element:B.jsx(UL,{})}]),VL=({children:t})=>B.jsx(Ak,{className:"wrapper",router:zL,children:t});jd.createRoot(document.getElementById("root")).render(B.jsxs(VL,{children:[B.jsx(PS,{}),B.jsx(kS,{})]}));
